/*! For license information please see hglib.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("pixi.js")):"function"==typeof define&&define.amd?define(["react","react-dom","pixi.js"],t):"object"==typeof exports?exports.hglib=t(require("react"),require("react-dom"),require("pixi.js")):e.hglib=t(e.React,e.ReactDOM,e.PIXI)}(window,(function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=317)}([function(e,t,n){"use strict";n.r(t);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.hasOwnProperty(t)?{space:i[t],local:e}:e};function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var l=function(e){var t=o(e);return(t.local?s:a)(t)};function u(){}var c=function(e){return null==e?u:function(){return this.querySelector(e)}};function h(){return[]}var d=function(e){return null==e?h:function(){return this.querySelectorAll(e)}},f=function(e){return function(){return this.matches(e)}},p=function(e){return new Array(e.length)};function m(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}m.prototype={constructor:m,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function v(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new m(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function g(e,t,n,r,i,o,a){var s,l,u,c={},h=t.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(f[s]=u="$"+a.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<d;++s)(l=c[u="$"+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],c[u]=null):n[s]=new m(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&c[f[s]]===l&&(i[s]=l)}function y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function b(e){return function(){this.removeAttribute(e)}}function _(e){return function(){this.removeAttributeNS(e.space,e.local)}}function T(e,t){return function(){this.setAttribute(e,t)}}function S(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function k(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function w(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var x=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function E(e){return function(){this.style.removeProperty(e)}}function C(e,t,n){return function(){this.style.setProperty(e,t,n)}}function O(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function A(e,t){return e.style.getPropertyValue(t)||x(e).getComputedStyle(e,null).getPropertyValue(t)}function M(e){return function(){delete this[e]}}function P(e,t){return function(){this[e]=t}}function I(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function L(e){return e.trim().split(/^|\s+/)}function R(e){return e.classList||new D(e)}function D(e){this._node=e,this._names=L(e.getAttribute("class")||"")}function N(e,t){for(var n=R(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function j(e,t){for(var n=R(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function H(e){return function(){N(this,e)}}function B(e){return function(){j(this,e)}}function F(e,t){return function(){(t.apply(this,arguments)?N:j)(this,e)}}D.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function z(){this.textContent=""}function V(e){return function(){this.textContent=e}}function U(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function G(){this.innerHTML=""}function Y(e){return function(){this.innerHTML=e}}function W(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function q(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function $(){var e=this.parentNode;e&&e.removeChild(this)}function Z(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Q(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var J={},ee=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(J={mouseenter:"mouseover",mouseleave:"mouseout"}));function te(e,t,n){return e=ne(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ne(e,t,n){return function(r){var i=ee;ee=r;try{e.call(this,this.__data__,t,n)}finally{ee=i}}}function re(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ie(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function oe(e,t,n){var r=J.hasOwnProperty(e.type)?te:ne;return function(i,o,a){var s,l=this.__on,u=r(t,o,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function ae(e,t,n,r){var i=ee;e.sourceEvent=ee,ee=e;try{return t.apply(n,r)}finally{ee=i}}function se(e,t,n){var r=x(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function le(e,t){return function(){return se(this,e,t)}}function ue(e,t){return function(){return se(this,e,t.apply(this,arguments))}}var ce=[null];function he(e,t){this._groups=e,this._parents=t}function de(){return new he([[document.documentElement]],ce)}he.prototype=de.prototype={constructor:he,select:function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=new Array(l),h=0;h<l;++h)(o=s[h])&&(a=e.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new he(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new he(r,i)},filter:function(e){"function"!=typeof e&&(e=f(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new he(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?g:v,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var h=i[c],d=o[c],f=d.length,p=e.call(h,h&&h.__data__,c,i),m=p.length,y=l[c]=new Array(m),b=s[c]=new Array(m);r(h,d,y,b,u[c]=new Array(f),p,t);for(var _,T,S=0,k=0;S<m;++S)if(_=y[S]){for(S>=k&&(k=S+1);!(T=b[k])&&++k<m;);_._next=T||null}}return(s=new he(s,i))._enter=l,s._exit=u,s},enter:function(){return new he(this._enter||this._groups.map(p),this._parents)},exit:function(){return new he(this._exit||this._groups.map(p),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],h=u.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=u[f]||c[f])&&(d[f]=l);for(;s<r;++s)a[s]=t[s];return new he(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=y);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new he(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=o(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?_:b:"function"==typeof t?n.local?w:k:n.local?S:T)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?E:"function"==typeof t?O:C)(e,t,null==n?"":n)):A(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?M:"function"==typeof t?I:P)(e,t)):this.node()[e]},classed:function(e,t){var n=L(e+"");if(arguments.length<2){for(var r=R(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?F:t?H:B)(n,t))},text:function(e){return arguments.length?this.each(null==e?z:("function"==typeof e?U:V)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?G:("function"==typeof e?W:Y)(e)):this.node().innerHTML},raise:function(){return this.each(q)},lower:function(){return this.each(X)},append:function(e){var t="function"==typeof e?e:l(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:l(e),r=null==t?K:"function"==typeof t?t:c(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each($)},clone:function(e){return this.select(e?Q:Z)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=re(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?oe:ie,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?ue:le)(e,t))}};var fe=de,pe=function(e){return"string"==typeof e?new he([[document.querySelector(e)]],[document.documentElement]):new he([[e]],ce)},me=function(e){return pe(l(e).call(document.documentElement))},ve=0;function ge(){return new ye}function ye(){this._="@"+(++ve).toString(36)}ye.prototype=ge.prototype={constructor:ye,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var be=function(){for(var e,t=ee;e=t.sourceEvent;)t=e;return t},_e=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},Te=function(e){var t=be();return t.changedTouches&&(t=t.changedTouches[0]),_e(e,t)},Se=function(e){return"string"==typeof e?new he([document.querySelectorAll(e)],[document.documentElement]):new he([null==e?[]:e],ce)},ke=function(e,t,n){arguments.length<3&&(n=t,t=be().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return _e(e,r);return null},we=function(e,t){null==t&&(t=be().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=_e(e,t[n]);return i};n.d(t,"create",(function(){return me})),n.d(t,"creator",(function(){return l})),n.d(t,"local",(function(){return ge})),n.d(t,"matcher",(function(){return f})),n.d(t,"mouse",(function(){return Te})),n.d(t,"namespace",(function(){return o})),n.d(t,"namespaces",(function(){return i})),n.d(t,"clientPoint",(function(){return _e})),n.d(t,"select",(function(){return pe})),n.d(t,"selectAll",(function(){return Se})),n.d(t,"selection",(function(){return fe})),n.d(t,"selector",(function(){return c})),n.d(t,"selectorAll",(function(){return d})),n.d(t,"style",(function(){return A})),n.d(t,"touch",(function(){return ke})),n.d(t,"touches",(function(){return we})),n.d(t,"window",(function(){return x})),n.d(t,"event",(function(){return ee})),n.d(t,"customEvent",(function(){return ae}))},function(t,n){t.exports=e},function(e,t,n){e.exports=n(568)()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(131),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(558),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(94),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(331)),i=a(n(565)),o=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=o.left,l=a,u=function(e,t){null==t&&(t=c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function c(e,t){return[e,t]}var h=function(e,t,n){var r,i,o,a,s=e.length,l=t.length,u=new Array(s*l);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=e[r],i=0;i<l;++i,++o)u[o]=n(a,t[i]);return u},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},f=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=f(e[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=f(t(e[a],a,e)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},v=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,y=g.slice,b=g.map,_=function(e){return function(){return e}},T=function(e){return e},S=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},k=Math.sqrt(50),w=Math.sqrt(10),x=Math.sqrt(2),E=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=C(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function C(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=k?10:o>=w?5:o>=x?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=k?10:o>=w?5:o>=x?2:1)}function O(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=k?i*=10:o>=w?i*=5:o>=x&&(i*=2),t<e?-i:i}var A=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},M=function(){var e=T,t=v,n=A;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var u=t(s),c=u[0],h=u[1],d=n(s,c,h);Array.isArray(d)||(d=O(c,h,d),d=S(Math.ceil(c/d)*d,h,d));for(var f=d.length;d[0]<=c;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,m=new Array(f+1);for(i=0;i<=f;++i)(p=m[i]=[]).x0=i>0?d[i-1]:c,p.x1=i<f?d[i]:h;for(i=0;i<a;++i)c<=(o=s[i])&&o<=h&&m[l(d,o,0,f)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:_(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:_([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?_(y.call(e)):_(e),r):n},r},P=function(e,t,n){if(null==n&&(n=f),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},I=function(e,t,n){return e=b.call(e,f).sort(r),Math.ceil((n-t)/(2*(P(e,.75)-P(e,.25))*Math.pow(e.length,-1/3)))},L=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},R=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},D=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=f(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=f(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},N=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=f(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=f(t(e[o],o,e)))||a.push(n);return P(a.sort(r),.5)},j=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},H=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},F=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},z=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},V=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},U=function(e){if(!(i=e.length))return[];for(var t=-1,n=H(e,G),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function G(e){return e.length}var Y=function(){return U(arguments)};n.d(t,"bisect",(function(){return l})),n.d(t,"bisectRight",(function(){return a})),n.d(t,"bisectLeft",(function(){return s})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return h})),n.d(t,"descending",(function(){return d})),n.d(t,"deviation",(function(){return m})),n.d(t,"extent",(function(){return v})),n.d(t,"histogram",(function(){return M})),n.d(t,"thresholdFreedmanDiaconis",(function(){return I})),n.d(t,"thresholdScott",(function(){return L})),n.d(t,"thresholdSturges",(function(){return A})),n.d(t,"max",(function(){return R})),n.d(t,"mean",(function(){return D})),n.d(t,"median",(function(){return N})),n.d(t,"merge",(function(){return j})),n.d(t,"min",(function(){return H})),n.d(t,"pairs",(function(){return u})),n.d(t,"permute",(function(){return B})),n.d(t,"quantile",(function(){return P})),n.d(t,"range",(function(){return S})),n.d(t,"scan",(function(){return F})),n.d(t,"shuffle",(function(){return z})),n.d(t,"sum",(function(){return V})),n.d(t,"ticks",(function(){return E})),n.d(t,"tickIncrement",(function(){return C})),n.d(t,"tickStep",(function(){return O})),n.d(t,"transpose",(function(){return U})),n.d(t,"variance",(function(){return p})),n.d(t,"zip",(function(){return Y}))},function(e,t,n){"use strict";n.r(t);var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a=.7,s=1/a,l="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3})$/,d=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),m=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),y=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(e){var t;return e=(e+"").trim().toLowerCase(),(t=h.exec(e))?new x((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=d.exec(e))?T(parseInt(t[1],16)):(t=f.exec(e))?new x(t[1],t[2],t[3],1):(t=p.exec(e))?new x(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=m.exec(e))?S(t[1],t[2],t[3],t[4]):(t=v.exec(e))?S(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?T(b[e]):"transparent"===e?new x(NaN,NaN,NaN,0):null}function T(e){return new x(e>>16&255,e>>8&255,255&e,1)}function S(e,t,n,r){return r<=0&&(e=t=n=NaN),new x(e,t,n,r)}function k(e){return e instanceof o||(e=_(e)),e?new x((e=e.rgb()).r,e.g,e.b,e.opacity):new x}function w(e,t,n,r){return 1===arguments.length?k(e):new x(e,t,n,null==r?1:r)}function x(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function C(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new M(e,t,n,r)}function O(e){if(e instanceof M)return new M(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=_(e)),!e)return new M;if(e instanceof M)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new M(s,l,u,e.opacity)}function A(e,t,n,r){return 1===arguments.length?O(e):new M(e,t,n,null==r?1:r)}function M(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,_,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(x,w,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new x(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new x(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+E(this.r)+E(this.g)+E(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),r(M,A,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new M(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new M(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new x(P(e>=240?e-240:e+120,i,r),P(e,i,r),P(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var I=Math.PI/180,L=180/Math.PI,R=.96422,D=.82521,N=4/29,j=6/29,H=3*j*j;function B(e){if(e instanceof V)return new V(e.l,e.a,e.b,e.opacity);if(e instanceof $){if(isNaN(e.h))return new V(e.l,0,0,e.opacity);var t=e.h*I;return new V(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof x||(e=k(e));var n,r,i=W(e.r),o=W(e.g),a=W(e.b),s=U((.2225045*i+.7168786*o+.0606169*a)/1);return i===o&&o===a?n=r=s:(n=U((.4360747*i+.3850649*o+.1430804*a)/R),r=U((.0139322*i+.0971045*o+.7141733*a)/D)),new V(116*s-16,500*(n-s),200*(s-r),e.opacity)}function F(e,t){return new V(e,0,0,null==t?1:t)}function z(e,t,n,r){return 1===arguments.length?B(e):new V(e,t,n,null==r?1:r)}function V(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function U(e){return e>.008856451679035631?Math.pow(e,1/3):e/H+N}function G(e){return e>j?e*e*e:H*(e-N)}function Y(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function W(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function q(e){if(e instanceof $)return new $(e.h,e.c,e.l,e.opacity);if(e instanceof V||(e=B(e)),0===e.a&&0===e.b)return new $(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*L;return new $(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function X(e,t,n,r){return 1===arguments.length?q(e):new $(n,t,e,null==r?1:r)}function K(e,t,n,r){return 1===arguments.length?q(e):new $(e,t,n,null==r?1:r)}function $(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}r(V,z,i(o,{brighter:function(e){return new V(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new V(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new x(Y(3.1338561*(t=R*G(t))-1.6168667*(e=1*G(e))-.4906146*(n=D*G(n))),Y(-.9787684*t+1.9161415*e+.033454*n),Y(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),r($,K,i(o,{brighter:function(e){return new $(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new $(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return B(this).rgb()}}));var Z=-.14861,Q=1.78277,J=-.29227,ee=-.90649,te=1.97294,ne=te*ee,re=te*Q,ie=Q*J-ee*Z;function oe(e){if(e instanceof se)return new se(e.h,e.s,e.l,e.opacity);e instanceof x||(e=k(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ie*r+ne*t-re*n)/(ie+ne-re),o=r-i,a=(te*(n-i)-J*o)/ee,s=Math.sqrt(a*a+o*o)/(te*i*(1-i)),l=s?Math.atan2(a,o)*L-120:NaN;return new se(l<0?l+360:l,s,i,e.opacity)}function ae(e,t,n,r){return 1===arguments.length?oe(e):new se(e,t,n,null==r?1:r)}function se(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r(se,ae,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new se(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new se(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*I,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new x(255*(t+n*(Z*r+Q*i)),255*(t+n*(J*r+ee*i)),255*(t+n*(te*r)),this.opacity)}})),n.d(t,"color",(function(){return _})),n.d(t,"rgb",(function(){return w})),n.d(t,"hsl",(function(){return A})),n.d(t,"lab",(function(){return z})),n.d(t,"hcl",(function(){return K})),n.d(t,"lch",(function(){return X})),n.d(t,"gray",(function(){return F})),n.d(t,"cubehelix",(function(){return ae}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(527);Object.defineProperty(t,"absToChr",{enumerable:!0,get:function(){return Re(r).default}});var i=n(528);Object.defineProperty(t,"accessorTransposition",{enumerable:!0,get:function(){return Re(i).default}});var o=n(529);Object.defineProperty(t,"addArrays",{enumerable:!0,get:function(){return Re(o).default}});var a=n(530);Object.defineProperty(t,"addClass",{enumerable:!0,get:function(){return Re(a).default}});var s=n(531);Object.defineProperty(t,"base64ToCanvas",{enumerable:!0,get:function(){return Re(s).default}});var l=n(532);Object.defineProperty(t,"chromInfoBisector",{enumerable:!0,get:function(){return Re(l).default}});var u=n(533);Object.defineProperty(t,"chrToAbs",{enumerable:!0,get:function(){return Re(u).default}});var c=n(323);Object.defineProperty(t,"cloneEvent",{enumerable:!0,get:function(){return Re(c).default}});var h=n(534);Object.defineProperty(t,"colorDomainToRgbaArray",{enumerable:!0,get:function(){return Re(h).default}});var d=n(535);Object.defineProperty(t,"colorToHex",{enumerable:!0,get:function(){return Re(d).default}});var f=n(536);Object.defineProperty(t,"colorToRgba",{enumerable:!0,get:function(){return Re(f).default}});var p=n(326);Object.defineProperty(t,"dataToGenomicLoci",{enumerable:!0,get:function(){return Re(p).default}});var m=n(537);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return Re(m).default}});var v=n(538);Object.defineProperty(t,"decToHexStr",{enumerable:!0,get:function(){return Re(v).default}});var g=n(539);Object.defineProperty(t,"dictFromTuples",{enumerable:!0,get:function(){return Re(g).default}});var y=n(540);Object.defineProperty(t,"dictItems",{enumerable:!0,get:function(){return Re(y).default}});var b=n(541);Object.defineProperty(t,"dictKeys",{enumerable:!0,get:function(){return Re(b).default}});var _=n(542);Object.defineProperty(t,"dictValues",{enumerable:!0,get:function(){return Re(_).default}});var T=n(543);Object.defineProperty(t,"download",{enumerable:!0,get:function(){return Re(T).default}});var S=n(544);Object.defineProperty(t,"fillInMinWidths",{enumerable:!0,get:function(){return Re(S).default}});var k=n(890);Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return Re(k).default}});var w=n(891);Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return Re(w).default}});var x=n(892);Object.defineProperty(t,"forwardEvent",{enumerable:!0,get:function(){return Re(x).default}});var E=n(893);Object.defineProperty(t,"genomeLociToPixels",{enumerable:!0,get:function(){return Re(E).default}});var C=n(894);Object.defineProperty(t,"genomicRangeToChromosomeChunks",{enumerable:!0,get:function(){return Re(C).default}});var O=n(895);Object.defineProperty(t,"getDefaultTrackForDatatype",{enumerable:!0,get:function(){return Re(O).default}});var A=n(896);Object.defineProperty(t,"getElementDim",{enumerable:!0,get:function(){return Re(A).default}});var M=n(897);Object.defineProperty(t,"getTrackByUid",{enumerable:!0,get:function(){return Re(M).default}});var P=n(898);Object.defineProperty(t,"getTrackConfFromHGC",{enumerable:!0,get:function(){return Re(P).default}});var I=n(899);Object.defineProperty(t,"getTrackObjById",{enumerable:!0,get:function(){return Re(I).default}});var L=n(900);Object.defineProperty(t,"getTrackPositionByUid",{enumerable:!0,get:function(){return Re(L).default}});var R=n(441);Object.defineProperty(t,"getXylofon",{enumerable:!0,get:function(){return Re(R).default}});var D=n(901);Object.defineProperty(t,"gradient",{enumerable:!0,get:function(){return Re(D).default}});var N=n(221);Object.defineProperty(t,"hasClass",{enumerable:!0,get:function(){return Re(N).default}});var j=n(902);Object.defineProperty(t,"hasParent",{enumerable:!0,get:function(){return Re(j).default}});var H=n(903);Object.defineProperty(t,"hexStrToInt",{enumerable:!0,get:function(){return Re(H).default}});var B=n(904);Object.defineProperty(t,"intoTheVoid",{enumerable:!0,get:function(){return Re(B).default}});var F=n(905);Object.defineProperty(t,"isTrackOrChildTrack",{enumerable:!0,get:function(){return Re(F).default}});var z=n(906);Object.defineProperty(t,"isWithin",{enumerable:!0,get:function(){return Re(z).default}});var V=n(907);Object.defineProperty(t,"latToY",{enumerable:!0,get:function(){return Re(V).default}});var U=n(908);Object.defineProperty(t,"loadChromInfos",{enumerable:!0,get:function(){return Re(U).default}});var G=n(909);Object.defineProperty(t,"lngToX",{enumerable:!0,get:function(){return Re(G).default}});var Y=n(442);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Re(Y).default}});var W=n(910);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return Re(W).default}});var q=n(911);Object.defineProperty(t,"maxNonZero",{enumerable:!0,get:function(){return Re(q).default}});var X=n(912);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return Re(X).default}});var K=n(913);Object.defineProperty(t,"minNonZero",{enumerable:!0,get:function(){return Re(K).default}});var $=n(914);Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return Re($).default}});var Z=n(915);Object.defineProperty(t,"ndarrayAssign",{enumerable:!0,get:function(){return Re(Z).default}});var Q=n(916);Object.defineProperty(t,"ndarrayFlatten",{enumerable:!0,get:function(){return Re(Q).default}});var J=n(445);Object.defineProperty(t,"ndarrayToList",{enumerable:!0,get:function(){return Re(J).default}});var ee=n(917);Object.defineProperty(t,"numericifyVersion",{enumerable:!0,get:function(){return Re(ee).default}});var te=n(918);Object.defineProperty(t,"objVals",{enumerable:!0,get:function(){return Re(te).default}});var ne=n(919);Object.defineProperty(t,"or",{enumerable:!0,get:function(){return Re(ne).default}});var re=n(920);Object.defineProperty(t,"parseChromsizesRows",{enumerable:!0,get:function(){return Re(re).default}});var ie=n(921);Object.defineProperty(t,"pixiTextToSvg",{enumerable:!0,get:function(){return Re(ie).default}});var oe=n(922);Object.defineProperty(t,"q",{enumerable:!0,get:function(){return Re(oe).default}});var ae=n(439);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return Re(ae).default}});var se=n(923);Object.defineProperty(t,"rangeQuery2d",{enumerable:!0,get:function(){return Re(se).default}});var le=n(924);Object.defineProperty(t,"relToAbsChromPos",{enumerable:!0,get:function(){return Re(le).default}});var ue=n(925);Object.defineProperty(t,"removeClass",{enumerable:!0,get:function(){return Re(ue).default}});var ce=n(926);Object.defineProperty(t,"resetD3BrushStyle",{enumerable:!0,get:function(){return Re(ce).default}});var he=n(927);Object.defineProperty(t,"rgbToHex",{enumerable:!0,get:function(){return Re(he).default}});var de=n(928);Object.defineProperty(t,"scalesCenterAndK",{enumerable:!0,get:function(){return Re(de).default}});var fe=n(929);Object.defineProperty(t,"scalesToGenomeLoci",{enumerable:!0,get:function(){return Re(fe).default}});var pe=n(930);Object.defineProperty(t,"showMousePosition",{enumerable:!0,get:function(){return Re(pe).default}});var me=n(931);Object.defineProperty(t,"some",{enumerable:!0,get:function(){return Re(me).default}});var ve=n(932);Object.defineProperty(t,"sum",{enumerable:!0,get:function(){return Re(ve).default}});var ge=n(933);Object.defineProperty(t,"svgLine",{enumerable:!0,get:function(){return Re(ge).default}});var ye=n(934);Object.defineProperty(t,"throttleAndDebounce",{enumerable:!0,get:function(){return Re(ye).default}});var be=n(935);Object.defineProperty(t,"tileToCanvas",{enumerable:!0,get:function(){return Re(be).default}});var _e=n(936);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Re(_e).default}});var Te=n(937);Object.defineProperty(t,"totalTrackPixelHeight",{enumerable:!0,get:function(){return Re(Te).default}});var Se=n(171);Object.defineProperty(t,"toVoid",{enumerable:!0,get:function(){return Re(Se).default}});var ke=n(938);Object.defineProperty(t,"trimTrailingSlash",{enumerable:!0,get:function(){return Re(ke).default}});var we=n(939);Object.defineProperty(t,"valueToColor",{enumerable:!0,get:function(){return Re(we).default}});var xe=n(940);Object.defineProperty(t,"expandCombinedTracks",{enumerable:!0,get:function(){return Re(xe).default}});var Ee=n(941);Object.defineProperty(t,"segmentsToRows",{enumerable:!0,get:function(){return Re(Ee).default}});var Ce=n(443);Object.defineProperty(t,"visitPositionedTracks",{enumerable:!0,get:function(){return Re(Ce).default}});var Oe=n(444);Object.defineProperty(t,"visitTracks",{enumerable:!0,get:function(){return Re(Oe).default}});var Ae=n(943);Object.defineProperty(t,"trackUtils",{enumerable:!0,get:function(){return Re(Ae).default}});var Me=n(137);Object.defineProperty(t,"DenseDataExtrema1D",{enumerable:!0,get:function(){return Re(Me).default}});var Pe=n(138);Object.defineProperty(t,"DenseDataExtrema2D",{enumerable:!0,get:function(){return Re(Pe).default}});var Ie=n(446);Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){return Ie.getTrackObjectFromHGC}}),Object.defineProperty(t,"getTrackRenderer",{enumerable:!0,get:function(){return Ie.getTrackRenderer}}),Object.defineProperty(t,"getTiledPlot",{enumerable:!0,get:function(){return Ie.getTiledPlot}});var Le=n(944);function Re(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"changeOptions",{enumerable:!0,get:function(){return Le.changeOptions}}),Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){return Le.waitForJsonComplete}}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){return Le.waitForTilesLoaded}}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){return Le.waitForTransitionsFinished}}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){return Le.mountHGComponent}}),Object.defineProperty(t,"removeHGComponent",{enumerable:!0,get:function(){return Le.removeHGComponent}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(327);Object.defineProperty(t,"THEME_LIGHT",{enumerable:!0,get:function(){return r.THEME_LIGHT}}),Object.defineProperty(t,"THEME_DARK",{enumerable:!0,get:function(){return r.THEME_DARK}}),Object.defineProperty(t,"THEME_DEFAULT",{enumerable:!0,get:function(){return r.THEME_DEFAULT}});var i=n(324);Object.defineProperty(t,"GLOBALS",{enumerable:!0,get:function(){return m(i).default}});var o=n(551);Object.defineProperty(t,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){return m(o).default}});var a=n(552);Object.defineProperty(t,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){return m(a).default}});var s=n(553);Object.defineProperty(t,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){return m(s).default}});var l=n(554);Object.defineProperty(t,"OPTIONS_INFO",{enumerable:!0,get:function(){return m(l).default}});var u=n(880);Object.defineProperty(t,"TRACKS_INFO",{enumerable:!0,get:function(){return m(u).default}});var c=n(882);Object.defineProperty(t,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){return m(c).default}});var h=n(883);Object.defineProperty(t,"POSITIONS_BY_DATATYPE",{enumerable:!0,get:function(){return m(h).default}});var d=n(884);Object.defineProperty(t,"DEFAULT_TRACKS_FOR_DATATYPE",{enumerable:!0,get:function(){return m(d).default}});var f=n(885);Object.defineProperty(t,"AVAILABLE_FOR_PLUGINS",{enumerable:!0,get:function(){return m(f).default}});var p=n(889);function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){return m(p).default}});t.DEFAULT_VIEW_MARGIN=0,t.DEFAULT_VIEW_PADDING=5,t.DEFAULT_CONTAINER_PADDING_X=10,t.DEFAULT_CONTAINER_PADDING_Y=10,t.MAX_CLICK_DELAY=300,t.MOUSE_TOOL_MOVE="move",t.MOUSE_TOOL_SELECT="select",t.TILE_FETCH_DEBOUNCE=100,t.ZOOM_DEBOUNCE=10,t.SHORT_DRAG_TIMEOUT=110,t.LONG_DRAG_TIMEOUT=3e3,t.LOCATION_LISTENER_PREFIX="locationListenerPrefix",t.ZOOM_TRANSITION_DURATION=1e3,t.DEFAULT_SERVER="http://higlass.io/api/v1",t.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,t.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300,t.TRACK_LOCATIONS=["top","left","right","bottom","center","whole","gallery"],t.MIN_HORIZONTAL_HEIGHT=20,t.MIN_VERTICAL_WIDTH=20},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=u(n(731)),i=u(n(797)),o=u(n(816)),a=u(n(817)),s=u(n(818)),l=u(n(819));function u(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=l.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,o.default)(l)};t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(5)),i=o(n(612));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,o){null===t&&(t=Function.prototype);var a=(0,i.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,o)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(o):void 0}},function(e,t,n){"use strict";var r=n(9);function i(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var o=function(e){return function(){return e}};function a(e,t){return function(n){return e+n*t}}function s(e,t){var n=t-e;return n?a(e,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(e)?t:e)}function l(e){return 1==(e=+e)?u:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):o(isNaN(t)?n:t)}}function u(e,t){var n=t-e;return n?a(e,n):o(isNaN(e)?t:e)}var c=function e(t){var n=l(t);function i(e,t){var i=n((e=Object(r.rgb)(e)).r,(t=Object(r.rgb)(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),s=u(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function h(e){return function(t){var n,i,o=t.length,a=new Array(o),s=new Array(o),l=new Array(o);for(n=0;n<o;++n)i=Object(r.rgb)(t[n]),a[n]=i.r||0,s[n]=i.g||0,l[n]=i.b||0;return a=e(a),s=e(s),l=e(l),i.opacity=1,function(e){return i.r=a(e),i.g=s(e),i.b=l(e),i+""}}}h((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],s=r>0?e[r-1]:2*o-a,l=r<t-1?e[r+2]:2*a-o;return i((n-r/t)*t,s,o,a,l)}})),h((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return i((n-r/t)*t,o,a,s,l)}}));var d=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=k(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},f=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},p=function(e,t){return t-=e=+e,function(n){return e+t*n}},m=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=k(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g=new RegExp(v.source,"g");var y,b,_,T,S=function(e,t){var n,r,i,o=v.lastIndex=g.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=v.exec(e))&&(r=g.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:p(n,r)})),o=g.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},k=function(e,t){var n,i=typeof t;return null==t||"boolean"===i?o(t):("number"===i?p:"string"===i?(n=Object(r.color)(t))?(t=n,c):S:t instanceof r.color?c:t instanceof Date?f:Array.isArray(t)?d:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?m:p)(e,t)},w=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},x=180/Math.PI,E={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},C=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*x,skewX:Math.atan(l)*x,scaleX:a,scaleY:s}};function O(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:p(e,i)},{i:l-2,x:p(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:p(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:p(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:p(e,n)},{i:s-2,x:p(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var A=O((function(e){return"none"===e?E:(y||(y=document.createElement("DIV"),b=document.documentElement,_=document.defaultView),y.style.transform=e,e=_.getComputedStyle(b.appendChild(y),null).getPropertyValue("transform"),b.removeChild(y),e=e.slice(7,-1).split(","),C(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),M=O((function(e){return null==e?E:(T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),T.setAttribute("transform",e),(e=T.transform.baseVal.consolidate())?(e=e.matrix,C(e.a,e.b,e.c,e.d,e.e,e.f)):E)}),", ",")",")"),P=Math.SQRT2;function I(e){return((e=Math.exp(e))+1/e)/2}var L=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,h=l-o,d=c*c+h*h;if(d<1e-12)r=Math.log(u/a)/P,n=function(e){return[i+e*c,o+e*h,a*Math.exp(P*e*r)]};else{var f=Math.sqrt(d),p=(u*u-a*a+4*d)/(2*a*2*f),m=(u*u-a*a-4*d)/(2*u*2*f),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/P,n=function(e){var t,n=e*r,s=I(v),l=a/(2*f)*(s*(t=P*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+l*c,o+l*h,a*s/I(P*n+v)]}}return n.duration=1e3*r,n};function R(e){return function(t,n){var i=e((t=Object(r.hsl)(t)).h,(n=Object(r.hsl)(n)).h),o=u(t.s,n.s),a=u(t.l,n.l),s=u(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(e),t.opacity=s(e),t+""}}}R(s),R(u);function D(e){return function(t,n){var i=e((t=Object(r.hcl)(t)).h,(n=Object(r.hcl)(n)).h),o=u(t.c,n.c),a=u(t.l,n.l),s=u(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=o(e),t.l=a(e),t.opacity=s(e),t+""}}}D(s),D(u);function N(e){return function t(n){function i(t,i){var o=e((t=Object(r.cubehelix)(t)).h,(i=Object(r.cubehelix)(i)).h),a=u(t.s,i.s),s=u(t.l,i.l),l=u(t.opacity,i.opacity);return function(e){return t.h=o(e),t.s=a(e),t.l=s(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,i.gamma=t,i}(1)}N(s);var j=N(u);n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return L})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return j}))},function(e,t,n){var r=n(23),i=n(12),o=n(49),a=n(43),s=n(47),l=function(e,t,n){var u,c,h,d=e&l.F,f=e&l.G,p=e&l.S,m=e&l.P,v=e&l.B,g=e&l.W,y=f?i:i[t]||(i[t]={}),b=y.prototype,_=f?r:p?r[t]:(r[t]||{}).prototype;for(u in f&&(n=t),n)(c=!d&&_&&void 0!==_[u])&&s(y,u)||(h=c?_[u]:n[u],y[u]=f&&"function"!=typeof _[u]?n[u]:v&&c?o(h,r):g&&_[u]==h?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):m&&"function"==typeof h?o(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[u]=h,e&l.R&&b&&!b[u]&&a(b,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){e.exports={default:n(216),__esModule:!0}},function(e,t,n){e.exports={default:n(208),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(516)),i=o(n(17));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=(0,i.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";n.r(t);var r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},i=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){return new s(e)}function s(e){if(!(t=o.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}a.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l,u,c,h,d=function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},f={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return d(100*e,t)},r:d,s:function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1],a=o-(l=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=function(e){return e},m=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],v=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):p,o=e.currency,s=e.decimal,u=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):p,c=e.percent||"%";function h(e){var t=(e=a(e)).fill,n=e.align,i=e.sign,h=e.symbol,d=e.zero,p=e.width,v=e.comma,g=e.precision,y=e.trim,b=e.type;"n"===b?(v=!0,b="g"):f[b]||(null==g&&(g=12),y=!0,b="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var _="$"===h?o[0]:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",T="$"===h?o[1]:/[%p]/.test(b)?c:"",S=f[b],k=/[defgprs%]/.test(b);function w(e){var o,a,c,h=_,f=T;if("c"===b)f=S(e)+f,e="";else{var w=(e=+e)<0;if(e=S(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),w&&0==+e&&(w=!1),h=(w?"("===i?i:"-":"-"===i||"("===i?"":i)+h,f=("s"===b?m[8+l/3]:"")+f+(w&&"("===i?")":""),k)for(o=-1,a=e.length;++o<a;)if(48>(c=e.charCodeAt(o))||c>57){f=(46===c?s+e.slice(o+1):e.slice(o))+f,e=e.slice(0,o);break}}v&&!d&&(e=r(e,1/0));var x=h.length+e.length+f.length,E=x<p?new Array(p-x+1).join(t):"";switch(v&&d&&(e=r(E+e,E.length?p-f.length:1/0),E=""),n){case"<":e=h+e+f+E;break;case"=":e=h+E+e+f;break;case"^":e=E.slice(0,x=E.length>>1)+h+e+f+E.slice(x);break;default:e=E+h+e+f}return u(e)}return g=null==g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),w.toString=function(){return e+""},w}return{format:h,formatPrefix:function(e,t){var n=h(((e=a(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(i(t)/3))),o=Math.pow(10,-r),s=m[8+r/3];return function(e){return n(o*e)+s}}}};function g(e){return u=v(e),c=u.format,h=u.formatPrefix,u}g({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(e){return Math.max(0,-i(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(t)/3)))-i(Math.abs(e)))},_=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,i(t)-i(e))+1};n.d(t,"formatDefaultLocale",(function(){return g})),n.d(t,"format",(function(){return c})),n.d(t,"formatPrefix",(function(){return h})),n.d(t,"formatLocale",(function(){return v})),n.d(t,"formatSpecifier",(function(){return a})),n.d(t,"precisionFixed",(function(){return y})),n.d(t,"precisionPrefix",(function(){return b})),n.d(t,"precisionRound",(function(){return _}))},function(e,t,n){var r=n(106)("wks"),i=n(91),o=n(23).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(822);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return h(r).default}});var i=n(289);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return h(i).default}});var o=n(825);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return h(o).default}});var a=n(826);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return h(a).default}});var s=n(828);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return h(s).default}});var l=n(835);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return h(l).default}});var u=n(437);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return h(u).default}});var c=n(841);function h(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return h(c).default}})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(519);Object.defineProperty(t,"chromInfo",{enumerable:!0,get:function(){return s(r).default}});var i=n(1077);Object.defineProperty(t,"createDomEvent",{enumerable:!0,get:function(){return s(i).default}});var o=n(440);Object.defineProperty(t,"ElementResizeListener",{enumerable:!0,get:function(){return s(o).default}});var a=n(1078);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"tileProxy",{enumerable:!0,get:function(){return s(a).default}}),Object.defineProperty(t,"requestsInFlight",{enumerable:!0,get:function(){return a.requestsInFlight}}),Object.defineProperty(t,"setTileProxyAuthHeader",{enumerable:!0,get:function(){return a.setTileProxyAuthHeader}}),Object.defineProperty(t,"getTileProxyAuthHeader",{enumerable:!0,get:function(){return a.getTileProxyAuthHeader}}),Object.defineProperty(t,"authHeader",{enumerable:!0,get:function(){return a.authHeader}})},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(95),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){e.exports=n(587)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(8),i=n(72),o=Array.prototype,a=o.map,s=o.slice,l={name:"implicit"};function u(e){var t=Object(i.a)(),n=[],r=l;function o(i){var o=i+"",a=t.get(o);if(!a){if(r!==l)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:s.call(e),o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Object(i.a)();for(var r,a,s=-1,l=e.length;++s<l;)t.has(a=(r=e[s])+"")||t.set(a,n.push(r));return o},o.range=function(t){return arguments.length?(e=s.call(t),o):e.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return u().domain(n).range(e).unknown(r)},o}function c(){var e,t,n=u().unknown(void 0),i=n.domain,o=n.range,a=[0,1],s=!1,l=0,h=0,d=.5;function f(){var n=i().length,u=a[1]<a[0],c=a[u-0],f=a[1-u];e=(f-c)/Math.max(1,n-l+2*h),s&&(e=Math.floor(e)),c+=(f-c-e*(n-l))*d,t=e*(1-l),s&&(c=Math.round(c),t=Math.round(t));var p=Object(r.range)(n).map((function(t){return c+e*t}));return o(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),f()):i()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],f()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,f()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,f()):s},n.padding=function(e){return arguments.length?(l=h=Math.max(0,Math.min(1,e)),f()):l},n.paddingInner=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),f()):l},n.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),f()):h},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),f()):d},n.copy=function(){return c().domain(i()).range(a).round(s).paddingInner(l).paddingOuter(h).align(d)},f()}function h(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return h(t())},e}function d(){return h(c().paddingInner(1))}var f=n(15),p=function(e){return function(){return e}},m=function(e){return+e},v=[0,1];function g(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:p(t)}function y(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function b(e,t,n,i){var o=Math.min(e.length,t.length)-1,a=new Array(o),s=new Array(o),l=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<o;)a[l]=n(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(t){var n=Object(r.bisect)(e,t,1,o)-1;return s[n](a[n](t))}}function _(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function T(e,t){var n,r,i,o=v,l=v,u=f.a,c=!1;function h(){return n=Math.min(o.length,l.length)>2?b:y,r=i=null,d}function d(t){return(r||(r=n(o,l,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,u)))(+t)}return d.invert=function(e){return(i||(i=n(l,o,g,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},d.domain=function(e){return arguments.length?(o=a.call(e,m),h()):o.slice()},d.range=function(e){return arguments.length?(l=s.call(e),h()):l.slice()},d.rangeRound=function(e){return l=s.call(e),u=f.e,h()},d.clamp=function(e){return arguments.length?(c=!!e,h()):c},d.interpolate=function(e){return arguments.length?(u=e,h()):u},h()}var S=n(20);function k(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return function(e,t,n){var i,o=e[0],a=e[e.length-1],s=Object(r.tickStep)(o,a,null==t?10:t);switch((n=Object(S.formatSpecifier)(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(o),Math.abs(a));return null!=n.precision||isNaN(i=Object(S.precisionPrefix)(s,l))||(n.precision=i),Object(S.formatPrefix)(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Object(S.precisionRound)(s,Math.max(Math.abs(o),Math.abs(a))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Object(S.precisionFixed)(s))||(n.precision=i-2*("%"===n.type))}return Object(S.format)(n)}(t(),e,n)},e.nice=function(n){null==n&&(n=10);var i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s];return u<l&&(i=l,l=u,u=i,i=a,a=s,s=i),(i=Object(r.tickIncrement)(l,u,n))>0?(l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i,i=Object(r.tickIncrement)(l,u,n)):i<0&&(l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i,i=Object(r.tickIncrement)(l,u,n)),i>0?(o[a]=Math.floor(l/i)*i,o[s]=Math.ceil(u/i)*i,t(o)):i<0&&(o[a]=Math.ceil(l*i)/i,o[s]=Math.floor(u*i)/i,t(o)),e},e}function w(){var e=T(g,f.c);return e.copy=function(){return _(e,w())},k(e)}function x(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=a.call(n,m),t):e.slice()},t.copy=function(){return x().domain(e)},k(t)}var E=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function C(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:p(t)}function O(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function A(e){return isFinite(e)?+("1e"+e):e<0?0:e}function M(e){return 10===e?A:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function P(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function I(e){return function(t){return-e(-t)}}function L(){var e=T(C,O).domain([1,10]),t=e.domain,n=10,i=P(10),o=M(10);function a(){return i=P(n),o=M(n),t()[0]<0&&(i=I(i),o=I(o)),e}return e.base=function(e){return arguments.length?(n=+e,a()):n},e.domain=function(e){return arguments.length?(t(e),a()):t()},e.ticks=function(e){var a,s=t(),l=s[0],u=s[s.length-1];(a=u<l)&&(f=l,l=u,u=f);var c,h,d,f=i(l),p=i(u),m=null==e?10:+e,v=[];if(!(n%1)&&p-f<m){if(f=Math.round(f)-1,p=Math.round(p)+1,l>0){for(;f<p;++f)for(h=1,c=o(f);h<n;++h)if(!((d=c*h)<l)){if(d>u)break;v.push(d)}}else for(;f<p;++f)for(h=n-1,c=o(f);h>=1;--h)if(!((d=c*h)<l)){if(d>u)break;v.push(d)}}else v=Object(r.ticks)(f,p,Math.min(p-f,m)).map(o);return a?v.reverse():v},e.tickFormat=function(t,r){if(null==r&&(r=10===n?".0e":","),"function"!=typeof r&&(r=Object(S.format)(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*n<n-.5&&(t*=n),t<=a?r(e):""}},e.nice=function(){return t(E(t(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},e.copy=function(){return _(e,L().base(n))},e}function R(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function D(){var e=1,t=T((function(t,n){return(n=R(n,e)-(t=R(t,e)))?function(r){return(R(r,e)-t)/n}:p(n)}),(function(t,n){return n=R(n,e)-(t=R(t,e)),function(r){return R(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return _(t,D().exponent(e))},k(t)}function N(){return D().exponent(.5)}function j(){var e=[],t=[],n=[];function i(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=Object(r.quantile)(e,i/a);return o}function o(e){if(!isNaN(e=+e))return t[Object(r.bisect)(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null==(n=t[o])||isNaN(n=+n)||e.push(n);return e.sort(r.ascending),i()},o.range=function(e){return arguments.length?(t=s.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return j().domain(e).range(t)},o}function H(){var e=0,t=1,n=1,i=[.5],o=[0,1];function a(e){if(e<=e)return o[Object(r.bisect)(i,e,0,n)]}function l(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*t-(r-n)*e)/(n+1);return a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],l()):[e,t]},a.range=function(e){return arguments.length?(n=(o=s.call(e)).length-1,l()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=n?[i[n-1],t]:[i[a-1],i[a]]},a.copy=function(){return H().domain([e,t]).range(o)},k(a)}function B(){var e=[.5],t=[0,1],n=1;function i(i){if(i<=i)return t[Object(r.bisect)(e,i,0,n)]}return i.domain=function(r){return arguments.length?(e=s.call(r),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(r){return arguments.length?(t=s.call(r),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},i.copy=function(){return B().domain(e).range(t)},i}var F=new Date,z=new Date;function V(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return V((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return F.setTime(+t),z.setTime(+r),e(F),e(z),Math.floor(n(F,z))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var U=V((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));U.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?V((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):U:null};var G=U,Y=(U.range,1e3),W=6e4,q=36e5,X=864e5,K=6048e5,$=V((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Y)}),(function(e,t){return(t-e)/Y}),(function(e){return e.getUTCSeconds()})),Z=$,Q=($.range,V((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Y)}),(function(e,t){e.setTime(+e+t*W)}),(function(e,t){return(t-e)/W}),(function(e){return e.getMinutes()}))),J=Q,ee=(Q.range,V((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Y-e.getMinutes()*W)}),(function(e,t){e.setTime(+e+t*q)}),(function(e,t){return(t-e)/q}),(function(e){return e.getHours()}))),te=ee,ne=(ee.range,V((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*W)/X}),(function(e){return e.getDate()-1}))),re=ne;ne.range;function ie(e){return V((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*W)/K}))}var oe=ie(0),ae=ie(1),se=ie(2),le=ie(3),ue=ie(4),ce=ie(5),he=ie(6),de=(oe.range,ae.range,se.range,le.range,ue.range,ce.range,he.range,V((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),fe=de,pe=(de.range,V((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));pe.every=function(e){return isFinite(e=Math.floor(e))&&e>0?V((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var me=pe,ve=(pe.range,V((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*W)}),(function(e,t){return(t-e)/W}),(function(e){return e.getUTCMinutes()}))),ge=ve,ye=(ve.range,V((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*q)}),(function(e,t){return(t-e)/q}),(function(e){return e.getUTCHours()}))),be=ye,_e=(ye.range,V((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/X}),(function(e){return e.getUTCDate()-1}))),Te=_e;_e.range;function Se(e){return V((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/K}))}var ke=Se(0),we=Se(1),xe=Se(2),Ee=Se(3),Ce=Se(4),Oe=Se(5),Ae=Se(6),Me=(ke.range,we.range,xe.range,Ee.range,Ce.range,Oe.range,Ae.range,V((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),Pe=Me,Ie=(Me.range,V((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Ie.every=function(e){return isFinite(e=Math.floor(e))&&e>0?V((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Le=Ie;Ie.range;function Re(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function De(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ne(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var je,He,Be,Fe,ze={"-":"",_:" ",0:"0"},Ve=/^\s*\d+/,Ue=/^%/,Ge=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function We(e){return e.replace(Ge,"\\$&")}function qe(e){return new RegExp("^(?:"+e.map(We).join("|")+")","i")}function Xe(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Ke(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function $e(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ze(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Qe(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Je(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function et(e,t,n){var r=Ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tt(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rt(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function it(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ot(e,t,n){var r=Ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function at(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function st(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lt(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ut(e,t,n){var r=Ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ct(e,t,n){var r=Ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ht(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dt(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ft(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function pt(e,t){return Ye(e.getDate(),t,2)}function mt(e,t){return Ye(e.getHours(),t,2)}function vt(e,t){return Ye(e.getHours()%12||12,t,2)}function gt(e,t){return Ye(1+re.count(me(e),e),t,3)}function yt(e,t){return Ye(e.getMilliseconds(),t,3)}function bt(e,t){return yt(e,t)+"000"}function _t(e,t){return Ye(e.getMonth()+1,t,2)}function Tt(e,t){return Ye(e.getMinutes(),t,2)}function St(e,t){return Ye(e.getSeconds(),t,2)}function kt(e){var t=e.getDay();return 0===t?7:t}function wt(e,t){return Ye(oe.count(me(e),e),t,2)}function xt(e,t){var n=e.getDay();return e=n>=4||0===n?ue(e):ue.ceil(e),Ye(ue.count(me(e),e)+(4===me(e).getDay()),t,2)}function Et(e){return e.getDay()}function Ct(e,t){return Ye(ae.count(me(e),e),t,2)}function Ot(e,t){return Ye(e.getFullYear()%100,t,2)}function At(e,t){return Ye(e.getFullYear()%1e4,t,4)}function Mt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function Pt(e,t){return Ye(e.getUTCDate(),t,2)}function It(e,t){return Ye(e.getUTCHours(),t,2)}function Lt(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function Rt(e,t){return Ye(1+Te.count(Le(e),e),t,3)}function Dt(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function Nt(e,t){return Dt(e,t)+"000"}function jt(e,t){return Ye(e.getUTCMonth()+1,t,2)}function Ht(e,t){return Ye(e.getUTCMinutes(),t,2)}function Bt(e,t){return Ye(e.getUTCSeconds(),t,2)}function Ft(e){var t=e.getUTCDay();return 0===t?7:t}function zt(e,t){return Ye(ke.count(Le(e),e),t,2)}function Vt(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Ce(e):Ce.ceil(e),Ye(Ce.count(Le(e),e)+(4===Le(e).getUTCDay()),t,2)}function Ut(e){return e.getUTCDay()}function Gt(e,t){return Ye(we.count(Le(e),e),t,2)}function Yt(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function Wt(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function qt(){return"+0000"}function Xt(){return"%"}function Kt(e){return+e}function $t(e){return Math.floor(+e/1e3)}je=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=qe(i),c=Xe(i),h=qe(o),d=Xe(o),f=qe(a),p=Xe(a),m=qe(s),v=Xe(s),g=qe(l),y=Xe(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:pt,e:pt,f:bt,H:mt,I:vt,j:gt,L:yt,m:_t,M:Tt,p:function(e){return i[+(e.getHours()>=12)]},Q:Kt,s:$t,S:St,u:kt,U:wt,V:xt,w:Et,W:Ct,x:null,X:null,y:Ot,Y:At,Z:Mt,"%":Xt},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Pt,e:Pt,f:Nt,H:It,I:Lt,j:Rt,L:Dt,m:jt,M:Ht,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:Kt,s:$t,S:Bt,u:Ft,U:zt,V:Vt,w:Ut,W:Gt,x:null,X:null,y:Yt,Y:Wt,Z:qt,"%":Xt},T={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return w(e,t,n,r)},d:it,e:it,f:ct,H:at,I:at,j:ot,L:ut,m:rt,M:st,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:dt,s:ft,S:lt,u:$e,U:Ze,V:Qe,w:Ke,W:Je,x:function(e,t,r){return w(e,n,t,r)},X:function(e,t,n){return w(e,r,t,n)},y:tt,Y:et,Z:nt,"%":ht};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=ze[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=Ne(1900);if(w(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=De(Ne(o.y))).getUTCDay(),r=i>4||0===i?we.ceil(r):we(r),r=Te.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t(Ne(o.y))).getDay(),r=i>4||0===i?ae.ceil(r):ae(r),r=re.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?De(Ne(o.y)).getUTCDay():t(Ne(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,De(o)):t(o)}}function w(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=T[i in ze?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",Re);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e,De);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),He=je.format,je.parse,Be=je.utcFormat,Fe=je.utcParse;var Zt="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Be(Zt);+new Date("2000-01-01T00:00:00.000Z")||Fe(Zt);var Qt=1e3,Jt=6e4,en=36e5,tn=864e5,nn=2592e6,rn=31536e6;function on(e){return new Date(e)}function an(e){return e instanceof Date?+e:+new Date(+e)}function sn(e,t,n,i,o,s,l,u,c){var h=T(g,f.c),d=h.invert,p=h.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),b=c("%I %p"),S=c("%a %d"),k=c("%b %d"),w=c("%B"),x=c("%Y"),C=[[l,1,Qt],[l,5,5e3],[l,15,15e3],[l,30,3e4],[s,1,Jt],[s,5,3e5],[s,15,9e5],[s,30,18e5],[o,1,en],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,tn],[i,2,1728e5],[n,1,6048e5],[t,1,nn],[t,3,7776e6],[e,1,rn]];function O(r){return(l(r)<r?m:s(r)<r?v:o(r)<r?y:i(r)<r?b:t(r)<r?n(r)<r?S:k:e(r)<r?w:x)(r)}function A(t,n,i,o){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(i-n)/t,s=Object(r.bisector)((function(e){return e[2]})).right(C,a);s===C.length?(o=Object(r.tickStep)(n/rn,i/rn,t),t=e):s?(o=(s=C[a/C[s-1][2]<C[s][2]/a?s-1:s])[1],t=s[0]):(o=Math.max(Object(r.tickStep)(n,i,t),1),t=u)}return null==o?t:t.every(o)}return h.invert=function(e){return new Date(d(e))},h.domain=function(e){return arguments.length?p(a.call(e,an)):p().map(on)},h.ticks=function(e,t){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=A(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(e,t){return null==t?O:c(t)},h.nice=function(e,t){var n=p();return(e=A(e,n[0],n[n.length-1],t))?p(E(n,e)):h},h.copy=function(){return _(h,sn(e,t,n,i,o,s,l,u,c))},h}var ln=function(){return sn(me,fe,oe,re,te,J,Z,G,He).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},un=function(){return sn(Le,Pe,ke,Te,be,ge,Z,G,Be).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},cn=function(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))},hn=cn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),dn=cn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),fn=cn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),pn=cn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),mn=n(9),vn=Object(f.b)(Object(mn.cubehelix)(300,.5,0),Object(mn.cubehelix)(-240,.5,1)),gn=Object(f.b)(Object(mn.cubehelix)(-100,.75,.35),Object(mn.cubehelix)(80,1.5,.8)),yn=Object(f.b)(Object(mn.cubehelix)(260,.75,.35),Object(mn.cubehelix)(80,1.5,.8)),bn=Object(mn.cubehelix)(),_n=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return bn.h=360*e-100,bn.s=1.5-1.5*t,bn.l=.8-.9*t,bn+""};function Tn(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Sn=Tn(cn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),kn=Tn(cn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),wn=Tn(cn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xn=Tn(cn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function En(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return En(e).domain([t,n]).clamp(r)},k(i)}n.d(t,"scaleBand",(function(){return c})),n.d(t,"scalePoint",(function(){return d})),n.d(t,"scaleIdentity",(function(){return x})),n.d(t,"scaleLinear",(function(){return w})),n.d(t,"scaleLog",(function(){return L})),n.d(t,"scaleOrdinal",(function(){return u})),n.d(t,"scaleImplicit",(function(){return l})),n.d(t,"scalePow",(function(){return D})),n.d(t,"scaleSqrt",(function(){return N})),n.d(t,"scaleQuantile",(function(){return j})),n.d(t,"scaleQuantize",(function(){return H})),n.d(t,"scaleThreshold",(function(){return B})),n.d(t,"scaleTime",(function(){return ln})),n.d(t,"scaleUtc",(function(){return un})),n.d(t,"schemeCategory10",(function(){return hn})),n.d(t,"schemeCategory20b",(function(){return dn})),n.d(t,"schemeCategory20c",(function(){return fn})),n.d(t,"schemeCategory20",(function(){return pn})),n.d(t,"interpolateCubehelixDefault",(function(){return vn})),n.d(t,"interpolateRainbow",(function(){return _n})),n.d(t,"interpolateWarm",(function(){return gn})),n.d(t,"interpolateCool",(function(){return yn})),n.d(t,"interpolateViridis",(function(){return Sn})),n.d(t,"interpolateMagma",(function(){return kn})),n.d(t,"interpolateInferno",(function(){return wn})),n.d(t,"interpolatePlasma",(function(){return xn})),n.d(t,"scaleSequential",(function(){return En}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="throw";t.default=function(e,t,n){var i=Object.keys(t),o=n&&n.handleMissingStyleName||r;return e.split(" ").filter((function(e){return e})).map((function(e){if(function(e){return-1!==e.indexOf(".")}(e))return function(e,t,n){var i=e.split("."),o=i[0],a=i[1],s=n||r;if(!a){if("throw"===s)throw new Error("Invalid style name: "+e);if("warn"!==s)return null;console.warn("Invalid style name: "+e)}if(!t[o]){if("throw"===s)throw new Error("CSS module import does not exist: "+o);if("warn"!==s)return null;console.warn("CSS module import does not exist: "+o)}if(!t[o][a]){if("throw"===s)throw new Error("CSS module does not exist: "+a);if("warn"!==s)return null;console.warn("CSS module does not exist: "+a)}return t[o][a]}(e,t,o);if(0===i.length)throw new Error("Cannot use styleName attribute for style name '"+e+"' without importing at least one stylesheet.");if(i.length>1)throw new Error("Cannot use anonymous style name '"+e+"' with more than one stylesheet import.");var n=t[i[0]];if(!n[e]){if("throw"===o)throw new Error("Could not resolve the styleName '"+e+"'.");"warn"===o&&console.warn("Could not resolve the styleName '"+e+"'.")}return n[e]})).filter((function(e){return e})).join(" ")}},function(e,t,n){e.exports={default:n(233),__esModule:!0}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(39),i=n(159),o=n(127),a=Object.defineProperty;t.f=n(36)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(44),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(229),__esModule:!0}},function(e,t,n){e.exports=!n(50)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports={default:n(555),__esModule:!0}},function(e,t,n){e.exports={default:n(578),__esModule:!0}},function(e,t,n){var r=n(33);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(44)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(14)),c=g(n(7)),h=g(n(30)),d=n(20),f=g(n(26)),p=g(n(177)),m=n(10),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e}));return function(e,t){var n=(0,d.precisionPrefix)(t,e);return(0,d.formatPrefix)("."+String(n),e)(e)}(n[t],n[n.length-1])}var b=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),s=e.scene;r.scene=s,r.delayDrawing=!1,r.pBase=new v.GLOBALS.PIXI.Graphics,r.pMasked=new v.GLOBALS.PIXI.Graphics,r.pMask=new v.GLOBALS.PIXI.Graphics,r.pMain=new v.GLOBALS.PIXI.Graphics,r.pBorder=new v.GLOBALS.PIXI.Graphics,r.pBackground=new v.GLOBALS.PIXI.Graphics,r.pForeground=new v.GLOBALS.PIXI.Graphics,r.pLabel=new v.GLOBALS.PIXI.Graphics,r.pMobile=new v.GLOBALS.PIXI.Graphics,r.pAxis=new v.GLOBALS.PIXI.Graphics,r.pMouseOver=new v.GLOBALS.PIXI.Graphics,r.scene.addChild(r.pBase),r.pBase.addChild(r.pMasked),r.pMasked.addChild(r.pBackground),r.pMasked.addChild(r.pMain),r.pMasked.addChild(r.pMask),r.pMasked.addChild(r.pMobile),r.pMasked.addChild(r.pBorder),r.pMasked.addChild(r.pLabel),r.pMasked.addChild(r.pForeground),r.pMasked.addChild(r.pMouseOver),r.pBase.addChild(r.pAxis),r.pMasked.mask=r.pMask,r.prevOptions="",r.options=(0,i.default)(r.options,n);var u=r.getName();return r.labelTextFontFamily="Arial",r.labelTextFontSize=12,r.labelXOffset=0,r.labelText=new v.GLOBALS.PIXI.Text(u,{fontSize:String(r.labelTextFontSize)+"px",fontFamily:r.labelTextFontFamily,fill:"black"}),r.pLabel.addChild(r.labelText),r.errorText=new v.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),r.errorText.anchor.x=.5,r.errorText.anchor.y=.5,r.pLabel.addChild(r.errorText),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setLabelText",value:function(){}},{key:"setPosition",value:function(e){this.position=e,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setDimensions",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setDimensions",this).call(this,e),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setMask",value:function(e,t){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(e[0],e[1],t[0],t[1]),this.pMask.endFill()}},{key:"setForeground",value:function(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}},{key:"remove",value:function(){this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"drawBorder",value:function(){var e=this.pBorder;if(e.clear(),this.options&&this.options.trackBorderWidth){var t=(0,m.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");e.lineStyle(this.options.trackBorderWidth,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawError",value:function(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){var e=this.pBorder;e.clear(),e.lineStyle(1,(0,m.colorToHex)("red")),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawBackground",value:function(){var e=this.pBackground;if(e.clear(),this.options&&this.options.backgroundColor){var t=1,n=this.options.backgroundColor;"transparent"===this.options.backgroundColor&&(t=0,n="white");var r=(0,m.colorToHex)(n);e.beginFill(r,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"getLabelColor",value:function(){return this.options.labelColor&&"[glyph-color]"!==this.options.labelColor?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}},{key:"getName",value:function(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}},{key:"drawLabel",value:function(){if(this.labelText){var e=this.pLabel;if(e.clear(),this.options&&this.options.labelPosition&&"hidden"!==this.options.labelPosition){e.beginFill((0,m.colorToHex)(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);var t=(0,m.colorToHex)(this.getLabelColor());if(!(this.dimensions[0]<0)){var n=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?String(this.tilesetInfo.coordSystem)+" | ":"";if(n+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){var i=function(e,t,n,r){var i=t/(Math.pow(2,e)*n);if(!(0,h.default)(i)){var o=t/(Math.pow(2,r)*n),a=(0,d.precisionPrefix)(o,i);return(0,d.formatPrefix)("."+String(a),i)(i)}return console.warn("NaN resolution, screen is probably too small."),""}(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);n+="\n[Current data resolution: "+String(i)+"]"}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){var o=y(this.tilesetInfo.resolutions,this.calculateZoomLevel());n+="\n[Current data resolution: "+String(o)+"]"}if(this.options&&this.options.dataTransform){var a=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var s=!0,l=!1,u=void 0;try{for(var c,f=(0,r.default)(this.tilesetInfo.transforms);!(s=(c=f.next()).done);s=!0){var p=c.value;p.value===this.options.dataTransform&&(a=p)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}a?n+="\n[Transform: "+String(a.name)+"]":"None"===this.options.dataTransform?n+="\n[Transform: None ]":n+="\n[Transform: Default ]"}this.labelText.text=n,this.labelText.style={fontSize:String(this.labelTextFontSize)+"px",fontFamily:this.labelTextFontFamily,fill:t},this.labelText.alpha=void 0!==this.options.labelTextOpacity?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);var v=+this.options.labelLeftMargin||0,g=+this.options.labelRightMargin||0,b=+this.options.labelTopMargin||0,_=+this.options.labelBottomMargin||0;"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0]+v+this.labelXOffset,this.labelText.y=this.position[1]+b,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0]+v+this.labelXOffset,this.position[1]+b,this.labelText.width+2,this.labelText.height+2)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+(v||b),this.labelText.y=this.position[1]+this.dimensions[1]-(_||g),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+(v||b)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-(_||g),this.labelText.width+2,this.labelText.height+2)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(g||_),this.labelText.y=this.position[1]+(b||v),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-(g||_)-this.labelXOffset,this.position[1]+(b||v),this.labelText.width+2,this.labelText.height+2)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0]-g,this.labelText.y=this.position[1]+this.dimensions[1]-_,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-g-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-_,this.labelText.width+2,this.labelText.height+2)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"===this.options.labelPosition&&!this.flipText||"outerBottom"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"===this.options.labelPosition||"outerRight"===this.options.labelPosition||"outerTop"===this.options.labelPosition||"outerBottom"===this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}else this.labelText.alpha=0}}},{key:"rerender",value:function(e){this.options=e,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}},{key:"draw",value:function(){this.drawError()}},{key:"exportSVG",value:function(){var e=document.createElement("g"),t=document.createElement("rect");t.setAttribute("x",""+String(this.position[0])),t.setAttribute("y",""+String(this.position[1])),t.setAttribute("width",""+String(this.dimensions[0])),t.setAttribute("height",""+String(this.dimensions[1])),this.options&&this.options.backgroundColor?t.setAttribute("fill",this.options.backgroundColor):t.setAttribute("fill-opacity","0");var n=document.createElement("g");n.setAttribute("class","g-clipped"),e.appendChild(n),n.appendChild(t);var r=document.createElement("g");n.setAttribute("class","g-track"),n.appendChild(r);var i=document.createElement("g");n.setAttribute("class","g-labels"),n.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(a),a.setAttribute("points",String(this.position[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1]+this.dimensions[1])+" "+String(this.position[0])+","+String(this.position[1]+this.dimensions[1])+" ");var s=f.default.nice();o.setAttribute("id",s),n.setAttribute("style","clip-path:url(#"+String(s)+");");var l=this.labelText.text.split("\n"),u=0,c=(this.labelTextFontSize+2)*l.length+3;.5===this.labelText.anchor.y?u=c/2:1===this.labelText.anchor.y&&(u=-c);for(var h=0;h<l.length;h++){var d=document.createElement("text");if(d.setAttribute("font-family",this.labelTextFontFamily),d.setAttribute("font-size",String(this.labelTextFontSize)+"px"),d.innerText=l[h],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){var p=u+(h+1)*(this.labelTextFontSize+2);d.setAttribute("dy",p)}else"bottomLeft"!==this.options.labelPosition&&"bottomRight"!==this.options.labelPosition||d.setAttribute("dy",u+h*(this.labelTextFontSize+2));d.setAttribute("fill",this.options.labelColor),.5===this.labelText.anchor.x?d.setAttribute("text-anchor","middle"):1===this.labelText.anchor.x&&d.setAttribute("text-anchor","end"),i.appendChild(d)}return i.setAttribute("transform","translate("+String(this.labelText.x)+","+String(this.labelText.y)+")scale("+String(this.labelText.scale.x)+",1)"),[e,r]}}]),t}(p.default);t.default=b},function(e,t,n){var r=n(406),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,n){e.exports=t},function(e,t,n){var r=n(32),i=n(66);e.exports=n(36)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(222),__esModule:!0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(829),i=n(290)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(105),i=n(87);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(92);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(295),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};c.supportsDescriptors=!!l,e.exports=c},function(e,t,n){"use strict";var r=n(947);e.exports=Function.prototype.bind||r},function(e,t,n){var r=n(87);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(241),__esModule:!0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=o(n(839)),i=o(n(840));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},toState:function(e,t){var n=e.hex?(0,i.default)(e.hex):(0,i.default)(e),r=n.toHsl(),o=n.toHsv(),a=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,i.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(53);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){var r=n(158),i=n(107);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(215)(!0);n(109)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){e.exports={default:n(520),__esModule:!0}},function(e,t,n){e.exports={default:n(239),__esModule:!0}},function(e,t,n){"use strict";var r=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var i=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},o=t.SPECIAL_ELEMENTS=Object.create(null);o[r.HTML]=Object.create(null),o[r.HTML][i.ADDRESS]=!0,o[r.HTML][i.APPLET]=!0,o[r.HTML][i.AREA]=!0,o[r.HTML][i.ARTICLE]=!0,o[r.HTML][i.ASIDE]=!0,o[r.HTML][i.BASE]=!0,o[r.HTML][i.BASEFONT]=!0,o[r.HTML][i.BGSOUND]=!0,o[r.HTML][i.BLOCKQUOTE]=!0,o[r.HTML][i.BODY]=!0,o[r.HTML][i.BR]=!0,o[r.HTML][i.BUTTON]=!0,o[r.HTML][i.CAPTION]=!0,o[r.HTML][i.CENTER]=!0,o[r.HTML][i.COL]=!0,o[r.HTML][i.COLGROUP]=!0,o[r.HTML][i.DD]=!0,o[r.HTML][i.DETAILS]=!0,o[r.HTML][i.DIR]=!0,o[r.HTML][i.DIV]=!0,o[r.HTML][i.DL]=!0,o[r.HTML][i.DT]=!0,o[r.HTML][i.EMBED]=!0,o[r.HTML][i.FIELDSET]=!0,o[r.HTML][i.FIGCAPTION]=!0,o[r.HTML][i.FIGURE]=!0,o[r.HTML][i.FOOTER]=!0,o[r.HTML][i.FORM]=!0,o[r.HTML][i.FRAME]=!0,o[r.HTML][i.FRAMESET]=!0,o[r.HTML][i.H1]=!0,o[r.HTML][i.H2]=!0,o[r.HTML][i.H3]=!0,o[r.HTML][i.H4]=!0,o[r.HTML][i.H5]=!0,o[r.HTML][i.H6]=!0,o[r.HTML][i.HEAD]=!0,o[r.HTML][i.HEADER]=!0,o[r.HTML][i.HGROUP]=!0,o[r.HTML][i.HR]=!0,o[r.HTML][i.HTML]=!0,o[r.HTML][i.IFRAME]=!0,o[r.HTML][i.IMG]=!0,o[r.HTML][i.INPUT]=!0,o[r.HTML][i.LI]=!0,o[r.HTML][i.LINK]=!0,o[r.HTML][i.LISTING]=!0,o[r.HTML][i.MAIN]=!0,o[r.HTML][i.MARQUEE]=!0,o[r.HTML][i.MENU]=!0,o[r.HTML][i.META]=!0,o[r.HTML][i.NAV]=!0,o[r.HTML][i.NOEMBED]=!0,o[r.HTML][i.NOFRAMES]=!0,o[r.HTML][i.NOSCRIPT]=!0,o[r.HTML][i.OBJECT]=!0,o[r.HTML][i.OL]=!0,o[r.HTML][i.P]=!0,o[r.HTML][i.PARAM]=!0,o[r.HTML][i.PLAINTEXT]=!0,o[r.HTML][i.PRE]=!0,o[r.HTML][i.SCRIPT]=!0,o[r.HTML][i.SECTION]=!0,o[r.HTML][i.SELECT]=!0,o[r.HTML][i.SOURCE]=!0,o[r.HTML][i.STYLE]=!0,o[r.HTML][i.SUMMARY]=!0,o[r.HTML][i.TABLE]=!0,o[r.HTML][i.TBODY]=!0,o[r.HTML][i.TD]=!0,o[r.HTML][i.TEMPLATE]=!0,o[r.HTML][i.TEXTAREA]=!0,o[r.HTML][i.TFOOT]=!0,o[r.HTML][i.TH]=!0,o[r.HTML][i.THEAD]=!0,o[r.HTML][i.TITLE]=!0,o[r.HTML][i.TR]=!0,o[r.HTML][i.TRACK]=!0,o[r.HTML][i.UL]=!0,o[r.HTML][i.WBR]=!0,o[r.HTML][i.XMP]=!0,o[r.MATHML]=Object.create(null),o[r.MATHML][i.MI]=!0,o[r.MATHML][i.MO]=!0,o[r.MATHML][i.MN]=!0,o[r.MATHML][i.MS]=!0,o[r.MATHML][i.MTEXT]=!0,o[r.MATHML][i.ANNOTATION_XML]=!0,o[r.SVG]=Object.create(null),o[r.SVG][i.TITLE]=!0,o[r.SVG][i.FOREIGN_OBJECT]=!0,o[r.SVG][i.DESC]=!0},function(e,t,n){"use strict";var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function s(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function l(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r=this._,i=a(e+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(n=(e=i[o]).type)r[n]=l(r[n],e.name,t);else if(null==t)for(n in r)r[n]=l(r[n],e.name,null);return this}for(;++o<u;)if((n=(e=i[o]).type)&&(n=s(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var u=i;n.d(t,"a",(function(){return u}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}n(68);var a=function(e){return i.default.createElement("div",{"data-menu-item-for":"string"==typeof e.children?e.children:null,onClick:function(t){return e.onClick(t)},onMouseEnter:function(t){return e.onMouseEnter(t)},onMouseLeave:function(t){return e.onMouseLeave(t)},role:"button",className:"ContextMenu-module_context-menu-item-1HeVv",tabIndex:0},i.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.children))};a.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},a.propTypes={children:r.default.node.isRequired,onClick:r.default.func.isRequired,onMouseEnter:r.default.func,onMouseLeave:r.default.func},t.default=a},function(e,t,n){e.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.fake=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s={__fake__:!0,publish:o.default,subscribe:o.default,unsubscribe:o.default},l=i.default.createContext(s),u=l.Provider,c=l.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(c,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{pubSub:o}))}))}))},t.fake=s,t.Provider=u},function(e,t,n){var r=n(413),i=n(144),o=n(795),a=n(31);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])m(l)||!_(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=c(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(k(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return h(n)}var u,_="",w=!1,x=["{","}"];(f(n)&&(w=!0,x=["[","]"]),k(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),T(n)&&(_=" "+Date.prototype.toUTCString.call(n)),S(n)&&(_=" "+h(n)),0!==a.length||w&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=w?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,w)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,_,x)):x[0]+_+x[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===w(e)}function _(e){return"object"==typeof e&&null!==e}function T(e){return _(e)&&"[object Date]"===w(e)}function S(e){return _(e)&&("[object Error]"===w(e)||e instanceof Error)}function k(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=T,t.isError=S,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(971);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n(58),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(M,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(150))},function(e,t,n){"use strict";var r="$";function i(){}function o(e,t){var n=new i;if(e instanceof i)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(r=e[o],o,e),r)}else if(e)for(var s in e)n.set(s,e[s]);return n}i.prototype=o.prototype={constructor:i,has:function(e){return r+e in this},get:function(e){return this[r+e]},set:function(e,t){return this[r+e]=t,this},remove:function(e){var t=r+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===r&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===r&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===r&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===r&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===r&&++e;return e},empty:function(){for(var e in this)if(e[0]===r)return!1;return!0},each:function(e){for(var t in this)t[0]===r&&e(this[t],t.slice(1),this)}};var a=o;function s(){}var l=a.prototype;function u(e,t){var n=new s;if(e instanceof s)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}s.prototype=u.prototype={constructor:s,has:l.has,add:function(e){return this[r+(e+="")]=e,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each};n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(18)),i=u(n(19)),o=n(104),a=n(24),s=n(10),l=n(69);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.fake,u={absToChr:function(e){return u.chrPositions?(0,s.absToChr)(e,u):null},chrToAbs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.default)(e,2),n=t[0],r=t[1];return u.chrPositions?(0,s.chrToAbs)(n,r,u):null}};return a.tileProxy.text(e,(function(e,n){if(e)t&&t(null);else{var i=(0,o.tsvParseRows)(n),a=(0,s.parseChromsizesRows)(i);(0,r.default)(a).forEach((function(e){u[e]=a[e]})),t&&t(u)}}),n).then((function(){return u}))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){n(212);for(var r=n(23),i=n(43),o=n(51),a=n(21)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],h=c&&c.prototype;h&&!h[a]&&i(h,a,u),o[u]=o.Array}},function(e,t,n){var r=n(32).f,i=n(47),o=n(21)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{theme:o}))}))}))},t.Provider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(n(63)),i=A(n(55)),o=A(n(95)),a=A(n(37)),s=A(n(19)),l=A(n(34)),u=A(n(35)),c=A(n(17)),h=A(n(25)),d=A(n(18)),f=A(n(30)),p=A(n(38)),m=A(n(5)),v=A(n(3)),g=A(n(4)),y=A(n(6)),b=A(n(14)),_=A(n(7));t.getValueScale=function(e,t,n,r,i){var o=e||i;if("log"===o&&t>0)return["log",(0,T.scaleLog)().range([254,0]).domain([t+0,r+0])];return["linear",(0,T.scaleLinear)().range([254,0]).domain([t,r])]};var T=n(28),S=n(8),k=A(n(26)),w=A(n(245)),x=A(n(40)),E=n(10),C=A(n(617)),O=n(11);function A(e){return e&&e.__esModule?e:{default:e}}var M=function(e){function t(e,n){(0,v.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e,n)),i=e.pubSub,o=e.dataConfig,a=e.handleTilesetInfoReceived,s=e.animate,l=e.onValueScaleChanged;return r.renderVersion=1,r.visibleTiles=new p.default,r.visibleTileIds=new p.default,r.renderingTiles=new p.default,r.fetching=new p.default,r.scale={},r.fetchedTiles={},r.tileGraphics={},r.maxZoom=0,r.medianVisibleValue=null,r.backgroundTaskScheduler=C.default,r.continuousScaling="requestIdleCallback"in window,r.valueScaleMin=null,r.fixedValueScaleMin=null,r.valueScaleMax=null,r.fixedValueScaleMax=null,r.listeners={},r.pubSub=i,r.animate=s,r.onValueScaleChanged=l,r.prevValueScale=null,e.dataFetcher?r.dataFetcher=e.dataFetcher:r.dataFetcher=new w.default(o,r.pubSub),r.tilesetInfo=null,r.uuid=k.default.nice(),r.trackNotFoundText=new O.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),r.pLabel.addChild(r.trackNotFoundText),r.refreshTilesDebounced=(0,E.throttleAndDebounce)(r.refreshTiles.bind(r),O.ZOOM_DEBOUNCE,O.ZOOM_DEBOUNCE),r.dataFetcher.tilesetInfo((function(e,t){if(r.tilesetInfo=e,r.dataFetcher.dataConfig.tilesetUid||(r.dataFetcher.dataConfig.tilesetUid=t),r.tilesetUid=r.dataFetcher.dataConfig.tilesetUid,r.server=r.dataFetcher.dataConfig.server||"unknown",r.tilesetInfo.chromsizes&&(r.chromInfo=(0,E.parseChromsizesRows)(r.tilesetInfo.chromsizes)),"error"in r.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",o,r.tilesetInfo.error),r.tilesetInfo=null,void r.setError(r.tilesetInfo.error);r.tilesetInfo.resolutions?r.maxZoom=r.tilesetInfo.resolutions.length:r.maxZoom=+r.tilesetInfo.max_zoom,r.options&&r.options.maxZoom&&(r.options.maxZoom>=0?r.maxZoom=Math.min(r.options.maxZoom,r.maxZoom):console.error("Invalid maxZoom on track:",r)),r.refreshTiles(),a&&a(e),r.options||(r.options={}),r.options.name=r.options.name||e.name,r.checkValueScaleLimits(),r.draw(),r.drawLabel(),r.animate()})),r}return(0,_.default)(t,e),(0,g.default)(t,[{key:"setError",value:function(e){this.errorTextText=e,this.draw(),this.animate()}},{key:"setFixedValueScaleMin",value:function(e){(0,f.default)(+e)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+e}},{key:"setFixedValueScaleMax",value:function(e){(0,f.default)(+e)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+e}},{key:"checkValueScaleLimits",value:function(){this.valueScaleMin=void 0!==this.options.valueScaleMin?+this.options.valueScaleMin:null,null!==this.fixedValueScaleMin&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=void 0!==this.options.valueScaleMax?+this.options.valueScaleMax:null,null!==this.fixedValueScaleMax&&(this.valueScaleMax=this.fixedValueScaleMax)}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=this.listeners[e].indexOf(t);-1===n||n>=this.listeners[e].length||this.listeners[e].splice(n,1)}},{key:"rerender",value:function(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"rerender",this).call(this,e),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}},{key:"visibleAndFetchedIds",value:function(){var e=this;return(0,d.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}},{key:"visibleAndFetchedTiles",value:function(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new p.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"removeOldTiles",value:function(){var e=this;this.calculateVisibleTiles();var t=new p.default((0,d.default)(this.fetchedTiles)),n=[].concat((0,h.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(n)}},{key:"refreshTiles",value:function(){var e=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var t=new p.default((0,d.default)(this.fetchedTiles)),n=[].concat((0,h.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);this.removeOldTiles(),this.fetchNewTiles(n)}}},{key:"parentInFetched",value:function(e){for(var t=e.tileData.tilesetUid,n=e.tileData.zoomLevel,r=e.tileData.tilePos;n>0;)if(n-=1,r=r.map((function(e){return Math.floor(e/2)})),String(t)+"."+String(n)+"."+String(r.join("."))in this.fetchedTiles)return!0;return!1}},{key:"parentTileId",value:function(e){var t=e.tileData.zoomLevel-1,n=e.tileData.tilePos.map((function(e){return Math.floor(e/2)})),r=e.tileData.tilesetUid;return String(r)+"."+t+"."+String(n.join("."))}},{key:"removeTiles",value:function(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&!this.renderingTiles.size&&(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"zoomed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.xScale(e),this.yScale(t),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"setPosition",value:function(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){for(var e=new p.default((0,d.default)(this.fetchedTiles)),t=[].concat((0,h.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e?(this.scale.minValue=e,this):null!==this.valueScaleMin?this.valueScaleMin:this.scale.minValue}},{key:"maxValue",value:function(e){return e?(this.scale.maxValue=e,this):null!==this.valueScaleMax?this.valueScaleMax:this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"initTile",value:function(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}},{key:"updateTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"addMissingGraphics",value:function(){var e=(0,d.default)(this.fetchedTiles);this.renderVersion+=1;for(var t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new O.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){for(var e=(0,d.default)(this.fetchedTiles),t=0;t<e.length;t++){var n=this.fetchedTiles[e[t]];this.updateTile(n)}}},{key:"synchronizeTilesAndGraphics",value:function(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,c.default)(this.listeners.dataChanged);!(e=(r=i.next()).done);e=!0)(0,r.value)(this.visibleAndFetchedTiles().map((function(e){return e.tileData})))}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}},{key:"loadTileData",value:function(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"fetchNewTiles",value:function(e){if(e.length>0){var t=[].concat((0,h.default)(new p.default(e.map((function(e){return e.remoteId})))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),t)}}},{key:"receivedTiles",value:function(e){for(var t=this,n=function(n){var r=t.visibleTiles[n].tileId;if(!e[t.visibleTiles[n].remoteId])return"continue";if(t.visibleTiles[n].remoteId in e){if(r in t.fetchedTiles||(t.fetchedTiles[r]=t.visibleTiles[n]),Array.isArray(e[t.visibleTiles[n].remoteId])){var i=e[t.visibleTiles[n].remoteId];t.fetchedTiles[r].tileData=[].concat((0,h.default)(i)),(0,d.default)(i).filter((function(e){return(0,f.default)(+e)})).forEach((function(e){t.fetchedTiles[r].tileData[e]=i[e]}))}else t.fetchedTiles[r].tileData=(0,l.default)({},e[t.visibleTiles[n].remoteId]);t.fetchedTiles[r].tileData.error&&console.warn("Error in loaded tile",r,t.fetchedTiles[r].tileData)}},r=0;r<this.visibleTiles.length;r++)n(r);for(var i in e)if(e[i]){var o=e[i].tilePositionId;this.fetching.has(o)&&this.fetching.delete(o)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(this.prevValueScale&&(0,u.default)(this.valueScale.domain())===(0,u.default)(this.prevValueScale.domain())||(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged())),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}},{key:"draw",value:function(){var e=this;if(!this.delayDrawing){if(this.tilesetInfo)this.trackNotFoundText.visible=!1;else{this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+String(this.server)+"] tilesetUid: ["+String(this.tilesetUid)+"]";var n=(0,s.default)(this.position,2);this.trackNotFoundText.x=n[0],this.trackNotFoundText.y=n[1],this.flipText&&(this.trackNotFoundText.anchor.x=1,this.trackNotFoundText.scale.x=-1),this.trackNotFoundText.visible=!0}this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});var r=(0,a.default)(this.fetchedTiles).map((function(e){return e.tileData&&e.tileData.error&&String(e.tileId)+": "+String(e.tileData.error)})).filter((function(e){return e}));r.length?this.errorTextText=r.join("\n"):this.errorTextText="",(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"draw",this).call(this),(0,d.default)(this.fetchedTiles).forEach((function(t){e.drawTile(e.fetchedTiles[t])})),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}}},{key:"drawTile",value:function(){}},{key:"calculateMedianVisibleValue",value:function(){var e,t=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var n=this.visibleAndFetchedIds();0===n.length&&(n=(0,d.default)(this.fetchedTiles));var r=(e=[]).concat.apply(e,(0,h.default)(n.filter((function(e){return t.fetchedTiles[e].tileData.dense})).map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)})))).filter((function(e){return e>0}));return this.medianVisibleValue=(0,S.median)(r),this.medianVisibleValue}},{key:"allVisibleValues",value:function(){var e,t=this;return(e=[]).concat.apply(e,(0,h.default)(this.visibleAndFetchedIds().map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)}))))}},{key:"minVisibleValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.minVisibleValueInTiles(e)}},{key:"minVisibleValueInTiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,d.default)(this.fetchedTiles));var r=Math.min.apply(Math,(0,h.default)(n.map((function(t){return e.fetchedTiles[t].tileData.minNonZero}))));return r===i.default&&(r=null),t?r:null!==this.valueScaleMin?this.valueScaleMin:r}},{key:"maxVisibleValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.maxVisibleValueInTiles(e)}},{key:"maxVisibleValueInTiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,d.default)(this.fetchedTiles));var i=Math.max.apply(Math,(0,h.default)(n.map((function(t){return e.fetchedTiles[t].tileData.maxNonZero}))));return i===r.default&&(i=null),t?i:null!==this.valueScaleMax?this.valueScaleMax:i}},{key:"makeValueScale",value:function(e,t,n,r){var i=null,o=0,a=r;null==a&&(a=6);var s=Math.min(this.dimensions[1]-a,a),l=Math.max(this.dimensions[1]-a,a);if(this.dimensions[1]-a<a&&(s=this.dimensions[1]/2,l=this.dimensions[1]/2),"log"===this.options.valueScaling)(o=t)||(o=e),i=(0,T.scaleLog)().domain([o,n+o]).range([s,l]);else{if("quantile"===this.options.valueScaling){var u=this.dimensions[1]-a,c=a,d=(0,T.scaleQuantile)().domain(this.allVisibleValues()).range((0,S.range)(u,c,(c-u)/256));return d.ticks=function(e){return(0,S.ticks)(u,c,e)},[d,0]}if("setquantile"===this.options.valueScaling){var f=this.dimensions[1]-a,m=a,v=new p.default(this.allVisibleValues()),g=(0,T.scaleQuantile)().domain([].concat((0,h.default)(v))).range((0,S.range)(f,m,(m-f)/256));return g.ticks=function(e){return(0,S.ticks)(f,m,e)},[g,0]}i=(0,T.scaleLinear)().domain([e,n]).range([l,s])}return[i,o]}}]),t}(x.default);t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=n(0),u=c(n(26));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.svgElement;return o.gMain=(0,l.select)(s).append("g"),o.clipUid=u.default.nice(),o.clipRect=o.gMain.append("clipPath").attr("id","track-bounds-"+String(o.clipUid)).append("rect"),o.gMain.attr("clip-path","url(#track-bounds-"+String(o.clipUid)+")"),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(e){this.position=e,this.gMain.attr("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.draw()}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),e[0]>=0&&e[1]>=0?(this.clipRect.attr("width",e[0]),this.clipRect.attr("height",e[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null}},{key:"draw",value:function(){return this}}]),t}(c(n(177)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mix=t.Mixin=t.BareMixin=t.HasInstance=t.DeDupe=t.Cached=t.wrap=t.hasMixin=t.isApplicationOf=t.apply=t.unwrap=void 0;var r=h(n(3)),i=h(n(4)),o=h(n(131)),a=h(n(634)),s=h(n(225)),l=h(n(637)),u=h(n(331)),c=h(n(5));function h(e){return e&&e.__esModule?e:{default:e}}var d="__mixwith_appliedMixin",f="__mixwith_wrappedMixin",p=t.unwrap=function(e){return e[f]||e},m=t.apply=function(e,t){var n=t(e);return n.prototype[d]=p(t),n},v=t.isApplicationOf=function(e,t){return e.hasOwnProperty(d)&&e[d]===p(t)},g=t.hasMixin=function(e,t){for(;null!==e;){if(v(e,t))return!0;e=(0,c.default)(e)}return!1},y=t.wrap=function(e,t){return(0,u.default)(t,e),e[f]||(e[f]=e),t},b="__mixwith_cachedApplications",_=t.Cached=function(e){return y(e,(function(t){var n=t[b];n||(t[b]=new l.default,n=t[b]);var r=n.get(e);return r||(r=e(t),n.set(e,r)),r}))},T=t.DeDupe=function(e){return y(e,(function(t){return g(t.prototype,e)?t:e(t)}))},S=(t.HasInstance=function(e){return s.default&&a.default&&!e[a.default]&&(0,o.default)(e,a.default,{value:function(t){return g(t,e)}}),e},t.BareMixin=function(e){return y(e,(function(t){return m(t,e)}))}),k=(t.Mixin=function(e){return T(_(S(e)))},function(){function e(t){(0,r.default)(this,e),this.superclass=t||function e(){(0,r.default)(this,e)}}return(0,i.default)(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t(e)}),this.superclass)}}]),e}());t.mix=function(e){return new k(e)}},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){"use strict";n.r(t);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}},u=function(e,t,n){this.target=e,this.type=t,this.selection=n};function c(){a.event.stopImmediatePropagation()}var h=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},d={name:"drag"},f={name:"space"},p={name:"handle"},m={name:"center"},v={name:"x",handles:["e","w"].map(w),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},g={name:"y",handles:["n","s"].map(w),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},y={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(w),input:function(e){return e},output:function(e){return e}},b={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},T={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},S={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},k={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function w(e){return{type:e}}function x(){return!a.event.button}function E(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function C(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function O(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function A(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function M(e,t,n){return L(v,e,t,n)}function P(e,t,n){return L(g,e,t,n)}var I=function(e,t,n){return L(y,e,t,n)};function L(e,t,n,y){var A,M=E,P=x,I=Object(r.a)(R,"start","brush","end"),L=6;function R(t){var r=t.property("__brush",B).selectAll(".overlay").data([w("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events",y?"auto":"all").attr("cursor",n?"default":b.overlay).merge(r).each((function(){var e=C(this).extent;Object(a.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([w("selection")]).enter().append("rect").attr("class","selection").attr("cursor",b.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return b[e.type]})),t.each(D).attr("fill","none").attr("pointer-events",y?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),n?t.on("mousedown.brush touchstart.brush",(function(){"overlay"!==a.event.target.__data__.type&&H.apply(this,arguments)})):t.on("mousedown.brush touchstart.brush",H)}function D(){var e=Object(a.select)(this),t=C(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-L/2:t[0][0]-L/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-L/2:t[0][1]-L/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+L:L})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+L:L}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function N(e,t){return e.__brush.emitter||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function H(){if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return h()}else if(A)return;if(P.apply(this,arguments)){var n,r,o,l,u,y,w,x,E,M,I,L,R,j=this,H=a.event.target.__data__.type,B="selection"===(a.event.metaKey&&!t?H="overlay":H)?d:a.event.altKey&&!t?m:p,F=e===g?null:S[H],z=e===v?null:k[H],V=C(j),U=V.extent,G=V.selection,Y=U[0][0],W=U[0][1],q=U[1][0],X=U[1][1],K=F&&z&&a.event.shiftKey,$=Object(a.mouse)(j),Z=$,Q=N(j,arguments).beforestart();"overlay"===H?V.selection=G=[[n=e===g?Y:$[0],o=e===v?W:$[1]],[u=e===g?q:n,w=e===v?X:o]]:(n=G[0][0],o=G[0][1],u=G[1][0],w=G[1][1]),r=n,l=o,y=u,x=w;var J=Object(a.select)(j).attr("pointer-events","none"),ee=J.selectAll(".overlay").attr("cursor",b[H]);if(a.event.touches)J.on("touchmove.brush",ne,!0).on("touchend.brush touchcancel.brush",ie,!0);else{var te=Object(a.select)(a.event.view).on("mousemove.brush",ne,!0).on("mouseup.brush",ie,!0);t||te.on("keydown.brush",oe,!0).on("keyup.brush",ae,!0),Object(i.dragDisable)(a.event.view)}c(),Object(s.interrupt)(j),D.call(j),Q.start()}function ne(){var e=Object(a.mouse)(j);!K||L||R||(Math.abs(e[0]-Z[0])>Math.abs(e[1]-Z[1])?R=!0:L=!0),Z=e,I=!0,h(),re()}function re(){var e;switch(E=Z[0]-$[0],M=Z[1]-$[1],B){case f:case d:F&&(E=Math.max(Y-n,Math.min(q-u,E)),r=n+E,y=u+E),z&&(M=Math.max(W-o,Math.min(X-w,M)),l=o+M,x=w+M);break;case p:F<0?(E=Math.max(Y-n,Math.min(q-n,E)),r=n+E,y=u):F>0&&(E=Math.max(Y-u,Math.min(q-u,E)),r=n,y=u+E),z<0?(M=Math.max(W-o,Math.min(X-o,M)),l=o+M,x=w):z>0&&(M=Math.max(W-w,Math.min(X-w,M)),l=o,x=w+M);break;case m:F&&(r=Math.max(Y,Math.min(q,n-E*F)),y=Math.max(Y,Math.min(q,u+E*F))),z&&(l=Math.max(W,Math.min(X,o-M*z)),x=Math.max(W,Math.min(X,w+M*z)))}y<r&&(F*=-1,e=n,n=u,u=e,e=r,r=y,y=e,H in _&&ee.attr("cursor",b[H=_[H]])),x<l&&(z*=-1,e=o,o=w,w=e,e=l,l=x,x=e,H in T&&ee.attr("cursor",b[H=T[H]])),V.selection&&(G=V.selection),L&&(r=G[0][0],y=G[1][0]),R&&(l=G[0][1],x=G[1][1]),G[0][0]===r&&G[0][1]===l&&G[1][0]===y&&G[1][1]===x||(V.selection=[[r,l],[y,x]],D.call(j),Q.brush())}function ie(){if(c(),a.event.touches){if(a.event.touches.length)return;A&&clearTimeout(A),A=setTimeout((function(){A=null}),500),J.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.dragEnable)(a.event.view,I),te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),ee.attr("cursor",b.overlay),V.selection&&(G=V.selection),O(G)&&(V.selection=null,D.call(j)),Q.end()}function oe(){switch(a.event.keyCode){case 16:K=F&&z;break;case 18:B===p&&(F&&(u=y-E*F,n=r+E*F),z&&(w=x-M*z,o=l+M*z),B=m,re());break;case 32:B!==p&&B!==m||(F<0?u=y-E:F>0&&(n=r-E),z<0?w=x-M:z>0&&(o=l-M),B=f,ee.attr("cursor",b.selection),re());break;default:return}h()}function ae(){switch(a.event.keyCode){case 16:K&&(L=R=K=!1,re());break;case 18:B===m&&(F<0?u=y:F>0&&(n=r),z<0?w=x:z>0&&(o=l),B=p,re());break;case 32:B===f&&(a.event.altKey?(F&&(u=y-E*F,n=r+E*F),z&&(w=x-M*z,o=l+M*z),B=m):(F<0?u=y:F>0&&(n=r),z<0?w=x:z>0&&(o=l),B=p),ee.attr("cursor",b[H]),re());break;default:return}h()}}function B(){var t=this.__brush||{selection:null};return t.extent=M.apply(this,arguments),t.dim=e,t}return R.move=function(t,n){t.selection?t.on("start.brush",(function(){N(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){N(this,arguments).end()})).tween("brush",(function(){var t=this,r=t.__brush,i=N(t,arguments),a=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),l=Object(o.a)(a,s);function u(e){r.selection=1===e&&O(s)?null:l(e),D.call(t),i.brush()}return a&&s?u:u(1)})):t.each((function(){var t=this,r=arguments,i=t.__brush,o=e.input("function"==typeof n?n.apply(t,r):n,i.extent),a=N(t,r).beforestart();Object(s.interrupt)(t),i.selection=null==o||O(o)?null:o,D.call(t),a.start().brush().end()}))},j.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Object(a.customEvent)(new u(R,t,e.output(this.state.selection)),I.apply,I,[t,this.that,this.args])}},R.extent=function(e){return arguments.length?(M="function"==typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),R):M},R.filter=function(e){return arguments.length?(P="function"==typeof e?e:l(!!e),R):P},R.handleSize=function(e){return arguments.length?(L=+e,R):L},R.on=function(){var e=I.on.apply(I,arguments);return e===I?R:e},R}n.d(t,"brush",(function(){return I})),n.d(t,"brushX",(function(){return M})),n.d(t,"brushY",(function(){return P})),n.d(t,"brushSelection",(function(){return A}))},function(e,t,n){"use strict";n.r(t);var r=n(65),i=n(0);function o(){i.event.stopImmediatePropagation()}var a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},s=function(e){var t=e.document.documentElement,n=Object(i.select)(e).on("dragstart.drag",a,!0);"onselectstart"in t?n.on("selectstart.drag",a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function l(e,t){var n=e.document.documentElement,r=Object(i.select)(e).on("dragstart.drag",null);t&&(r.on("click.drag",a,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var u=function(e){return function(){return e}};function c(e,t,n,r,i,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function h(){return!i.event.button}function d(){return this.parentNode}function f(e){return null==e?{x:i.event.x,y:i.event.y}:e}function p(){return"ontouchstart"in this}c.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var m=function(){var e,t,n,m,v=h,g=d,y=f,b=p,_={},T=Object(r.a)("start","drag","end"),S=0,k=0;function w(e){e.on("mousedown.drag",x).filter(b).on("touchstart.drag",O).on("touchmove.drag",A).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(){if(!m&&v.apply(this,arguments)){var r=P("mouse",g.apply(this,arguments),i.mouse,this,arguments);r&&(Object(i.select)(i.event.view).on("mousemove.drag",E,!0).on("mouseup.drag",C,!0),s(i.event.view),o(),n=!1,e=i.event.clientX,t=i.event.clientY,r("start"))}}function E(){if(a(),!n){var r=i.event.clientX-e,o=i.event.clientY-t;n=r*r+o*o>k}_.mouse("drag")}function C(){Object(i.select)(i.event.view).on("mousemove.drag mouseup.drag",null),l(i.event.view,n),a(),_.mouse("end")}function O(){if(v.apply(this,arguments)){var e,t,n=i.event.changedTouches,r=g.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=P(n[e].identifier,r,i.touch,this,arguments))&&(o(),t("start"))}}function A(){var e,t,n=i.event.changedTouches,r=n.length;for(e=0;e<r;++e)(t=_[n[e].identifier])&&(a(),t("drag"))}function M(){var e,t,n=i.event.changedTouches,r=n.length;for(m&&clearTimeout(m),m=setTimeout((function(){m=null}),500),e=0;e<r;++e)(t=_[n[e].identifier])&&(o(),t("end"))}function P(e,t,n,r,o){var a,s,l,u=n(t,e),h=T.copy();if(Object(i.customEvent)(new c(w,"beforestart",a,e,S,u[0],u[1],0,0,h),(function(){return null!=(i.event.subject=a=y.apply(r,o))&&(s=a.x-u[0]||0,l=a.y-u[1]||0,!0)})))return function d(f){var p,m=u;switch(f){case"start":_[e]=d,p=S++;break;case"end":delete _[e],--S;case"drag":u=n(t,e),p=S}Object(i.customEvent)(new c(w,f,a,e,p,u[0]+s,u[1]+l,u[0]-m[0],u[1]-m[1],h),h.apply,h,[f,r,o])}}return w.filter=function(e){return arguments.length?(v="function"==typeof e?e:u(!!e),w):v},w.container=function(e){return arguments.length?(g="function"==typeof e?e:u(e),w):g},w.subject=function(e){return arguments.length?(y="function"==typeof e?e:u(e),w):y},w.touchable=function(e){return arguments.length?(b="function"==typeof e?e:u(!!e),w):b},w.on=function(){var e=T.on.apply(T,arguments);return e===T?w:e},w.clickDistance=function(e){return arguments.length?(k=(e=+e)*e,w):Math.sqrt(k)},w};n.d(t,"drag",(function(){return m})),n.d(t,"dragDisable",(function(){return s})),n.d(t,"dragEnable",(function(){return l}))},function(e,t,n){"use strict";n.r(t);var r,i,o=n(0),a=n(65),s=0,l=0,u=0,c=0,h=0,d=0,f="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function m(){return h||(p(v),h=f.now()+d)}function v(){h=0}function g(){this._call=this._time=this._next=null}function y(e,t,n){var r=new g;return r.restart(e,t,n),r}function b(){h=(c=f.now())+d,s=l=0;try{!function(){m(),++s;for(var e,t=r;t;)(e=h-t._time)>=0&&t._call.call(null,e),t=t._next;--s}()}finally{s=0,function(){var e,t,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,T(o)}(),h=0}}function _(){var e=f.now(),t=e-c;t>1e3&&(d-=t,c=e)}function T(e){s||(l&&(l=clearTimeout(l)),e-h>24?(e<1/0&&(l=setTimeout(b,e-f.now()-d)),u&&(u=clearInterval(u))):(u||(c=f.now(),u=setInterval(_,1e3)),s=1,p(b)))}g.prototype=y.prototype={constructor:g,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?m():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,T()},stop:function(){this._call&&(this._call=null,this._time=1/0,T())}};var S=function(e,t,n){var r=new g;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},k=Object(a.a)("start","end","cancel","interrupt"),w=[],x=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var u,c,h,d;if(1!==n.state)return l();for(u in i)if((d=i[u]).name===n.name){if(3===d.state)return S(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[u]):+u<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[u])}if(S((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=y(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:k,tween:w,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function E(e,t){var n=O(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function C(e,t){var n=O(e,t);if(n.state>3)throw new Error("too late; already running");return n}function O(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var A=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}},M=n(15);function P(e,t){var n,r;return function(){var i=C(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function I(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=C(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function L(e,t,n){var r=e._id;return e.each((function(){var e=C(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return O(e,r).value[t]}}var R=n(9),D=function(e,t){var n;return("number"==typeof t?M.c:t instanceof R.color?M.d:(n=Object(R.color)(t))?(t=n,M.d):M.f)(e,t)};function N(e){return function(){this.removeAttribute(e)}}function j(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function B(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function F(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function z(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function V(e,t){return function(n){this.setAttribute(e,t(n))}}function U(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}function G(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&U(e,i)),n}return i._value=t,i}function Y(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&V(e,i)),n}return i._value=t,i}function W(e,t){return function(){E(this,e).delay=+t.apply(this,arguments)}}function q(e,t){return t=+t,function(){E(this,e).delay=t}}function X(e,t){return function(){C(this,e).duration=+t.apply(this,arguments)}}function K(e,t){return t=+t,function(){C(this,e).duration=t}}function $(e,t){if("function"!=typeof t)throw new Error;return function(){C(this,e).ease=t}}function Z(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?E:C;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var Q=o.selection.prototype.constructor;function J(e){return function(){this.style.removeProperty(e)}}function ee(e,t,n){return function(r){this.style.setProperty(e,t(r),n)}}function te(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&ee(e,o,n)),r}return o._value=t,o}var ne=0;function re(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ie(e){return Object(o.selection)().transition(e)}function oe(){return++ne}var ae=o.selection.prototype;re.prototype=ie.prototype={constructor:re,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(o.selector)(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l,u,c=r[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f])&&(u=e.call(l,l.__data__,f,c))&&("__data__"in l&&(u.__data__=l.__data__),d[f]=u,x(d[f],t,n,f,d,O(l,n)));return new re(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(o.selectorAll)(e));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var u,c=r[l],h=c.length,d=0;d<h;++d)if(u=c[d]){for(var f,p=e.call(u,u.__data__,d,c),m=O(u,n),v=0,g=p.length;v<g;++v)(f=p[v])&&x(f,t,n,v,p,m);a.push(p),s.push(u)}return new re(a,s,t,n)},filter:function(e){"function"!=typeof e&&(e=Object(o.matcher)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],l=s.length,u=r[i]=[],c=0;c<l;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&u.push(a);return new re(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],h=u.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=u[f]||c[f])&&(d[f]=l);for(;s<r;++s)a[s]=t[s];return new re(a,this._parents,this._name,this._id)},selection:function(){return new Q(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=oe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=O(a,t);x(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new re(r,this._parents,e,n)},call:ae.call,nodes:ae.nodes,node:ae.node,size:ae.size,empty:ae.empty,each:ae.each,on:function(e,t){var n=this._id;return arguments.length<2?O(this.node(),n).on.on(e):this.each(Z(n,e,t))},attr:function(e,t){var n=Object(o.namespace)(e),r="transform"===n?M.h:D;return this.attrTween(e,"function"==typeof t?(n.local?z:F)(n,r,L(this,"attr."+e,t)):null==t?(n.local?j:N)(n):(n.local?B:H)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Object(o.namespace)(e);return this.tween(n,(r.local?G:Y)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?M.g:D;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Object(o.style)(this,e),s=(this.style.removeProperty(e),Object(o.style)(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}(e,r)).on("end.style."+e,J(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var s=Object(o.style)(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=Object(o.style)(this,e)),s===u?null:s===r&&u===i?a:(i=u,a=t(r=s,l))}}(e,r,L(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=C(this,e),u=l.on,c=null==l.value[a]?o||(o=J(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(s,i=c),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var s=Object(o.style)(this,e);return s===a?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,te(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(L(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=O(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?P:I)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?W:q)(t,e)):O(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?X:K)(t,e)):O(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each($(t,e)):O(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=C(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI;var se=1.70158,le=(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(se),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(se),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(se),2*Math.PI),ue=(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=le);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*le)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=le);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*le)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=le);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*le)},i.period=function(n){return e(t,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function ce(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return ue.time=m(),ue;return n}o.selection.prototype.interrupt=function(e){return this.each((function(){A(this,e)}))},o.selection.prototype.transition=function(e){var t,n;e instanceof re?(t=e._id,e=e._name):(t=oe(),(n=ue).time=m(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&x(a,e,t,u,s,n||ce(a,t));return new re(r,this._parents,e,t)};var he=[null],de=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>1&&n.name===t)return new re([[e]],he,t,+r);return null};n.d(t,"transition",(function(){return ie})),n.d(t,"active",(function(){return de})),n.d(t,"interrupt",(function(){return A}))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(89),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(106)("keys"),i=n(91);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(560)),i=a(n(225)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){e.exports={default:n(235),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(44)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(29)),c=p(n(2)),h=p(n(1)),d=p(n(42)),f=n(11);function p(e){return e&&e.__esModule?e:{default:e}}n(68);var m={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},v=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.updateOrientation()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.adjusted=!1,this.setState({left:e.position.left,top:e.position.top})}},{key:"componentDidUpdate",value:function(){this.updateOrientation()}},{key:"handleItemMouseEnterWithRect",value:function(e,t){this.setState({submenuShown:t,submenuSourceBbox:e})}},{key:"handleItemMouseEnter",value:function(e,t){this.handleItemMouseEnterWithRect(e.currentTarget.getBoundingClientRect(),t)}},{key:"handleMouseLeave",value:function(){}},{key:"handleOtherMouseEnter",value:function(){this.setState({submenuShown:null})}},{key:"updateOrientation",value:function(){if(!this.adjusted){this.adjusted=!0,this.divDom=d.default.findDOMNode(this.div);var e=this.divDom.getBoundingClientRect(),t=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},n=this.state.orientation,r=t.top;if(t.top+e.height>window.innerHeight&&(t.top-e.height>0?r=t.top-e.height+20:(r=t.top-e.height+20,r-=r+e.height-window.innerHeight)),"left"===this.state.orientation){var i=t.left-e.width;i<0&&(t.left+t.width+e.width>window.innerWidth?i=0:(i=t.left+t.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{var o=t.left+t.width;t.left+t.width+e.width>window.innerWidth&&(t.left-e.width<0?(o=0,n="right"):(o=t.left-e.width,n="left")),this.setState({left:o,top:r,orientation:n})}}}},{key:"render",value:function(){var e=this,t=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},i=(0,r.default)(t,n),o="context-menu";return this.props.theme===f.THEME_DARK&&(o+=" context-menu-dark"),h.default.createElement("div",{ref:function(t){e.div=t},style:i,className:"context-menu-item "+(0,u.default)(o,m)},this.props.children)}}]),t}(h.default.Component);v.propTypes={children:c.default.node,orientation:c.default.string,parentBbox:c.default.object,position:c.default.object,theme:c.default.symbol.isRequired},t.default=v},function(e,t,n){var r=n(118),i=n(733),o=n(734),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(277),i=n(274);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(754),i=n(757);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(195),i=n(287);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=e.exports;[n(952),n(956),n(957),n(958),n(959),n(960)].forEach((function(e){Object.keys(e).forEach((function(t){r[t]=e[t].bind(r)}))}))},function(e,t,n){"use strict";var r=n(203),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(151);o.inherits=n(58);var a=n(466),s=n(305);o.inherits(h,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.adapter)return(0,o.default)(e.adapter),e.adapter;var t=(0,a.get)(),n=t.adapter;return(0,o.default)(n),n};var r,i=n(509),o=(r=i)&&r.__esModule?r:{default:r},a=n(315)},function(e,t,n){"use strict";n.r(t);var r={},i={};function o(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function a(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function s(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function l(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+s(-t,6):t>9999?"+"+s(t,6):s(t,4))+"-"+s(e.getUTCMonth()+1,2)+"-"+s(e.getUTCDate(),2)+(o?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"."+s(o,3)+"Z":i?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"Z":r||n?"T"+s(n,2)+":"+s(r,2)+"Z":"")}var u=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function s(e,t){var o,a=[],s=e.length,l=0,u=0,c=s<=0,h=!1;function d(){if(c)return i;if(h)return h=!1,r;var t,o,a=l;if(34===e.charCodeAt(a)){for(;l++<s&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=s?c=!0:10===(o=e.charCodeAt(l++))?h=!0:13===o&&(h=!0,10===e.charCodeAt(l)&&++l),e.slice(a+1,t-1).replace(/""/g,'"')}for(;l<s;){if(10===(o=e.charCodeAt(t=l++)))h=!0;else if(13===o)h=!0,10===e.charCodeAt(l)&&++l;else if(o!==n)continue;return e.slice(a,t)}return c=!0,e.slice(a,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(o=d())!==i;){for(var f=[];o!==r&&o!==i;)f.push(o),o=d();t&&null==(f=t(f,u++))||a.push(f)}return a}function u(t,n){return t.map((function(t){return n.map((function(e){return h(t[e])})).join(e)}))}function c(t){return t.map(h).join(e)}function h(e){return null==e?"":e instanceof Date?l(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,i=s(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?function(e,t){var n=o(e);return function(r,i){return t(n(r),i,e)}}(e,t):o(e)}));return i.columns=r||[],i},parseRows:s,format:function(t,n){return null==n&&(n=a(t)),[n.map(h).join(e)].concat(u(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=a(e)),u(e,t).join("\n")},formatRows:function(e){return e.map(c).join("\n")}}},c=u(","),h=c.parse,d=c.parseRows,f=c.format,p=c.formatBody,m=c.formatRows,v=u("\t"),g=v.parse,y=v.parseRows,b=v.format,_=v.formatBody,T=v.formatRows;function S(e){for(var t in e){var n,r=e[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;e[t]=r}return e}n.d(t,"dsvFormat",(function(){return u})),n.d(t,"csvParse",(function(){return h})),n.d(t,"csvParseRows",(function(){return d})),n.d(t,"csvFormat",(function(){return f})),n.d(t,"csvFormatBody",(function(){return p})),n.d(t,"csvFormatRows",(function(){return m})),n.d(t,"tsvParse",(function(){return g})),n.d(t,"tsvParseRows",(function(){return y})),n.d(t,"tsvFormat",(function(){return b})),n.d(t,"tsvFormatBody",(function(){return _})),n.d(t,"tsvFormatRows",(function(){return T})),n.d(t,"autoType",(function(){return S}))},function(e,t,n){var r=n(74);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(12),i=n(23),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(75)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(33),i=n(23).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";var r=n(75),i=n(16),o=n(161),a=n(43),s=n(51),l=n(214),u=n(77),c=n(128),h=n(21)("iterator"),d=!([].keys&&"next"in[].keys()),f="keys",p="values",m=function(){return this};e.exports=function(e,t,n,v,g,y,b){l(n,t,v);var _,T,S,k=function(e){if(!d&&e in C)return C[e];switch(e){case f:case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",x=g==p,E=!1,C=e.prototype,O=C[h]||C["@@iterator"]||g&&C[g],A=O||k(g),M=g?x?k("entries"):A:void 0,P="Array"==t&&C.entries||O;if(P&&(S=c(P.call(new e)))!==Object.prototype&&S.next&&(u(S,w,!0),r||"function"==typeof S[h]||a(S,h,m)),x&&O&&O.name!==p&&(E=!0,A=function(){return O.call(this)}),r&&!b||!d&&!E&&C[h]||a(C,h,A),s[t]=A,s[w]=m,g)if(_={values:x?A:k(p),keys:y?A:k(f),entries:M},b)for(T in _)T in C||o(C,T,_[T]);else i(i.P+i.F*(d||E),t,_);return _}},function(e,t,n){var r=n(39),i=n(162),o=n(107),a=n(90)("IE_PROTO"),s=function(){},l=function(){var e,t=n(108)("iframe"),r=o.length;for(t.style.display="none",n(163).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(74),i=n(21)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(111),i=n(21)("iterator"),o=n(51);e.exports=n(12).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";(function(e){var r=n(588),i=n(589),o=n(338);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return U(z(t,e.length-n),e,n,r)}function T(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return T(e,t,n,r)}function k(e,t,n,r){return U(V(t),e,n,r)}function w(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:z(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(27))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NUM_PRECOMP_SUBSETS_PER_1D_TTILE=8,t.NUM_PRECOMP_SUBSETS_PER_2D_TTILE=8},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(19)),i=v(n(35)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(14)),c=v(n(7)),h=v(n(255)),d=v(n(179)),f=n(24),p=n(10),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate,s=e.isShowGlobalMousePosition;return r.constIndicator=new m.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.constIndicator),r.axis=new d.default(r),r.pBase.addChild(r.axis.pAxis),r.animate=i,r.options=n,r.isShowGlobalMousePosition=s,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,p.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition())),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(e,n){var r=(0,i.default)(e);(n||r!==this.prevOptions)&&((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.prevOptions=r,this.options=e,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,p.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo.resolutions)return f.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);var e=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}},{key:"relevantScale",value:function(){return this._xScale}},{key:"draw",value:function(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.drawConstIndicator()}},{key:"drawAxis",value:function(e){if(this.options.axisPositionVertical||this.options.axisPositionHorizontal)if(this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical)this.axis.clearAxis();else if(this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal)this.axis.clearAxis();else{var t=this.options.axisMargin||0;"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"outsideRight"!==this.options.axisPositionHorizontal&&"outsideBottom"!==this.options.axisPositionVertical||(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1]))}else this.axis.clearAxis()}},{key:"mouseMoveZoomHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if(void 0!==e&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var n=0,r=0,i="1d-horizontal";this.isLeftModified?(n=t-this.position[1],r=e-this.position[0],i="1d-vertical"):(n=e-this.position[0],r=t-this.position[1]);var o=e-this.position[0],a=t-this.position[1],s=this._xScale.invert(n),l=this._yScale.invert(r),u=this.getDataAtPos(n);u&&this.onMouseMoveZoom({trackId:this.id,data:u,absX:e,absY:t,relX:o,relY:a,dataX:s,dataY:l,orientation:i})}}},{key:"drawConstIndicator",value:function(){var e=this;if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);this.options.constIndicators&&this.valueScale&&this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,l=t.labelColor,u=void 0===l?"black":l,c=t.labelOpacity,h=void 0===c?1:c,d=t.labelPosition,f=void 0===d?"leftTop":d,v=t.labelSize,g=void 0===v?12:v,y=t.value,b=void 0===y?0:y,_=(0,p.colorToHex)(r),T=(0,p.colorToHex)(u);e.constIndicator.beginFill(_,o);var S=e.valueScale(b),k=0,w=0;if(s){var x=new m.GLOBALS.PIXI.Text(s,{fontFamily:"Arial",fontSize:g,fill:T});switch(x.alpha=h,f){case"right":x.anchor.x=1,x.anchor.y=.5,x.x=e.position[0]+e.dimensions[0]-6,x.y=S,w=x.width+8;break;case"rightBottom":x.anchor.x=1,x.anchor.y=0,x.x=e.position[0]+e.dimensions[0]-6,x.y=S;break;case"rightTop":x.anchor.x=1,x.anchor.y=1,x.x=e.position[0]+e.dimensions[0]-6,x.y=S;break;case"left":x.anchor.x=0,x.anchor.y=.5,x.x=e.position[0]+2,x.y=S,k=x.width+4;break;case"leftBottom":x.anchor.x=0,x.anchor.y=0,x.x=e.position[0]+2,x.y=S;break;default:x.anchor.x=0,x.anchor.y=1,x.x=e.position[0]+2,x.y=S}e.constIndicator.addChild(x)}e.constIndicator.drawRect(e.position[0]+k,S,e.dimensions[0]-w,1)}))}}},{key:"exportSVG",value:function(){var e=this,n=null,i=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);i=s[0],n=s[1]}else n=i=document.createElement("g");i.setAttribute("class","horizontal-tiled-1d-track");var l=document.createElement("g");return n.appendChild(l),this.options.constIndicators&&this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,u=t.labelColor,c=void 0===u?"black":u,h=t.labelOpacity,d=void 0===h?1:h,f=t.labelPosition,p=void 0===f?"leftTop":f,m=t.labelSize,v=void 0===m?12:m,g=t.value,y=void 0===g?0:g,b=e.valueScale(y);if(s){var _=document.createElement("text");switch(_.textContent=s,_.setAttribute("x",e.position[0]),_.setAttribute("y",b),_.setAttribute("style","font-family: 'Arial'; font-size: "+String(v)+"px; fill: "+String(c)+"; fill-opacity: "+String(d)+";"),p){case"rightBottom":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b+v+2),_.setAttribute("text-anchor","end");break;case"right":case"rightTop":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b-2),_.setAttribute("text-anchor","end");break;case"leftBottom":_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b+v+2);break;default:_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b-2)}l.appendChild(_)}var T=document.createElement("line");T.setAttribute("x1",e.position[0]),T.setAttribute("y1",b),T.setAttribute("x2",e.dimensions[0]),T.setAttribute("y2",b),T.setAttribute("stroke",r),T.setAttribute("stroke-opacity",o),l.appendChild(T)})),[i,n]}}]),t}(h.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(30)),o=v(n(19)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),h=v(n(7)),d=n(20),f=n(28),p=v(n(115)),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,l.default)(t,[{key:"stopHover",value:function(){this.pMouseOver.clear(),this.animate()}},{key:"getMouseOverHtml",value:function(e){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";var t=this.getDataAtPos(e),n="";t&&(n=(0,d.format)(".3f")(t));var r=this.pMouseOver,i=this.valueScale(t);return r.clear(),r.beginFill(0,.5),r.lineStyle(1,0,1),r.drawRect(e-2,i-2,4,4),this.animate(),""+String(n)}},{key:"initTile",value:function(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e),e.tileData&&e.tileData.dense){if(e.xValues=new Array(e.tileData.dense.length),e.yValues=new Array(e.tileData.dense.length),this.isValueScaleLocked()){var n=this.getLockGroupExtrema();null!==n&&(this.minValue(n[0]),this.maxValue(n[1]))}this.drawTile(e)}else console.warn("emptyTile:",e)}},{key:"rerender",value:function(e,n){var r=this;(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n),this.options=e,(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)}))}},{key:"renderTile",value:function(e){this.drawTile(e),this.drawAxis(this.valueScale)}},{key:"drawTile",value:function(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"drawTile",this).call(this,e),e.graphics&&e.tileData&&e.tileData.dense){var n=e.graphics,s=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),l=s.tileX,u=s.tileWidth,h=e.tileData.dense;if(0!==h.length){var d=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),p=(0,o.default)(d,2),v=p[0],g=p[1];if(this.valueScale=v,n.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var y=(0,m.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension||console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);var b=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,_=(0,f.scaleLinear)().domain([0,b]).range([l,l+u]),T=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(T,y,1),e.segments=[];for(var S=[],k=0;k<h.length;k++){var w=this._xScale(_(k)),x=this.valueScale(h[k]+g);if("log"===this.options.valueScaling&&0===h[k]||(0,i.default)(x))S.length>1&&e.segments.push(S),S=[];else{if(_(k)>this.tilesetInfo.max_pos[0])break;S.push([w,x])}}S.length>1&&e.segments.push(S);var E=!0,C=!1,O=void 0;try{for(var A,M=(0,r.default)(e.segments);!(E=(A=M.next()).done);E=!0){var P=A.value,I=P[0],L=P.slice(1);n.moveTo(I[0],I[1]);var R=!0,D=!1,N=void 0;try{for(var j,H=(0,r.default)(L);!(R=(j=H.next()).done);R=!0){var B=j.value;n.lineTo(B[0],B[1])}}catch(e){D=!0,N=e}finally{try{!R&&H.return&&H.return()}finally{if(D)throw N}}}}catch(e){C=!0,O=e}finally{try{!E&&M.return&&M.return()}finally{if(C)throw O}}}}}}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw();var n=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){if(null===this.valueScaleMin&&null===this.valueScaleMax&&!n){var r=this.minVisibleValue(),i=this.maxVisibleValue(),o=1e-6;null!==r&&null!==i&&(Math.abs(this.minValue()-r)>o||Math.abs(this.maxValue()-i)>o)&&(this.minValue(r),this.maxValue(i),this.scheduleRerender())}n&&this.onValueScaleChanged()}}},{key:"superSVG",value:function(){return(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);n=s[0],e=s[1]}else e=n=document.createElement("g");n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var u=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach((function(e){var t=document.createElement("path");t.setAttribute("fill","transparent"),t.setAttribute("stroke",u);var n="",i=!0,o=!1,a=void 0;try{for(var s,c=(0,r.default)(e.segments);!(i=(s=c.next()).done);i=!0){var h=s.value,d=h[0],f=h.slice(1);n+="M"+String(d[0])+" "+String(d[1]);var p=!0,m=!1,v=void 0;try{for(var g,y=(0,r.default)(f);!(p=(g=y.next()).done);p=!0){var b=g.value;n+="L"+String(b[0])+" "+String(b[1])}}catch(e){m=!0,v=e}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}t.setAttribute("d",n),l.appendChild(t)}));var h=document.createElement("g");if(h.setAttribute("id","axis"),n.appendChild(h),h.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var d=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);h.appendChild(d)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var f=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);h.appendChild(f)}return[n,e]}},{key:"tileToLocalId",value:function(e){return this.options.aggregationMode&&"mean"!==this.options.aggregationMode?String(e.join("."))+"."+String(this.options.aggregationMode):""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return this.tileToLocalId(e)}}]),t}(p.default);t.default=g},function(e,t,n){"use strict";function r(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+a+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t){if(1===e.length)return r(e[0],t,!0);var n="",i=o(e);for(var a in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(a,t,!0);return n},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var o=t[r];(i[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:l,escapeQuotes:u,equal:n(269),ucs2length:n(692),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},cleanUpCode:function(e){return e.replace(c,"").replace(h,"").replace(d,"if (!($1))")},finalCleanUpCode:function(e,t){var n=e.match(f);n&&2==n.length&&(e=t?e.replace(m,"").replace(v,"return data;"):e.replace(p,"").replace("return errors === 0;","validate.errors = null; return true;"));return(n=e.match(g))&&3===n.length?e.replace(y,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var n in e)if(!t[n])return n},toQuotedString:b,getPathExpr:function(e,t,n,r){return S(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var r=b(n?"/"+k(t):l(t));return S(e,r)},getData:function(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!_.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(T)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(i=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,u=i.split("/"),c=0;c<u.length;c++){var h=u[c];h&&(o+=l(w(h)),s+=" && "+o)}return s},unescapeFragment:function(e){return w(decodeURIComponent(e))},unescapeJsonPointer:w,escapeFragment:function(e){return encodeURIComponent(k(e))},escapeJsonPointer:k};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,h=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,d=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var f=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,g=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,y=/if \(rootData === undefined\) rootData = data;/;function b(e){return"'"+u(e)+"'"}var _=/^\/(?:[^~]|~0|~1)*$/,T=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function S(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function k(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function w(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){var r=n(41).Symbol;e.exports=r},function(e,t,n){var r=n(409),i=n(740),o=n(98);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(409),i=n(802),o=n(98);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){"use strict";var r=n(52),i=n(449),o=n(451),a=n(948),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){"use strict";var r=n(966),i=n(149),o=n(967),a=i.CODE_POINTS,s=i.CODE_POINT_SEQUENCES,l={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},u="DATA_STATE",c="CHARACTER_REFERENCE_IN_DATA_STATE",h="RCDATA_STATE",d="CHARACTER_REFERENCE_IN_RCDATA_STATE",f="RAWTEXT_STATE",p="SCRIPT_DATA_STATE",m="PLAINTEXT_STATE",v="TAG_OPEN_STATE",g="END_TAG_OPEN_STATE",y="TAG_NAME_STATE",b="RCDATA_LESS_THAN_SIGN_STATE",_="RCDATA_END_TAG_OPEN_STATE",T="RCDATA_END_TAG_NAME_STATE",S="RAWTEXT_LESS_THAN_SIGN_STATE",k="RAWTEXT_END_TAG_OPEN_STATE",w="RAWTEXT_END_TAG_NAME_STATE",x="SCRIPT_DATA_LESS_THAN_SIGN_STATE",E="SCRIPT_DATA_END_TAG_OPEN_STATE",C="SCRIPT_DATA_END_TAG_NAME_STATE",O="SCRIPT_DATA_ESCAPE_START_STATE",A="SCRIPT_DATA_ESCAPE_START_DASH_STATE",M="SCRIPT_DATA_ESCAPED_STATE",P="SCRIPT_DATA_ESCAPED_DASH_STATE",I="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",L="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",R="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",D="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",N="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",j="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",H="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",B="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",F="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",z="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",V="BEFORE_ATTRIBUTE_NAME_STATE",U="ATTRIBUTE_NAME_STATE",G="AFTER_ATTRIBUTE_NAME_STATE",Y="BEFORE_ATTRIBUTE_VALUE_STATE",W="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",q="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",X="ATTRIBUTE_VALUE_UNQUOTED_STATE",K="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE",$="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",Z="SELF_CLOSING_START_TAG_STATE",Q="BOGUS_COMMENT_STATE",J="BOGUS_COMMENT_STATE_CONTINUATION",ee="MARKUP_DECLARATION_OPEN_STATE",te="COMMENT_START_STATE",ne="COMMENT_START_DASH_STATE",re="COMMENT_STATE",ie="COMMENT_END_DASH_STATE",oe="COMMENT_END_STATE",ae="COMMENT_END_BANG_STATE",se="DOCTYPE_STATE",le="DOCTYPE_NAME_STATE",ue="AFTER_DOCTYPE_NAME_STATE",ce="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",he="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",de="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",fe="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",pe="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",me="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",ve="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",ge="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",ye="BOGUS_DOCTYPE_STATE",be="CDATA_SECTION_STATE";function _e(e){return e===a.SPACE||e===a.LINE_FEED||e===a.TABULATION||e===a.FORM_FEED}function Te(e){return e>=a.DIGIT_0&&e<=a.DIGIT_9}function Se(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_Z}function ke(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_Z}function we(e){return ke(e)||Se(e)}function xe(e,t){return Te(e)||t&&(e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_F||e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_F)}function Ee(e){return e+32}function Ce(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function Oe(e){return String.fromCharCode(Ee(e))}function Ae(e,t){for(var n=o[++e],r=++e,i=r+n-1;r<=i;){var a=r+i>>>1,s=o[a];if(s<t)r=a+1;else{if(!(s>t))return o[a+n];i=a-1}}return-1}var Me=e.exports=function(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=u,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};Me.CHARACTER_TOKEN="CHARACTER_TOKEN",Me.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Me.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Me.START_TAG_TOKEN="START_TAG_TOKEN",Me.END_TAG_TOKEN="END_TAG_TOKEN",Me.COMMENT_TOKEN="COMMENT_TOKEN",Me.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Me.EOF_TOKEN="EOF_TOKEN",Me.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Me.MODE={DATA:u,RCDATA:h,RAWTEXT:f,SCRIPT_DATA:p,PLAINTEXT:m},Me.getTokenAttr=function(e,t){for(var n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null},Me.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()},Me.prototype.write=function(e,t){this.active=!0,this.preprocessor.write(e,t)},Me.prototype.insertHtmlAtCurrentPos=function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)},Me.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},Me.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Me.HIBERNATION_TOKEN}),!0}return!1},Me.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},Me.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},Me.prototype._unconsumeSeveral=function(e){for(;e--;)this._unconsume()},Me.prototype._reconsumeInState=function(e){this.state=e,this._unconsume()},Me.prototype._consumeSubsequentIfMatch=function(e,t,n){for(var r=0,i=!0,o=e.length,s=0,l=t,u=void 0;s<o;s++){if(s>0&&(l=this._consume(),r++),l===a.EOF){i=!1;break}if(l!==(u=e[s])&&(n||l!==Ee(u))){i=!1;break}}return i||this._unconsumeSeveral(r),i},Me.prototype._lookahead=function(){var e=this._consume();return this._unconsume(),e},Me.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==s.SCRIPT_STRING.length)return!1;for(var e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==s.SCRIPT_STRING[e])return!1;return!0},Me.prototype._createStartTagToken=function(){this.currentToken={type:Me.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},Me.prototype._createEndTagToken=function(){this.currentToken={type:Me.END_TAG_TOKEN,tagName:"",attrs:[]}},Me.prototype._createCommentToken=function(){this.currentToken={type:Me.COMMENT_TOKEN,data:""}},Me.prototype._createDoctypeToken=function(e){this.currentToken={type:Me.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}},Me.prototype._createCharacterToken=function(e,t){this.currentCharacterToken={type:e,chars:t}},Me.prototype._createAttr=function(e){this.currentAttr={name:e,value:""}},Me.prototype._isDuplicateAttr=function(){return null!==Me.getTokenAttr(this.currentToken,this.currentAttr.name)},Me.prototype._leaveAttrName=function(e){this.state=e,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},Me.prototype._leaveAttrValue=function(e){this.state=e},Me.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},Me.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===Me.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},Me.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},Me.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:Me.EOF_TOKEN})},Me.prototype._appendCharToCurrentCharacterToken=function(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)},Me.prototype._emitCodePoint=function(e){var t=Me.CHARACTER_TOKEN;_e(e)?t=Me.WHITESPACE_CHARACTER_TOKEN:e===a.NULL&&(t=Me.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,Ce(e))},Me.prototype._emitSeveralCodePoints=function(e){for(var t=0;t<e.length;t++)this._emitCodePoint(e[t])},Me.prototype._emitChar=function(e){this._appendCharToCurrentCharacterToken(Me.CHARACTER_TOKEN,e)},Me.prototype._consumeNumericEntity=function(e){var t="",n=void 0;do{t+=Ce(this._consume()),n=this._lookahead()}while(n!==a.EOF&&xe(n,e));this._lookahead()===a.SEMICOLON&&this._consume();var r,i=parseInt(t,e?16:10),o=l[i];return o||((r=i)>=55296&&r<=57343||r>1114111?a.REPLACEMENT_CHARACTER:i)},Me.prototype._consumeNamedEntity=function(e){for(var t=null,n=0,r=null,i=0,s=!1,l=0;l>-1;){var u=o[l],c=u<7;if(c&&1&u&&(t=2&u?[o[++l],o[++l]]:[o[++l]],n=i,r===a.SEMICOLON)){s=!0;break}if(i++,(r=this._consume())===a.EOF)break;l=c?4&u?Ae(l,r):-1:r===u?++l:-1}if(t){if(!s&&(this._unconsumeSeveral(i-n),e)){var h=this._lookahead();if(h===a.EQUALS_SIGN||function(e){return we(e)||Te(e)}(h))return this._unconsumeSeveral(n),null}return t}return this._unconsumeSeveral(i),null},Me.prototype._consumeCharacterReference=function(e,t){if(_e(e)||e===a.GREATER_THAN_SIGN||e===a.AMPERSAND||e===this.additionalAllowedCp||e===a.EOF)return this._unconsume(),null;if(e===a.NUMBER_SIGN){var n=!1,r=this._lookahead();return r!==a.LATIN_SMALL_X&&r!==a.LATIN_CAPITAL_X||(this._consume(),n=!0),(r=this._lookahead())!==a.EOF&&xe(r,n)?[this._consumeNumericEntity(n)]:(this._unconsumeSeveral(n?2:1),null)}return this._unconsume(),this._consumeNamedEntity(t)};var Pe=Me.prototype;Pe.DATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state=c:e===a.LESS_THAN_SIGN?this.state=v:e===a.NULL?this._emitCodePoint(e):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},Pe.CHARACTER_REFERENCE_IN_DATA_STATE=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=u)},Pe.RCDATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state=d:e===a.LESS_THAN_SIGN?this.state=b:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},Pe.CHARACTER_REFERENCE_IN_RCDATA_STATE=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=h)},Pe.RAWTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state=S:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},Pe.SCRIPT_DATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state=x:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},Pe.PLAINTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},Pe.TAG_OPEN_STATE=function(e){e===a.EXCLAMATION_MARK?this.state=ee:e===a.SOLIDUS?this.state=g:we(e)?(this._createStartTagToken(),this._reconsumeInState(y)):e===a.QUESTION_MARK?this._reconsumeInState(Q):(this._emitChar("<"),this._reconsumeInState(u))},Pe.END_TAG_OPEN_STATE=function(e){we(e)?(this._createEndTagToken(),this._reconsumeInState(y)):e===a.GREATER_THAN_SIGN?this.state=u:e===a.EOF?(this._reconsumeInState(u),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState(Q)},Pe.TAG_NAME_STATE=function(e){_e(e)?this.state=V:e===a.SOLIDUS?this.state=Z:e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):Se(e)?this.currentToken.tagName+=Oe(e):e===a.NULL?this.currentToken.tagName+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentToken.tagName+=Ce(e)},Pe.RCDATA_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=_):(this._emitChar("<"),this._reconsumeInState(h))},Pe.RCDATA_END_TAG_OPEN_STATE=function(e){we(e)?(this._createEndTagToken(),this._reconsumeInState(T)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(h))},Pe.RCDATA_END_TAG_NAME_STATE=function(e){if(Se(e))this.currentToken.tagName+=Oe(e),this.tempBuff.push(e);else if(ke(e))this.currentToken.tagName+=Ce(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(_e(e))return void(this.state=V);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this.state=u,void this._emitCurrentToken()}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(h)}},Pe.RAWTEXT_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=k):(this._emitChar("<"),this._reconsumeInState(f))},Pe.RAWTEXT_END_TAG_OPEN_STATE=function(e){we(e)?(this._createEndTagToken(),this._reconsumeInState(w)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(f))},Pe.RAWTEXT_END_TAG_NAME_STATE=function(e){if(Se(e))this.currentToken.tagName+=Oe(e),this.tempBuff.push(e);else if(ke(e))this.currentToken.tagName+=Ce(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(_e(e))return void(this.state=V);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(f)}},Pe.SCRIPT_DATA_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=E):e===a.EXCLAMATION_MARK?(this.state=O,this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState(p))},Pe.SCRIPT_DATA_END_TAG_OPEN_STATE=function(e){we(e)?(this._createEndTagToken(),this._reconsumeInState(C)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(p))},Pe.SCRIPT_DATA_END_TAG_NAME_STATE=function(e){if(Se(e))this.currentToken.tagName+=Oe(e),this.tempBuff.push(e);else if(ke(e))this.currentToken.tagName+=Ce(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(_e(e))return void(this.state=V);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(p)}},Pe.SCRIPT_DATA_ESCAPE_START_STATE=function(e){e===a.HYPHEN_MINUS?(this.state=A,this._emitChar("-")):this._reconsumeInState(p)},Pe.SCRIPT_DATA_ESCAPE_START_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state=I,this._emitChar("-")):this._reconsumeInState(p)},Pe.SCRIPT_DATA_ESCAPED_STATE=function(e){e===a.HYPHEN_MINUS?(this.state=P,this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state=L:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(u):this._emitCodePoint(e)},Pe.SCRIPT_DATA_ESCAPED_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state=I,this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state=L:e===a.NULL?(this.state=M,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state=M,this._emitCodePoint(e))},Pe.SCRIPT_DATA_ESCAPED_DASH_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?this.state=L:e===a.GREATER_THAN_SIGN?(this.state=p,this._emitChar(">")):e===a.NULL?(this.state=M,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state=M,this._emitCodePoint(e))},Pe.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=R):we(e)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState(N)):(this._emitChar("<"),this._reconsumeInState(M))},Pe.SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE=function(e){we(e)?(this._createEndTagToken(),this._reconsumeInState(D)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(M))},Pe.SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE=function(e){if(Se(e))this.currentToken.tagName+=Oe(e),this.tempBuff.push(e);else if(ke(e))this.currentToken.tagName+=Ce(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(_e(e))return void(this.state=V);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(M)}},Pe.SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE=function(e){_e(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?j:M,this._emitCodePoint(e)):Se(e)?(this.tempBuff.push(Ee(e)),this._emitCodePoint(e)):ke(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(M)},Pe.SCRIPT_DATA_DOUBLE_ESCAPED_STATE=function(e){e===a.HYPHEN_MINUS?(this.state=H,this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state=F,this._emitChar("<")):e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(u):this._emitCodePoint(e)},Pe.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state=B,this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state=F,this._emitChar("<")):e===a.NULL?(this.state=j,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state=j,this._emitCodePoint(e))},Pe.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?(this.state=F,this._emitChar("<")):e===a.GREATER_THAN_SIGN?(this.state=p,this._emitChar(">")):e===a.NULL?(this.state=j,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state=j,this._emitCodePoint(e))},Pe.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=z,this._emitChar("/")):this._reconsumeInState(j)},Pe.SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE=function(e){_e(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?M:j,this._emitCodePoint(e)):Se(e)?(this.tempBuff.push(Ee(e)),this._emitCodePoint(e)):ke(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(j)},Pe.BEFORE_ATTRIBUTE_NAME_STATE=function(e){_e(e)||(e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState(G):e===a.EQUALS_SIGN?(this._createAttr("="),this.state=U):(this._createAttr(""),this._reconsumeInState(U)))},Pe.ATTRIBUTE_NAME_STATE=function(e){_e(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?(this._leaveAttrName(G),this._unconsume()):e===a.EQUALS_SIGN?this._leaveAttrName(Y):Se(e)?this.currentAttr.name+=Oe(e):e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN?this.currentAttr.name+=Ce(e):e===a.NULL?this.currentAttr.name+=i.REPLACEMENT_CHARACTER:this.currentAttr.name+=Ce(e)},Pe.AFTER_ATTRIBUTE_NAME_STATE=function(e){_e(e)||(e===a.SOLIDUS?this.state=Z:e===a.EQUALS_SIGN?this.state=Y:e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):(this._createAttr(""),this._reconsumeInState(U)))},Pe.BEFORE_ATTRIBUTE_VALUE_STATE=function(e){_e(e)||(e===a.QUOTATION_MARK?this.state=W:e===a.APOSTROPHE?this.state=q:this._reconsumeInState(X))},Pe.ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state=$:e===a.AMPERSAND?(this.additionalAllowedCp=a.QUOTATION_MARK,this.returnState=this.state,this.state=K):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=Ce(e)},Pe.ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state=$:e===a.AMPERSAND?(this.additionalAllowedCp=a.APOSTROPHE,this.returnState=this.state,this.state=K):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=Ce(e)},Pe.ATTRIBUTE_VALUE_UNQUOTED_STATE=function(e){_e(e)?this._leaveAttrValue(V):e===a.AMPERSAND?(this.additionalAllowedCp=a.GREATER_THAN_SIGN,this.returnState=this.state,this.state=K):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN||e===a.EQUALS_SIGN||e===a.GRAVE_ACCENT?this.currentAttr.value+=Ce(e):e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=Ce(e)},Pe.CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE=function(e){var t=this._consumeCharacterReference(e,!0);if(!this._ensureHibernation()){if(t)for(var n=0;n<t.length;n++)this.currentAttr.value+=Ce(t[n]);else this.currentAttr.value+="&";this.state=this.returnState}},Pe.AFTER_ATTRIBUTE_VALUE_QUOTED_STATE=function(e){_e(e)?this._leaveAttrValue(V):e===a.SOLIDUS?this._leaveAttrValue(Z):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):this._reconsumeInState(V)},Pe.SELF_CLOSING_START_TAG_STATE=function(e){e===a.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=u,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):this._reconsumeInState(V)},Pe.BOGUS_COMMENT_STATE=function(){this._createCommentToken(),this._reconsumeInState(J)},Pe.BOGUS_COMMENT_STATE_CONTINUATION=function(e){for(;;){if(e===a.GREATER_THAN_SIGN){this.state=u;break}if(e===a.EOF){this._reconsumeInState(u);break}if(this.currentToken.data+=e===a.NULL?i.REPLACEMENT_CHARACTER:Ce(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())return}this._emitCurrentToken()},Pe.MARKUP_DECLARATION_OPEN_STATE=function(e){var t=this._consumeSubsequentIfMatch(s.DASH_DASH_STRING,e,!0),n=!t&&this._consumeSubsequentIfMatch(s.DOCTYPE_STRING,e,!1),r=!t&&!n&&this.allowCDATA&&this._consumeSubsequentIfMatch(s.CDATA_START_STRING,e,!0);this._ensureHibernation()||(t?(this._createCommentToken(),this.state=te):n?this.state=se:r?this.state=be:this._reconsumeInState(Q))},Pe.COMMENT_START_STATE=function(e){e===a.HYPHEN_MINUS?this.state=ne:e===a.NULL?(this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=re):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+=Ce(e),this.state=re)},Pe.COMMENT_START_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this.state=oe:e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=re):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="-",this.currentToken.data+=Ce(e),this.state=re)},Pe.COMMENT_STATE=function(e){e===a.HYPHEN_MINUS?this.state=ie:e===a.NULL?this.currentToken.data+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.data+=Ce(e)},Pe.COMMENT_END_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this.state=oe:e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=re):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="-",this.currentToken.data+=Ce(e),this.state=re)},Pe.COMMENT_END_STATE=function(e){e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EXCLAMATION_MARK?this.state=ae:e===a.HYPHEN_MINUS?this.currentToken.data+="-":e===a.NULL?(this.currentToken.data+="--",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=re):e===a.EOF?(this._reconsumeInState(u),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=Ce(e),this.state=re)},Pe.COMMENT_END_BANG_STATE=function(e){e===a.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ie):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.NULL?(this.currentToken.data+="--!",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=re):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="--!",this.currentToken.data+=Ce(e),this.state=re)},Pe.DOCTYPE_STATE=function(e){_e(e)||(e===a.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):(this._createDoctypeToken(""),this._reconsumeInState(le)))},Pe.DOCTYPE_NAME_STATE=function(e){_e(e)||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState(ue):Se(e)?this.currentToken.name+=Oe(e):e===a.NULL?this.currentToken.name+=i.REPLACEMENT_CHARACTER:this.currentToken.name+=Ce(e)},Pe.AFTER_DOCTYPE_NAME_STATE=function(e){if(!_e(e))if(e===a.GREATER_THAN_SIGN)this.state=u,this._emitCurrentToken();else{var t=this._consumeSubsequentIfMatch(s.PUBLIC_STRING,e,!1),n=!t&&this._consumeSubsequentIfMatch(s.SYSTEM_STRING,e,!1);this._ensureHibernation()||(t?this.state=ce:n?this.state=pe:(this.currentToken.forceQuirks=!0,this.state=ye))}},Pe.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE=function(e){_e(e)||(e===a.QUOTATION_MARK?(this.currentToken.publicId="",this.state=he):e===a.APOSTROPHE?(this.currentToken.publicId="",this.state=de):(this.currentToken.forceQuirks=!0,this._reconsumeInState(ye)))},Pe.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state=fe:e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.publicId+=Ce(e)},Pe.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state=fe:e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.publicId+=Ce(e)},Pe.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE=function(e){_e(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=me):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state=ve):(this.currentToken.forceQuirks=!0,this._reconsumeInState(ye)))},Pe.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){_e(e)||(e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=me):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state=ve):(this.currentToken.forceQuirks=!0,this._reconsumeInState(ye)))},Pe.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state=ge:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.systemId+=Ce(e)},Pe.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state=ge:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.systemId+=Ce(e)},Pe.AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){_e(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.state=ye)},Pe.BOGUS_DOCTYPE_STATE=function(e){e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.EOF&&(this._emitCurrentToken(),this._reconsumeInState(u))},Pe.CDATA_SECTION_STATE=function(e){for(;;){if(e===a.EOF){this._reconsumeInState(u);break}var t=this._consumeSubsequentIfMatch(s.CDATA_END_STRING,e,!0);if(this._ensureHibernation())break;if(t){this.state=u;break}if(this._emitCodePoint(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())break}}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function h(e){return h="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)},h(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?d(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}n.r(t);var g=n(1),y=n(2),b=n.n(y),_=n(42),T=n(86),S=n.n(T);function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"SortableContainer",(function(){return me})),n.d(t,"sortableContainer",(function(){return me})),n.d(t,"SortableElement",(function(){return ye})),n.d(t,"sortableElement",(function(){return ye})),n.d(t,"SortableHandle",(function(){return ae})),n.d(t,"sortableHandle",(function(){return ae})),n.d(t,"arrayMove",(function(){return E}));var w=function(){function e(){s(this,e),o(this,"refs",{})}return u(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(x)}}]),e}();function x(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function E(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function C(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var O={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},A=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function M(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function P(e,t){e.style["".concat(A,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function I(e,t){e.style["".concat(A,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function L(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function R(e,t,n){return Math.max(e,Math.min(n,t))}function D(e){return"px"===e.substr(-2)?parseFloat(e):0}function N(e){var t=window.getComputedStyle(e);return{bottom:D(t.marginBottom),left:D(t.marginLeft),right:D(t.marginRight),top:D(t.marginTop)}}function j(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function H(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function B(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function F(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:z(e.parentNode,t,r)}}function V(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function U(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);S()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return S()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function G(e){var t=e.height,n=e.width,r=e.lockOffset,o=Array.isArray(r)?r:[r,r];S()(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var a=i(o,2),s=a[0],l=a[1];return[U({height:t,lockOffset:s,width:n}),U({height:t,lockOffset:l,width:n})]}function Y(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:Y(e.parentNode):null}var W=27,q=32,X=37,K=38,$=39,Z=40,Q="A",J="BUTTON",ee="CANVAS",te="INPUT",ne="OPTION",re="TEXTAREA",ie="SELECT";function oe(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return k(r.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===ee&&n[t].width>0&&n[t].height>0)&&e.getContext("2d").drawImage(n[t],0,0)})),r}function ae(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),f(this,p(n).apply(this,arguments))}return v(n,t),u(n,[{key:"componentDidMount",value:function(){Object(_.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return S()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(g.createElement)(e,r({ref:t},this.props))}}]),n}(g.Component),o(t,"displayName",j("sortableHandle",e)),n}function se(e){return null!=e.sortableHandle}var le=function(){function e(t,n){s(this,e),this.container=t,this.onScrollCallback=n}return u(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,i=e.maxTranslate,o=e.width,a=e.height,s={x:0,y:0},l={x:1,y:1},u=10,c=10,h=this.container,d=h.scrollTop,f=h.scrollLeft,p=h.scrollHeight,m=h.scrollWidth,v=0===d,g=p-d-h.clientHeight==0,y=0===f,b=m-f-h.clientWidth==0;n.y>=i.y-a/2&&!g?(s.y=1,l.y=c*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!b?(s.x=1,l.x=u*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!v?(s.y=-1,l.y=c*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!y&&(s.x=-1,l.x=u*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var ue={axis:b.a.oneOf(["x","y","xy"]),contentWindow:b.a.any,disableAutoscroll:b.a.bool,distance:b.a.number,getContainer:b.a.func,getHelperDimensions:b.a.func,helperClass:b.a.string,helperContainer:b.a.oneOfType([b.a.func,"undefined"==typeof HTMLElement?b.a.any:b.a.instanceOf(HTMLElement)]),hideSortableGhost:b.a.bool,keyboardSortingTransitionDuration:b.a.number,lockAxis:b.a.string,lockOffset:b.a.oneOfType([b.a.number,b.a.string,b.a.arrayOf(b.a.oneOfType([b.a.number,b.a.string]))]),lockToContainerEdges:b.a.bool,onSortEnd:b.a.func,onSortMove:b.a.func,onSortOver:b.a.func,onSortStart:b.a.func,pressDelay:b.a.number,pressThreshold:b.a.number,keyCodes:b.a.shape({lift:b.a.arrayOf(b.a.number),drop:b.a.arrayOf(b.a.number),cancel:b.a.arrayOf(b.a.number),up:b.a.arrayOf(b.a.number),down:b.a.arrayOf(b.a.number)}),shouldCancelStart:b.a.func,transitionDuration:b.a.number,updateBeforeSortStart:b.a.func,useDragHandle:b.a.bool,useWindowAsScrollContainer:b.a.bool},ce={lift:[q],drop:[q],cancel:[W],up:[K,X],down:[Z,$]},he={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:ce,shouldCancelStart:function(e){return-1!==[te,re,ie,ne,J].indexOf(e.target.tagName)||!!L(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},de=Object.keys(ue);function fe(e){S()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function pe(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function me(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return s(this,n),o(d(d(t=f(this,p(n).call(this,e)))),"state",{}),o(d(d(t)),"handleStart",(function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=B(e);var o=L(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(s.disabled)return;if(a&&!L(e.target,se))return;t.manager.active={collection:u,index:l},F(e)||e.target.tagName!==Q||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),o(d(d(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),o(d(d(t)),"handleMove",(function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=B(e),a={x:t.position.x-o.x,y:t.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,r||i&&!(s>=i)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),o(d(d(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),o(d(d(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),o(d(d(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=f.sortableInfo.index,r=N(f),i=t.scrollContainer.getBoundingClientRect(),c=s({collection:p,index:n,node:f});if(t.node=f,t.margin=r,t.width=c.width,t.height=c.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=f.getBoundingClientRect(),t.containerBoundingRect=i,t.index=n,t.newIndex=n,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=z(f,t.container),t.initialOffset=B(m?a({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(oe(f)),M(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),u&&(t.sortableGhost=f,M(f,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var v=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,g=v.top,y=v.left,b=v.width,_=g+v.height,T=y+b;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=T-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=g-t.boundingClientRect.top,t.maxTranslate.y=_-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:i.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:i.left+i.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:i.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:i.top+i.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?f:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(O.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),O.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),h&&h({node:f,index:n,collection:p,isKeySorting:m},e),m&&t.keyMove(0)},i=t.props,o=i.axis,s=i.getHelperDimensions,l=i.helperClass,u=i.hideSortableGhost,c=i.updateBeforeSortStart,h=i.onSortStart,d=i.useWindowAsScrollContainer,f=n.node,p=n.collection,m=t.manager.isKeySorting,v=function(){if("function"==typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=pe((function(){var t=f.sortableInfo.index;return Promise.resolve(c({collection:p,index:t,node:f,isKeySorting:m},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return v&&v.then?v.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),o(d(d(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),o(d(d(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager,a=o.active.collection,s=o.isKeySorting,l=t.manager.refs[a];t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(O.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),O.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&M(t.sortableGhost,{opacity:"",visibility:""});for(var u=0,c=l.length;u<c;u++){var h=l[u],d=h.node;h.edgeOffset=null,h.boundingClientRect=null,P(d,null),I(d,null),h.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s},e),t.touched=!1})),o(d(d(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var r=a({},t.translate),i=0,o=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-r.y),t.translate=r,P(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),o(d(d(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),o(d(d(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,o=r.keyCodes,s=a({},ce,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||s.lift.includes(n)&&!i(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),s.lift.includes(n)&&!t.manager.active?t.keyLift(e):s.drop.includes(n)&&t.manager.active?t.keyDrop(e):s.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):s.up.includes(n)?t.keyMove(-1):s.down.includes(n)&&t.keyMove(1))})),o(d(d(t)),"keyLift",(function(e){var n=e.target,r=L(n,(function(e){return null!=e.sortableInfo})).sortableInfo,i=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)})),o(d(d(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>r)){t.prevIndex=o,t.newIndex=i;var a=V(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===a})),l=s.node,u=t.containerScrollDelta,c=s.boundingClientRect||H(l,u),h=s.translate||{x:0,y:0},d=c.top+h.y-u.top,f=c.left+h.x-u.left,p=o<i,m=p&&t.axis.x?l.offsetWidth-t.width:0,v=p&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:f+m,pageY:d+v,ignoreTransition:0===e})}})),o(d(d(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),o(d(d(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),o(d(d(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,i=L(r,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?se(r):r.sortableInfo)})),fe(e),t.manager=new w,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return v(n,t),u(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:Y(e.container)||e.container,e.autoScroller=new le(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return O[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return O[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,o=t.lockToContainerEdges,a=t.transitionDuration,s=t.keyboardSortingTransitionDuration,l=void 0===s?a:s,u=this.manager.isKeySorting,c=e.ignoreTransition,h=B(e),d={x:h.x-this.initialOffset.x,y:h.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,o){var f=i(G({height:this.height,lockOffset:r,width:this.width}),2),p=f[0],m=f[1],v={x:this.width/2-p.x,y:this.height/2-p.y},g={x:this.width/2-m.x,y:this.height/2-m.y};d.x=R(this.minTranslate.x+v.x,this.maxTranslate.x-g.x,d.x),d.y=R(this.minTranslate.y+v.y,this.maxTranslate.y-g.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),u&&l&&!c&&I(this.helper,l),P(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,l=this.offsetEdge.top+this.translate.y+i.top,u=this.manager.isKeySorting,c=this.newIndex;this.newIndex=null;for(var h=0,d=a.length;h<d;h++){var f=a[h].node,p=f.sortableInfo.index,m=f.offsetWidth,v=f.offsetHeight,g={height:this.height>v?v/2:this.height/2,width:this.width>m?m/2:this.width/2},y=u&&p>this.index&&p<=c,b=u&&p<this.index&&p>=c,_={x:0,y:0},T=a[h].edgeOffset;T||(T=z(f,this.container),a[h].edgeOffset=T,u&&(a[h].boundingClientRect=H(f,i)));var S=h<a.length-1&&a[h+1],k=h>0&&a[h-1];S&&!S.edgeOffset&&(S.edgeOffset=z(S.node,this.container),u&&(S.boundingClientRect=H(S.node,i))),p!==this.index?(t&&I(f,t),this.axis.x?this.axis.y?b||p<this.index&&(s+o.left-g.width<=T.left&&l+o.top<=T.top+g.height||l+o.top+g.height<=T.top)?(_.x=this.width+this.marginOffset.x,T.left+_.x>this.containerBoundingRect.width-g.width&&S&&(_.x=S.edgeOffset.left-T.left,_.y=S.edgeOffset.top-T.top),null===this.newIndex&&(this.newIndex=p)):(y||p>this.index&&(s+o.left+g.width>=T.left&&l+o.top+g.height>=T.top||l+o.top+g.height>=T.top+v))&&(_.x=-(this.width+this.marginOffset.x),T.left+_.x<this.containerBoundingRect.left+g.width&&k&&(_.x=k.edgeOffset.left-T.left,_.y=k.edgeOffset.top-T.top),this.newIndex=p):y||p>this.index&&s+o.left+g.width>=T.left?(_.x=-(this.width+this.marginOffset.x),this.newIndex=p):(b||p<this.index&&s+o.left<=T.left+g.width)&&(_.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=p)):this.axis.y&&(y||p>this.index&&l+o.top+g.height>=T.top?(_.y=-(this.height+this.marginOffset.y),this.newIndex=p):(b||p<this.index&&l+o.top<=T.top+g.height)&&(_.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=p))),P(f,_),a[h].translate=_):n&&(this.sortableGhost=f,M(f,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),u&&(this.newIndex=c);var w=u?this.prevIndex:c;r&&this.newIndex!==w&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:w,isKeySorting:u})}},{key:"getWrappedInstance",value:function(){return S()(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(_.findDOMNode)(this):e(l.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=l.withRef?"wrappedInstance":null;return Object(g.createElement)(e,r({ref:t},C(this.props,de)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(g.Component),o(t,"displayName",j("sortableList",e)),o(t,"defaultProps",he),o(t,"propTypes",ue),o(t,"childContextTypes",{manager:b.a.object.isRequired}),n}var ve={index:b.a.number.isRequired,collection:b.a.oneOfType([b.a.number,b.a.string]),disabled:b.a.bool},ge=Object.keys(ve);function ye(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),f(this,p(n).apply(this,arguments))}return v(n,t),u(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=Object(_.findDOMNode)(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return S()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(g.createElement)(e,r({ref:t},C(this.props,ge)))}}]),n}(g.Component),o(t,"displayName",j("sortableElement",e)),o(t,"contextTypes",{manager:b.a.object.isRequired}),o(t,"propTypes",ve),o(t,"defaultProps",{collection:0}),n}},function(e,t,n){var r=n(16),i=n(12),o=n(50);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(47),i=n(54),o=n(90)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(49),i=n(165),o=n(166),a=n(39),s=n(88),l=n(112),u={},c={};(t=e.exports=function(e,t,n,h,d){var f,p,m,v,g=d?function(){return e}:l(e),y=r(n,h,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(f=s(e.length);f>b;b++)if((v=t?y(a(p=e[b])[0],p[1]):y(e[b]))===u||v===c)return v}else for(m=g.call(e);!(p=m.next()).done;)if((v=i(m,y,p.value,t))===u||v===c)return v}).BREAK=u,t.RETURN=c},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports={default:n(230),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{modal:o}))}))}))},t.Provider=l},function(e,t,n){"use strict";t.__esModule=!0,t.noop=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=s,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=l(e[n]);return t},t.cloneLayoutItem=l,t.childrenEqual=function(e,t){return(0,i.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.collides=u,t.compact=c,t.compactItem=f,t.correctBounds=p,t.getLayoutItem=m,t.getFirstCollision=v,t.getAllCollisions=g,t.getStatics=y,t.moveElement=b,t.moveElementAwayFromCollision=_,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,i=e.height,o="translate("+n+"px,"+t+"px)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:r+"px",height:i+"px",position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,i=e.height;return{top:t+"px",left:n+"px",width:r+"px",height:i+"px",position:"absolute"}},t.sortLayoutItems=T,t.sortLayoutItemsByRowCol=S,t.sortLayoutItemsByColRow=k,t.synchronizeLayoutWithChildren=function(e,t,n,i){e=e||[];var a=[];return o.default.Children.forEach(t,(function(t,n){var i=m(e,String(t.key));if(i)a[n]=l(i);else{0;var o=t.props["data-grid"]||t.props._grid;a[n]=l(o?r({},o,{i:t.key}):{w:1,h:1,x:0,y:s(a),i:String(t.key)})}})),a=c(a=p(a,{cols:n}),i,n)},t.validateLayout=w,t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))};var i=a(n(172)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function l(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function u(e,t){return e!==t&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function c(e,t,n){for(var r=y(e),i=T(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var u=l(i[a]);u.static||(u=f(r,u,t,n,i),r.push(u)),o[e.indexOf(i[a])]=u,u.moved=!1}return o}var h={x:"w",y:"h"};function d(e,t,n,r){var i=h[r];t[r]+=1;for(var o=e.indexOf(t)+1;o<e.length;o++){var a=e[o];if(!a.static){if(a.y>t.y+t.h)break;u(t,a)&&d(e,a,n+t[i],r)}}t[r]=n}function f(e,t,n,r,i){var o="horizontal"===n;if("vertical"===n)for(t.y=Math.min(s(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(o)for(t.y=Math.min(s(e),t.y);t.x>0&&!v(e,t);)t.x--;for(var a=void 0;a=v(e,t);)o?d(i,t,a.x+a.w,"x"):d(i,t,a.y+a.h,"y"),o&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function p(e,t){for(var n=y(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;v(n,o);)o.y++;else n.push(o)}return e}function m(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(u(e[n],t))return e[n]}function g(e,t){return e.filter((function(e){return u(e,t)}))}function y(e){return e.filter((function(e){return e.static}))}function b(e,t,n,r,i,o,a,s){if(t.static)return e;if(t.y===r&&t.x===n)return e;x("Moving element "+t.i+" to ["+String(n)+","+String(r)+"] from ["+t.x+","+t.y+"]");var l=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var c=T(e,a);("vertical"===a&&"number"==typeof r?u>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(c=c.reverse());var h=g(c,t);if(o&&h.length)return x("Collision prevented on "+t.i+", reverting."),t.x=l,t.y=u,t.moved=!1,e;for(var d=0,f=h.length;d<f;d++){var p=h[d];x("Resolving collision between "+t.i+" at ["+t.x+","+t.y+"] and "+p.i+" at ["+p.x+","+p.y+"]"),p.moved||(e=p.static?_(e,p,t,i,a,s):_(e,t,p,i,a,s))}return e}function _(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i;if(r){r=!1;var l={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,l))return x("Doing reverse collision on "+n.i+" up to ["+l.x+","+l.y+"]."),b(e,n,a?l.x:void 0,s?l.y:void 0,r,false,i,o)}return b(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,false,i,o)}function T(e,t){return"horizontal"===t?k(e):S(e)}function S(e){return[].concat(e).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function k(e){return[].concat(e).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function x(){}t.noop=function(){}},function(e,t,n){"use strict";n.r(t),n.d(t,"globalPubSub",(function(){return d})),n.d(t,"createPubSub",(function(){return c}));const r=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch(e){return{postMessage:()=>{}}}})(),i=(e,t)=>t?e.toLowerCase():e,o=(e,{caseInsensitive:t}={})=>(n,r,o=1/0)=>{const a=i(n,t);return e[a]||(e[a]=[],e.__times__[a]=[]),e[a].push(r),e.__times__[a].push(+o||1/0),{event:a,handler:r}},a=(e,{caseInsensitive:t}={})=>(n,r)=>{"object"==typeof n&&(r=n.handler,n=n.event);const o=i(n,t);if(!e[o])return;const a=e[o].indexOf(r);-1===a||a>=e[o].length||(e[o].splice(a,1),e.__times__[o].splice(a,1))},s=(e,t)=>()=>{e.forEach((e=>e(t)))},l=(e,{isGlobal:t,caseInsensitive:n,async:o}={})=>{const l=a(e);return(a,u,c={})=>{const h=i(a,n);if(!e[h])return;const d=[...e[h]];if(d.forEach(((t,n)=>{--e.__times__[h][n]<1&&l(h,t)})),o||c.async?setTimeout(s(d,u),0):s(d,u)(),t&&!c.isNoGlobalBroadcast)try{r.postMessage({event:h,news:u})}catch(e){if(!(e instanceof DOMException))throw e;console.warn(`Could not broadcast '${h}' globally. Payload is not clonable.`)}}},u=e=>()=>{Object.keys(e).filter((e=>"_"!==e[0])).forEach((t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]}))},c=({async:e=!1,caseInsensitive:t=!1,stack:n={__times__:{}}}={})=>(n.__times__||(n.__times__={}),{publish:l(n,{async:e,caseInsensitive:t}),subscribe:o(n,{caseInsensitive:t}),unsubscribe:a(n,{caseInsensitive:t}),clear:u(n),stack:n}),h={__times__:{}},d={publish:l(h,{isGlobal:!0}),subscribe:o(h),unsubscribe:a(h),stack:h};r.onmessage=({data:{event:e,news:t}})=>d.publish(e,t,!0),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=M(n(63)),i=M(n(55)),o=M(n(17)),a=M(n(95)),s=M(n(30)),l=M(n(19)),u=M(n(35)),c=M(n(5)),h=M(n(34)),d=M(n(3)),f=M(n(4)),p=M(n(6)),m=M(n(14)),v=M(n(7)),g=M(n(136)),y=n(83),b=n(20),_=n(28),T=n(0),S=M(n(26)),k=n(10),w=n(79),x=M(w),E=M(n(179)),C=n(24),O=n(11),A=n(114);function M(e){return e&&e.__esModule?e:{default:e}}var P=10,I=10,L=I,R=function(e){function t(e,n){(0,d.default)(this,t);var r=(0,h.default)({},e);r.onValueScaleChanged=function(){e.onValueScaleChanged(),i.drawColorbar()};var i=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,r,n)),o=e.pubSub,a=e.animate,s=e.svgElement,l=e.onTrackOptionsChanged,f=e.onMouseMoveZoom,m=e.isShowGlobalMousePosition,v=e.isValueScaleLocked;return i.pubSub=o,i.is2d=!0,i.animate=a,i.uid=S.default.nice(),i.scaleBrush=(0,y.brushY)(),i.onTrackOptionsChanged=l,i.isShowGlobalMousePosition=m,i.isValueScaleLocked=v,i.pColorbarArea=new O.GLOBALS.PIXI.Graphics,i.pMasked.addChild(i.pColorbarArea),i.pColorbar=new O.GLOBALS.PIXI.Graphics,i.pColorbarArea.addChild(i.pColorbar),i.axis=new E.default(i),i.pColorbarArea.addChild(i.axis.pAxis),i.colorScale=O.HEATED_OBJECT_MAP,n&&n.colorRange&&(i.colorScale=(0,k.colorDomainToRgbaArray)(n.colorRange)),i.gBase=(0,T.select)(s).append("g"),i.gMain=i.gBase.append("g"),i.gColorscaleBrush=i.gMain.append("g"),i.brushing=!1,i.prevOptions="",i.prevIndUpperLeftTile="",i.onMouseMoveZoom=f,i.setDataLensSize(11),i.dataLens=new Float32Array(Math.pow(i.dataLensSize,2)),i.mouseMoveHandlerBound=i.mouseMoveHandler.bind(i),i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandlerBound)),i.options&&i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=(0,k.showMousePosition)(i,i.is2d,i.isShowGlobalMousePosition())),i.prevOptions=(0,u.default)(n),i}return(0,v.default)(t,e),(0,f.default)(t,[{key:"mouseMoveHandler",value:function(e){this.isWithin(e.x,e.y)&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if(void 0!==t&&void 0!==n&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var r=t-this.position[0],i=n-this.position[1],o=void 0,a=void 0;try{o=(a=this.getVisibleRectangleData(r-this.dataLensPadding,i-this.dataLensPadding,this.dataLensSize,this.dataLensSize)).get(this.dataLensPadding,this.dataLensPadding)}catch(e){return}var s=this.dataLensSize,l=void 0;try{l=(0,k.valueToColor)(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch(e){return}if(l){var u=Math.round(this._xScale.invert(r)),c=Math.round(this._yScale.invert(i)),h=[u,c],d=[Math.round(this._xScale.invert(r-this.dataLensPadding)),Math.round(this._xScale.invert(r+this.dataLensPadding))],f=[Math.round(this._yScale.invert(i-this.dataLensPadding)),Math.round(this._yScale.invert(i+this.dataLensPadding))];this.chromInfo&&(h=h.map((function(t){return(0,k.absToChr)(t,e.chromInfo).slice(0,2)})),d=d.map((function(t){return(0,k.absToChr)(t,e.chromInfo).slice(0,2)})),f=f.map((function(t){return(0,k.absToChr)(t,e.chromInfo).slice(0,2)}))),this.onMouseMoveZoom({trackId:this.id,data:o,absX:t,absY:n,relX:r,relY:i,dataX:u,dataY:c,orientation:"2d",dataLens:a,dim:s,toRgb:l,center:h,xRange:d,yRange:f,isGenomicCoords:!!this.chromInfo})}}}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!0)}},{key:"getAbsTileDim",value:function(e,t,n){var r=this.getTilePosAndDimensions(e,t),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight,l={};return l.width=this._refXScale(i+a)-this._refXScale(i),l.height=this._refYScale(o+s)-this._refYScale(o),n?(l.x=this._refXScale(o),l.y=this._refYScale(i)):(l.x=this._refXScale(i),l.y=this._refYScale(o)),l}},{key:"updateValueScale",value:function(){var e=this.minValue(),t=this.maxValue(),n=1e-6;null!=e&&null!=t&&Math.abs(e-t)<n&&(e=Math.max(n,e-.001),t+=.001);var r=(0,w.getValueScale)(this.options&&this.options.heatmapValueScaling||"log",e,this.medianVisibleValue,t,"log"),i=(0,l.default)(r,2),o=i[0],a=i[1];return this.valueScale=a,this.limitedValueScale=this.valueScale.copy(),this.options&&void 0!==this.options.scaleStartPercent&&void 0!==this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[o,a]}},{key:"rerender",value:function(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.updateValueScale();var i=(0,u.default)(e);this.drawColorbar(),(n||i!==this.prevOptions)&&(this.prevOptions=i,this.options=e,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.calculateVisibleTiles(),e&&e.colorRange&&(this.colorScale=(0,k.colorDomainToRgbaArray)(e.colorRange)),this.visibleAndFetchedTiles().forEach((function(e){return r.renderTile(e)})),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,k.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())))}},{key:"drawLabel",value:function(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=75:this.labelXOffset=0,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"drawLabel",this).call(this)}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");t.width=this.binsPerTile(),t.height=this.binsPerTile();var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"exportData",value:function(){if(this.tilesetInfo){var e=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),t={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:e.shape,data:(0,k.ndarrayFlatten)(e)};(0,k.download)("data.json",(0,u.default)(t))}}},{key:"setSpriteProperties",value:function(e,t,n,r){var i=this.getAbsTileDim(t,n,r);e.width=i.width,e.height=i.height,e.x=i.x,e.y=i.y,r&&n[0]!==n[1]&&(e.rotation=-Math.PI/2,e.scale.x=-1*Math.abs(e.scale.x))}},{key:"refXScale",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refXScale",this).call(this,e),this.draw()}},{key:"refYScale",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refYScale",this).call(this,e),this.draw()}},{key:"draw",value:function(){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"draw",this).call(this)}},{key:"newBrushOptions",value:function(e){var t=JSON.parse((0,u.default)(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(e[0]),i=(n.invert(e[1])-n.domain()[0])/(n.domain()[1]-n.domain()[0]),o=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return t.scaleStartPercent=i.toFixed(5),t.scaleEndPercent=o.toFixed(5),t}},{key:"brushStart",value:function(){this.brushing=!0}},{key:"brushMoved",value:function(){if(T.event.selection){var e=this.newBrushOptions(T.event.selection),t=(0,u.default)(e);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",(function(e){return"n"===e.type?T.event.selection[0]:T.event.selection[1]-2})),t!==this.prevOptions&&(this.prevOptions=t,this.rerender(e,!0),this.onTrackOptionsChanged(e),this.isValueScaleLocked()&&this.onValueScaleChanged())}}},{key:"brushEnd",value:function(){this.brushing=!1}},{key:"setPosition",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setPosition",this).call(this,e),this.drawColorbar()}},{key:"setDimensions",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setDimensions",this).call(this,e),this.drawColorbar()}},{key:"removeColorbar",value:function(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}},{key:"drawColorbar",value:function(){if(this.pColorbar.clear(),this.options&&this.options.colorbarPosition&&"hidden"!==this.options.colorbarPosition){if(this.pColorbarArea.visible=!0,this.valueScale&&!(0,s.default)(+this.valueScale.domain()[0])&&!(0,s.default)(+this.valueScale.domain()[1])){var e=Math.min(this.dimensions[1]/2,200);if(this.colorbarHeight=e-20,this.colorbarHeight<0)this.removeColorbar();else if(this.valueScale.domain()[1]!==this.valueScale.domain()[0]){var t=this.valueScale.copy().range([this.colorbarHeight,0]);if("topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[4,0],[L,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[6,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition){var n=(0,l.default)(this.position,2);this.pColorbarArea.x=n[0],this.pColorbarArea.y=n[1],this.pColorbar.y=I,this.axis.pAxis.y=I,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+4)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")}"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1],this.pColorbar.y=I,this.axis.pAxis.y=I,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+P+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=I,this.axis.pAxis.y=I,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+P+1)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=I,this.axis.pAxis.y=I,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,k.colorToHex)(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,75,e),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};var r=t.domain()[1]-t.domain()[0],i=t(this.options.scaleStartPercent*r+t.domain()[0]),o=t(this.options.scaleEndPercent*r+t.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",L).attr("height",4).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[o,i]));for(var a=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),u=0;u<this.colorbarHeight;u++){var c=this.limitedValueScale(t.invert(u)),h=Math.max(0,Math.min(254,Math.floor(c)));this.pColorbar.beginFill((0,k.colorToHex)("rgb("+String(this.colorScale[h][0])+","+String(this.colorScale[h][1])+","+String(this.colorScale[h][2])+")")),this.pColorbar.drawRect(0,u,P,1)}this.pAxis.position.x=P,this.pAxis.position.y=a(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(t,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||this.axis.drawAxisLeft(t,this.colorbarHeight)}else this.removeColorbar()}}else this.removeColorbar()}},{key:"exportColorBarSVG",value:function(){var e=document.createElement("g");if(e.setAttribute("class","color-bar"),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return e;if(!this.valueScale)return e;e.setAttribute("transform","translate("+String(this.pColorbarArea.x)+", "+String(this.pColorbarArea.y)+")");var t=document.createElement("rect");e.appendChild(t);var n=document.createElement("g");e.appendChild(n),n.setAttribute("transform","translate("+String(this.pColorbar.x)+", "+String(this.pColorbar.y)+")");var r=Math.min(this.dimensions[1]/2,200);this.colorbarHeight=r-20,t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",75),t.setAttribute("height",r),t.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var i=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),o=this.colorbarHeight/256,a=0;a<256;a++){var s=document.createElement("rect");n.appendChild(s),s.setAttribute("x",0),s.setAttribute("y",i(a)),s.setAttribute("width",P),s.setAttribute("height",o),s.setAttribute("class","color-rect");var l=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(a))))),u=this.colorScale[l];u?s.setAttribute("style","fill: rgb("+String(u[0])+", "+String(u[1])+", "+String(u[2])+")"):s.setAttribute("style","fill: rgb(255,255,255,0)")}var c=document.createElement("g");e.appendChild(c),c.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+","+String(this.axis.pAxis.position.y)+")");var h=null,d=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?h=this.axis.exportAxisRightSVG(d,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||(h=this.axis.exportAxisLeftSVG(d,this.colorbarHeight)),c.appendChild(h),e}},{key:"setDataLensSize",value:function(e){this.dataLensPadding=Math.max(0,Math.floor((e-1)/2)),this.dataLensSize=2*this.dataLensPadding+1}},{key:"binsPerTile",value:function(){return this.tilesetInfo.bins_per_dimension||256}},{key:"getVisibleRectangleData",value:function(e,t,n,r){var i=this,o=this.calculateZoomLevel();o=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,o):o;var a=C.tileProxy.calculateTileWidth(this.tilesetInfo,o,this.binsPerTile())/this.binsPerTile(),s=[this._xScale.invert(e),this._xScale.invert(e+n)],l=[this._yScale.invert(t),this._yScale.invert(t+r)],u=[Math.max(s[0],this.tilesetInfo.min_pos[0]),Math.min(s[1],this.tilesetInfo.max_pos[0])],c=[Math.max(l[0],this.tilesetInfo.min_pos[1]),Math.min(l[1],this.tilesetInfo.max_pos[1])],h=Math.floor(u[0]/a),d=Math.floor(c[0]/a),f=Math.max(0,Math.ceil((u[1]-u[0])/a)),p=Math.max(0,Math.ceil((c[1]-c[0])/a)),m=(0,g.default)(new Array(p*f).fill(NaN),[p,f]);return this.visibleAndFetchedTiles().forEach((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,n=i.getTilePosAndDimensions(e.tileData.zoomLevel,t,i.binsPerTile()),r=n.tileX,o=n.tileY,s=n.tileWidth,l=n.tileHeight,u=Math.floor(r/a),c=Math.floor((r+s)/a),v=Math.floor(o/a),g=Math.floor((o+l)/a),y=Math.max(h,u)-u,b=Math.max(d,v)-v,_=Math.min(h+f,c)-u,T=Math.min(d+p,g)-v,S=Math.max(u-h,0),w=Math.max(v-d,0),x=_-y,E=T-b;if(!(x<0||E<0)){if(e.mirrored&&y>b){var C=y;y=b,b=C}(0,k.ndarrayAssign)(m.hi(w+E,S+x).lo(w,S),e.dataArray.hi(b+E,y+x).lo(b,y))}})),m}},{key:"initTile",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e),e.tileData.dense.length===Math.pow(this.binsPerTile(),2)&&(e.dataArray=(0,g.default)((0,a.default)(e.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&e.tileData.tilePos[0]===e.tileData.tilePos[1]&&e.mirrored&&(e.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e))),null!==this.scale.minValue&&null!==this.scale.maxValue&&this.renderTile(e)}},{key:"updateTile",value:function(e){e.scale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||(this.renderTile(e),this.drawColorbar())}},{key:"destroyTile",value:function(e){e.sprite.destroy(!0),e.canvas=null,e.sprite=null,e.texture=null}},{key:"pixDataFunction",value:function(e,t){if(t){var n=e.graphics,r=this.tileDataToCanvas(t.pixData);e.sprite&&e.sprite.destroy(!0);var i="4"===O.GLOBALS.PIXI.VERSION[0]?O.GLOBALS.PIXI.Texture.fromCanvas(r,O.GLOBALS.PIXI.SCALE_MODES.NEAREST):O.GLOBALS.PIXI.Texture.from(r,{scaleMode:O.GLOBALS.PIXI.SCALE_MODES.NEAREST}),o=new O.GLOBALS.PIXI.Sprite(i);e.sprite=o,e.texture=i,e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}},{key:"renderTile",value:function(e){var t=this,n=this.updateValueScale(),r=(0,l.default)(n,1)[0];if(this.renderingTiles.add(e.tileId),this.tilesetInfo.tile_size&&e.tileData.dense.length<this.tilesetInfo.tile_size){var i=new Float32Array(this.tilesetInfo.tile_size);i.fill(NaN),i.set(e.tileData.dense),e.tileData.dense=i}C.tileProxy.tileDataToPixData(e,r,this.limitedValueScale.domain(),0,this.colorScale,(function(n){return t.pixDataFunction(e,n)}),this.mirrorTiles()&&!e.mirrored&&e.tileData.tilePos[0]===e.tileData.tilePos[1],"upper-right"===this.options.extent&&e.tileData.tilePos[0]===e.tileData.tilePos[1],this.options.zeroValueColor?(0,k.colorToRgba)(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"remove",this).call(this)}},{key:"refScalesChanged",value:function(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refScalesChanged",this).call(this,e,n),(0,k.objVals)(this.fetchedTiles).filter((function(e){return e.sprite})).forEach((function(e){return r.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored)}))}},{key:"superSVG",value:function(){return(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this)){var r=(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this),i=(0,l.default)(r,2);n=i[0],e=i[1]}else e=n=document.createElement("g");var a=document.createElement("g");e.appendChild(a),a.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var s=!0,u=!1,h=void 0;try{for(var d,f=(0,o.default)(this.visibleAndFetchedTiles());!(s=(d=f.next()).done);s=!0){var p=d.value,v=180*p.sprite.rotation/Math.PI,g=document.createElement("g");g.setAttribute("transform","translate("+String(p.sprite.x)+","+String(p.sprite.y)+") rotate("+v+") scale("+String(p.sprite.scale.x)+","+String(p.sprite.scale.y)+")");var y=document.createElement("image");y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.canvas.toDataURL()),y.setAttribute("width",p.canvas.width),y.setAttribute("height",p.canvas.height),y.setAttribute("style","image-rendering: pixelated"),g.appendChild(y),a.appendChild(g)}}catch(e){u=!0,h=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw h}}var b=this.exportColorBarSVG();return e.appendChild(b),[n,n]}},{key:"getVisiblePartOfUppLeftTile",value:function(){var e=this.visibleAndFetchedTiles().map((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos;return[t[0],t[1],e.tileId]}));if(0===e.length)return null;for(var t=e[0],n=0;n<e.length;n++){var r=e[n];(r[0]<t[0]||r[1]<t[1])&&(t=r)}var i=Math.min(A.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.binsPerTile()),o=this.binsPerTile()/i,a=this.visibleAndFetchedTiles().filter((function(e){return e.tileId===t[2]}))[0],s=this.getIndicesOfVisibleDataInTile(a),l=s[0],u=s[1],c=l-l%o,h=u-u%o;return[a.tileId,c,h]}},{key:"getIndicesOfVisibleDataInTile",value:function(e){var t=this._xScale.range(),n=this._yScale.range(),r=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,r,this.binsPerTile()),o=i.tileX,a=i.tileY,s=i.tileWidth,l=i.tileHeight,u=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([o,o+s]),c=Math.max(0,Math.round(u.invert(this._xScale.invert(t[0])))-1),h=Math.min(this.binsPerTile(),Math.round(u.invert(this._xScale.invert(t[1])))),d=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([a,a+l]),f=Math.max(0,Math.round(d.invert(this._yScale.invert(n[0])))-1),p=Math.min(this.binsPerTile(),Math.round(d.invert(this._yScale.invert(n[1]))));return e.mirrored&&r[0]!==r[1]?[f,c,p,h]:[c,f,h,p]}},{key:"minVisibleValue",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)}));if(0===r.length&&null===this.valueScaleMax)return null;var o=Math.min.apply(null,r);return o===i.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"minVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMin?this.valueScaleMin:o}},{key:"maxVisibleValue",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)}));if(0===i.length&&null===this.valueScaleMax)return null;var o=Math.max.apply(null,i);return o===r.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"maxVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMax?this.valueScaleMax:o}},{key:"zoomed",value:function(e,n,r,i,o){if(!this.brushing){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r;var a=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){var s=(0,u.default)(this.getVisiblePartOfUppLeftTile());if(null===this.valueScaleMin&&null===this.valueScaleMax&&!a&&s!==this.prevIndUpperLeftTile){var l=this.minVisibleValue(),h=this.maxVisibleValue(),d=1e-6;null!==l&&null!==h&&(Math.abs(this.minValue()-l)>d||Math.abs(this.maxValue()-h)>d)&&(this.minValue(l),this.maxValue(h),this.scheduleRerender()),this.prevIndUpperLeftTile=s}a&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}}},{key:"addTileId",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=[t,n,r];a.mirrored=o,a.dataTransform=i,e.push(a)}},{key:"tilesToId",value:function(e,t,n){for(var r=e,i=t,o=this.options&&this.options.dataTransform||"default",a=[],s=0;s<r.length;s++)for(var l=0;l<i.length;l++)this.mirrorTiles()?(r[s]>=i[l]?"lower-left"!==this.options.extent&&this.addTileId(a,n,i[l],r[s],o,!0):"upper-right"!==this.options.extent&&this.addTileId(a,n,r[s],i[l],o),r[s]===i[l]&&"lower-left"===this.options.extent&&this.addTileId(a,n,r[s],i[l],o)):this.addTileId(a,n,r[s],i[l],o);return a}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var e=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=C.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=C.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=C.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=C.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}},{key:"mirrorTiles",value:function(){return!(this.tilesetInfo.mirror_tiles&&(!1===this.tilesetInfo.mirror_tiles||"false"===this.tilesetInfo.mirror_tiles))}},{key:"getMouseOverHtml",value:function(e,t){if(!this.options||!this.options.showTooltip)return"";if(!this.tilesetInfo)return"";var n=C.tileProxy.calculateResolution(this.tilesetInfo,this.zoomLevel),r=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),i=Math.ceil(Math.log(r/n)/Math.log(10));this.setDataLensSize(1);var o=this._xScale.invert(e),a=this._yScale.invert(t),s="<b>Position:</b> ";if(this.chromInfo){var l=(0,k.absToChr)(o,this.chromInfo),u=(0,k.absToChr)(a,this.chromInfo),c=function(e){return(0,b.format)("."+String(i)+"s")(e)};s+=String(l[0])+":"+String(c(l[1]))+" & "+String(u[0])+":"+String(c(u[1])),s+="<br/>"}var h=null;try{h=this.getVisibleRectangleData(e,t,1,1).get(0,0)}catch(e){return""}return this.options&&"log"===this.options.heatmapValueScaling?h>0?s+"<b>Value:</b> 1e"+String((0,b.format)(".3f")(Math.log(h)/Math.log(10))):0===h?s+"<b>Value:</b> 0":s+"<b>Value:</b> N/A":s+"<b>Value:</b> "+String((0,b.format)(".3f")(h))}},{key:"getTilePosAndDimensions",value:function(e,t,n){var r=n||this.binsPerTile();if(this.tilesetInfo.resolutions){var i=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],o=i*r,a=o;return{tileX:i*r*t[0],tileY:i*r*t[1],tileWidth:o,tileHeight:a}}var s=t[0],l=t[1],u=this.tilesetInfo.min_pos[0],c=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],h=this.tilesetInfo.max_width/Math.pow(2,e),d=this.tilesetInfo.max_width/Math.pow(2,e);return{tileX:u+s*h,tileY:c+l*d,tileWidth:h,tileHeight:d}}},{key:"calculateZoomLevel",value:function(){var e=this.tilesetInfo.min_pos[0],t=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1],i=null;if(this.tilesetInfo.resolutions){var o=C.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e,t),a=C.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);i=Math.min(o,a)}else{var s=C.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),l=C.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());i=Math.max(s,l),i=Math.min(i,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}},{key:"tileToLocalId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.mirrored)+"."+String(e.dataTransform):String(e.join("."))+"."+String(e.mirrored)}},{key:"tileToRemoteId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.dataTransform):""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}}]),t}(x.default);t.default=R},function(e,t,n){var r=n(243),i=n(244),o="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",o)(u[e][0])}o=["'use strict'"];var a=r(t),l=a.map((function(e){return"i"+e})),c="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),h=a.map((function(e){return"b"+e})).join(","),d=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+h+","+d+",d){this.data=a","this.shape=["+h+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",l.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var f=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+p.join(","));for(var m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var v=new Array(t),g=new Array(t);for(m=0;m<t;++m)v[m]="a[i"+m+"]",g[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset");for(m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(u[e],s)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,n,r){if(void 0===e)return(0,u.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===r){r=0;for(s=0;s<a;++s)n[s]<0&&(r-=(t[s]-1)*n[s])}for(var h=function(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),d=u[h];d.length<=a+1;)d.push(l(h,d.length-1));return(0,d[a+1])(e,t,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(25)),i=c(n(63)),o=c(n(55)),a=c(n(248)),s=c(n(3)),l=c(n(4)),u=n(114);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=Math.pow(2,Math.ceil((0,a.default)(this.tileSize))),this.numSubsets=Math.min(u.NUM_PRECOMP_SUBSETS_PER_1D_TTILE,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=o.default;if(0===t&&n===this.tileSize)return this.minNonZeroInTile;var i=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return i>=a?this.minNonZero(this.data,t,n):(t<i*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,t,i*this.subsetSize))),r=Math.min(r,this.minNonZero(this.subsetMinimums,i,a)),n>a*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,a*this.subsetSize,n))),r)}},{key:"getMaxNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=i.default;if(0===t&&n===this.tileSize)return this.maxNonZeroInTile;var o=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return o>=a?this.maxNonZero(this.data,t,n):(t<o*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,t,o*this.subsetSize))),r=Math.max(r,this.maxNonZero(this.subsetMaximums,o,a)),n>a*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,a*this.subsetSize,n))),r)}},{key:"computeSubsetNonZeroMinimums",value:function(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=o.default,r=0;r<this.subsetSize;r++){var i=this.data[t*this.subsetSize+r];void 0!==i&&(i<this.epsilon&&i>-this.epsilon||i<n&&(n=i))}e.push(n)}return e}},{key:"computeSubsetNonZeroMaximums",value:function(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=i.default,r=0;r<this.subsetSize;r++){var o=this.data[t*this.subsetSize+r];void 0!==o&&(o<this.epsilon&&o>-this.epsilon||o>n&&(n=o))}e.push(n)}return e}},{key:"getMinNonZeroInTile",value:function(){return Math.min.apply(Math,(0,r.default)(this.subsetMinimums))}},{key:"getMaxNonZeroInTile",value:function(){return Math.max.apply(Math,(0,r.default)(this.subsetMaximums))}},{key:"minNonZero",value:function(e,t,n){for(var r=o.default,i=t;i<n;i++){var a=e[i];a<this.epsilon&&a>-this.epsilon||a<r&&(r=a)}return r}},{key:"maxNonZero",value:function(e,t,n){for(var r=i.default,o=t;o<n;o++){var a=e[o];a<this.epsilon&&a>-this.epsilon||a>r&&(r=a)}return r}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(63)),i=h(n(55)),o=h(n(95)),a=h(n(251)),s=h(n(3)),l=h(n(4)),u=h(n(136)),c=n(114);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),(0,a.default)(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(c.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;var n=(0,u.default)((0,o.default)(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(n),this.subsetMaximums=this.computeSubsetNonZeroMaximums(n),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,o,a,l,s)}},{key:"getMaxNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,o,a,l,s)}},{key:"computeSubsetNonZeroMinimums",value:function(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMinNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"computeSubsetNonZeroMaximums",value:function(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMaxNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"getMinNonZeroInNdarraySubset",value:function(e,t,n,r,o){for(var a=i.default,s=0;s<r;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u<a&&(a=u)}return a}},{key:"getMaxNonZeroInNdarraySubset",value:function(e,t,n,i,o){for(var a=r.default,s=0;s<i;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u>a&&(a=u)}return a}},{key:"mirrorPrecomputedExtrema",value:function(){for(var e=1;e<this.numSubsets;e++)for(var t=0;t<e;t++)this.subsetMinimums.set(t,e,this.subsetMinimums.get(e,t)),this.subsetMaximums.set(t,e,this.subsetMaximums.get(e,t))}},{key:"getMinNonZeroInTile",value:function(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}},{key:"getMaxNonZeroInTile",value:function(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return e.reduce((function(e,n){return e+(Array.isArray(n)&&t?n.length:1)}),0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(19)),i=c(n(30)),o=c(n(3)),a=c(n(4)),s=n(8),l=n(20),u=n(10);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){(0,o.default)(this,e),this.chromInfo=t,this.chromInfoBisector=(0,s.bisector)((function(e){return e.pos})).left}return(0,a.default)(e,[{key:"scalesToPositionText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===this.chromInfo)return"";if(!e||!t)return"";var r=(0,u.absToChr)(e.domain()[0],this.chromInfo),i=(0,u.absToChr)(e.domain()[1],this.chromInfo),o=(0,u.absToChr)(t.domain()[0],this.chromInfo),a=(0,u.absToChr)(t.domain()[1],this.chromInfo),s=null,c=(0,l.format)(",d");return s=r[0]!==i[0]?String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(i[0])+":"+String(c(Math.ceil(i[1]))):String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(c(Math.ceil(i[1]))),n&&(o[0]!==a[0]?s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(a[0])+":"+String(c(Math.ceil(a[1]))):s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(c(Math.ceil(a[1])))),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(s+=" [offset "+String(r[2])+","+String(i[2]),n&&(s+=":"+String(o[2])+","+String(a[2])),s+="]"),s}},{key:"convertNumberNotation",value:function(e){var t=e;if(!t.includes("M",t.length-1)&&!t.includes("K",t.length-1))return t;var n=0,r=0;if(t.includes("M",t.length-1)?(n=6,t=t.replace("M","")):(n=3,t=t.replace("K","")),(0,i.default)(+t))return e;(t=(+t).toString()).includes(".")&&(r=t.length-1-t.indexOf("."),t=(+t.replace(".","")).toString());var o=n-r;return o<0?e:t+="0".repeat(o)}},{key:"parsePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.split(":"),r=null,i=0;n.length>1?(r=n[0],i=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!==t&&(i=+this.chromInfo.chromLengths[r])):(i=+this.convertNumberNotation(n[0].replace(/,/g,"")),r=null,t&&(r=t));var o=null;return null===r?(r=t,o=i):r in this.chromInfo.chrPositions&&(o=this.chromInfo.chrPositions[r].pos+i),[r,i,o]}},{key:"matchRangesToLarger",value:function(e,t){if(e[1]-e[0]<t[1]-t[0]){var n=t[1]-t[0]-(e[1]-e[0]);return[[e[0]-n/2,e[1]+n/2],t]}var r=e[1]-e[0]-(t[1]-t[0]);return[e,[t[0]-r/2,t[1]+r/2]]}},{key:"getSearchRange",value:function(e){if(0===e.length)return null;var t=e.split("-"),n=null;if(0===(t=t.filter((function(e){return e.length>0})))[0].indexOf("-")&&(t[0]=t[0].slice(3,t[0].length)),t.length>1){var i=this.parsePosition(t[0]),o=(0,r.default)(i,3),a=o[0],s=(o[1],o[2]),l=this.parsePosition(t[1],a),u=(0,r.default)(l,3),c=u[0],h=(u[1],u[2]),d=[s,h],f=this.parsePosition(t[1]),p=(0,r.default)(f,3);a=p[0],p[1],s=p[2];var m=this.parsePosition(t[0],a),v=(0,r.default)(m,3);if(c=v[0],v[1],h=v[2],null===a&&null!==c){var g=this.parsePosition(t[1],c),y=(0,r.default)(g,3);a=y[0],y[1],s=y[2]}var b=[s,h];return b[1]-b[0]>d[1]-d[0]?b:d}if(t[0]in this.chromInfo.chrPositions){var _=+this.chromInfo.chrPositions[t[0]].pos;n=[_,_+ +this.chromInfo.chromLengths[t[0]]]}else{var T=this.parsePosition(t[0]),S=(0,r.default)(T,3),k=(S[0],S[1],S[2]);n=[k-8e6,k+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}},{key:"parseOffset",value:function(e){var t=e.split(":");if(0===t.length)return[[0,0],[0,0]];if(1===t.length){var n=t[0].split(",");return[[+n[0],+n[1]],[0,0]]}var r=t[0].split(","),i=t[1].split(",");return[[+r[0],+r[1]],[+i[0],+i[1]]]}},{key:"searchPosition",value:function(e){var t=null,n=null;e=e.trim();var i=/\[offset (.+?)\]/.exec(e),o=[[0,0],[0,0]];i&&(e=e.replace(i[0],""),o=this.parseOffset(i[1]));var a=e.split(" & ");if(a.length>1?(t=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):t=this.getSearchRange(a[0]),null!==t&&null!==n){var s=this.matchRangesToLarger(t,n),l=(0,r.default)(s,2);t=l[0],n=l[1]}return t&&(t[0]+=o[0][0],t[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[t,n]}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(17)),i=b(n(25)),o=b(n(18)),a=b(n(30)),s=b(n(38)),l=b(n(5)),u=b(n(3)),c=b(n(4)),h=b(n(6)),d=b(n(14)),f=b(n(7)),p=b(n(26)),m=b(n(40)),v=n(24),g=n(10),y=n(11);function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n)),i=e.animate;return r.visibleTiles=new s.default,r.visibleTileIds=new s.default,r.fetching=new s.default,r.fetchedTiles={},r.tileGraphics={},r.minX=void 0===r.options.minPos||(0,a.default)(+r.options.minPos)?-180:+r.options.minPos,r.maxX=+r.options.maxPos||180,r.maxX=void 0===r.options.maxPos||(0,a.default)(+r.options.maxPos)?180:+r.options.maxPos,r.minY=r.options.minY||r.minX,r.maxY=r.options.maxY||r.maxX,r.maxZoom=19,r.maxWidth=r.maxX-r.minX,r.animate=i,r.uuid=p.default.nice(),r.refreshTilesDebounced=(0,g.debounce)(r.refreshTiles.bind(r),y.ZOOM_DEBOUNCE),r}return(0,f.default)(t,e),(0,c.default)(t,[{key:"visibleAndFetchedIds",value:function(){var e=this;return(0,o.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}},{key:"visibleAndFetchedTiles",value:function(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new s.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"removeAllTiles",value:function(){var e=new s.default((0,o.default)(this.fetchedTiles));this.removeTiles([].concat((0,i.default)(e)))}},{key:"refreshTiles",value:function(){var e=this;this.calculateVisibleTiles();for(var t=new s.default((0,o.default)(this.fetchedTiles)),n=[].concat((0,i.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);var a=[].concat((0,i.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(a),this.fetchNewTiles(n)}},{key:"removeTiles",value:function(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=v.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=v.tileProxy.calculateZoomLevel(this._xScale,this.minY,this.maxY),n=Math.min(Math.max(e,t),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"calculateVisibleTiles",value:function(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}},{key:"zoomed",value:function(e,n,r,i,o){(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"zoomed",this).call(this,e,n),this.xScale(e),this.yScale(n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.refreshTilesDebounced(),this.draw()}},{key:"setPosition",value:function(e){(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){for(var e=new s.default((0,o.default)(this.fetchedTiles)),t=[].concat((0,i.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e&&(this.scale.minValue=e),this.scale.minValue}},{key:"maxValue",value:function(e){return e&&(this.scale.maxValue=e),this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"getTilePosAndDimensions",value:function(e,t){var n=this.maxWidth/Math.pow(2,e),r=n;return{tileX:this.minX+t[0]*n,tileY:this.minY+t[1]*r,tileWidth:n,tileHeight:r}}},{key:"setSpriteProperties",value:function(e,t,n){var r=this.getTilePosAndDimensions(t,n),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight;e.x=this._refXScale(i),e.y=this._refYScale(o);var l=i+a,u=o+s;e.width=this._refXScale(l)-this._refXScale(i),e.height=this._refYScale(u)-this._refYScale(o)}},{key:"initTile",value:function(e){var t=new y.GLOBALS.PIXI.Texture(new y.GLOBALS.PIXI.BaseTexture(e.tileData.img)),n=new y.GLOBALS.PIXI.Sprite(t),r=e.graphics;e.sprite=n,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos),r.removeChildren(),r.addChild(e.sprite)}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){}},{key:"addMissingGraphics",value:function(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new y.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}},{key:"synchronizeTilesAndGraphics",value:function(){this.addMissingGraphics(),this.updateExistingGraphics()}},{key:"loadTileData",value:function(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"getTileUrl",value:function(e){var t=["a","b","c"],n=Math.floor(Math.random()*t.length);return"https://"+String(t[n])+".tile.openstreetmap.org/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+".png"}},{key:"fetchNewTiles",value:function(e){var t=this;if(e.length>0){var n=[].concat((0,i.default)(new s.default(e.map((function(e){return e.remoteId}))))),o=function(e){var n=e.split("."),r=t.getTileUrl(n),i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=function(){var o={};o[e]={tileId:e,img:i,zoomLevel:+n[0],tilePos:[+n[1],+n[2]],tileSrc:r},t.receivedTiles(o)}},a=!0,l=!1,u=void 0;try{for(var c,h=(0,r.default)(n);!(a=(c=h.next()).done);a=!0)o(c.value)}catch(e){l=!0,u=e}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}}}},{key:"receivedTiles",value:function(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId])}for(var r in e)e[r]&&this.fetching.has(r)&&this.fetching.delete(r);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}},{key:"draw",value:function(){this.delayDrawing||(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(){}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos)}}}]),t}(m.default);t.default=_},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(742),i=n(783),o=n(143),a=n(31),s=n(792);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(194);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},function(e,t,n){var r=n(407),i=n(796)(r);e.exports=i},function(e,t,n){var r=n(286),i=n(146),o=n(411),a=n(31);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},function(e,t,n){var r=n(453),i=n(457);function o(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:r,Tokenizer:n(454),ElementType:n(123),DomHandler:i,get FeedHandler(){return o("FeedHandler",n(951))},get Stream(){return o("Stream",n(961))},get WritableStream(){return o("WritableStream",n(459))},get ProxyHandler(){return o("ProxyHandler",n(963))},get DomUtils(){return o("DomUtils",n(101))},get CollectingHandler(){return o("CollectingHandler",n(964))},DefaultHandler:i,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var o=new i(e,t,n);return new r(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t,n){"use strict";t.REPLACEMENT_CHARACTER="",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(113).Buffer)},function(e,t,n){var r=n(198),i=n(299),o=n(470),a={tag:!0,script:!0,style:!0};t.isTag=function(e){return e.type&&(e=e.type),a[e]||!1},t.camelCase=function(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))},t.cssCase=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},t.domEach=function(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e,n,e[n]);)++n;return e},t.cloneDom=function(e,t){return t=o({},t,{_useHtmlParser2:!0}),r(i(e,t),t,!1).children};var s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;t.isHtml=function(e){if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3)return!0;var t=s.exec(e);return!(!t||!t[1])}},function(e,t){e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(e,t,n){"use strict";var r=n(52),i=n(53),o=n(488),a=n(498),s=a(),l=n(1051),u=i.call(Function.call,s);r(u,{getPolyfill:a,implementation:o,shim:l}),e.exports=u},function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.propsOfNode=f,t.childrenOfNode=p,t.hasClassName=function(e,t){var n=f(e).className||"";return n=String(n).replace(/\s/g," "),(0,u.default)(t)?t.test(n):(" "+String(n)+" ").indexOf(" "+String(t)+" ")>-1},t.treeForEach=m,t.treeFilter=v,t.findParentNode=function(e,t){return v(e,(function(e){return!!e.rendered&&-1!==p(e).indexOf(t)}))[0]||null},t.pathToNode=y,t.parentsOfNode=function(e,t){return(y(e,t)||[]).reverse()},t.nodeHasId=function(e,t){return f(e).id===t},t.nodeMatchesObjectProps=function(e,t){return(0,s.default)(f(e),(n=t,(0,a.default)(n).reduce((function(e,t){var n=r(t,2),o=n[0],a=n[1];return(0,i.default)({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o,function(e){return void 0!==e?e:b}(a)))}),{})));var n},t.getTextFromNode=function e(t){if(null==t)return"";if("string"==typeof t||"number"==typeof t)return String(t);if(t.type&&"function"==typeof t.type)return"<"+String(t.type.displayName||(0,l.default)(t.type))+" />";return p(t).map(e).join("")};var i=h(n(122)),o=h(n(154)),a=h(n(500)),s=h(n(1056)),l=h(n(314)),u=h(n(497)),c=h(n(103));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e){return e&&e.props||{}}function p(e){if(!e)return[];var t=(0,c.default)(),n=t.isFragment&&"function"==typeof t.isFragment,r=Array.isArray(e.rendered)?(0,o.default)(e.rendered,1):[e.rendered];return n?(0,o.default)(r.map((function(e){return t.isFragment(e)?p(e):e})),1):r}function m(e,t){e&&t(e),p(e).forEach((function(e){return m(e,t)}))}function v(e,t){var n=[];return m(e,(function(e){t(e)&&n.push(e)})),n}function g(e,t){return e.filter((function(e){return 0!==v(e,t).length}))}function y(e,t){for(var n=[t],r=[],i=function(t){return e===t};n.length;){var o=n.pop(),a=p(o);if(o===e)return g(r,i);r.push(o),0===a.length&&r.pop(),n.push.apply(n,d(a))}return null}var b={}},function(e,t,n){"use strict";n.r(t);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}};function u(e,t,n){this.target=e,this.type=t,this.transform=n}function c(e,t,n){this.k=e,this.x=t,this.y=n}c.prototype={constructor:c,scale:function(e){return 1===e?this:new c(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new c(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var h=new c(1,0,0);function d(e){return e.__zoom||h}function f(){a.event.stopImmediatePropagation()}d.prototype=c.prototype;var p=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()};function m(){return!a.event.button}function v(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function g(){return this.__zoom||h}function y(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function b(){return"ontouchstart"in this}function _(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var T=function(){var e,t,n=m,d=v,T=_,S=y,k=b,w=[0,1/0],x=[[-1/0,-1/0],[1/0,1/0]],E=250,C=o.i,O=[],A=Object(r.a)("start","zoom","end"),M=500,P=0;function I(e){e.property("__zoom",g).on("wheel.zoom",B).on("mousedown.zoom",F).on("dblclick.zoom",z).filter(k).on("touchstart.zoom",V).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",G).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(e,t){return(t=Math.max(w[0],Math.min(w[1],t)))===e.k?e:new c(t,e.x,e.y)}function R(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new c(e.k,r,i)}function D(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function N(e,t,n){e.on("start.zoom",(function(){j(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){j(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,i=j(e,r),o=d.apply(e,r),a=n||D(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=e.__zoom,u="function"==typeof t?t.apply(e,r):t,h=C(l.invert(a).concat(s/l.k),u.invert(a).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=h(e),n=s/t[2];e=new c(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}}))}function j(e,t){for(var n,r=0,i=O.length;r<i;++r)if((n=O[r]).that===e)return n;return new H(e,t)}function H(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=d.apply(e,t)}function B(){if(n.apply(this,arguments)){var e=j(this,arguments),t=this.__zoom,r=Math.max(w[0],Math.min(w[1],t.k*Math.pow(2,S.apply(this,arguments)))),i=Object(a.mouse)(this);if(e.wheel)e.mouse[0][0]===i[0]&&e.mouse[0][1]===i[1]||(e.mouse[1]=t.invert(e.mouse[0]=i)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[i,t.invert(i)],Object(s.interrupt)(this),e.start()}p(),e.wheel=setTimeout(o,150),e.zoom("mouse",T(R(L(t,r),e.mouse[0],e.mouse[1]),e.extent,x))}function o(){e.wheel=null,e.end()}}function F(){if(!t&&n.apply(this,arguments)){var e=j(this,arguments),r=Object(a.select)(a.event.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",h,!0),o=Object(a.mouse)(this),l=a.event.clientX,u=a.event.clientY;Object(i.dragDisable)(a.event.view),f(),e.mouse=[o,this.__zoom.invert(o)],Object(s.interrupt)(this),e.start()}function c(){if(p(),!e.moved){var t=a.event.clientX-l,n=a.event.clientY-u;e.moved=t*t+n*n>P}e.zoom("mouse",T(R(e.that.__zoom,e.mouse[0]=Object(a.mouse)(e.that),e.mouse[1]),e.extent,x))}function h(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.dragEnable)(a.event.view,e.moved),p(),e.end()}}function z(){if(n.apply(this,arguments)){var e=this.__zoom,t=Object(a.mouse)(this),r=e.invert(t),i=e.k*(a.event.shiftKey?.5:2),o=T(R(L(e,i),t,r),d.apply(this,arguments),x);p(),E>0?Object(a.select)(this).transition().duration(E).call(N,o,t):Object(a.select)(this).call(I.transform,o)}}function V(){if(n.apply(this,arguments)){var t,r,i,o,l=j(this,arguments),u=a.event.changedTouches,c=u.length;for(f(),r=0;r<c;++r)i=u[r],o=[o=Object(a.touch)(this,u,i.identifier),this.__zoom.invert(o),i.identifier],l.touch0?l.touch1||(l.touch1=o):(l.touch0=o,t=!0);if(e&&(e=clearTimeout(e),!l.touch1))return l.end(),void((o=Object(a.select)(this).on("dblclick.zoom"))&&o.apply(this,arguments));t&&(e=setTimeout((function(){e=null}),M),Object(s.interrupt)(this),l.start())}}function U(){var t,n,r,i,o=j(this,arguments),s=a.event.changedTouches,l=s.length;for(p(),e&&(e=clearTimeout(e)),t=0;t<l;++t)n=s[t],r=Object(a.touch)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],c=o.touch0[1],h=o.touch1[0],d=o.touch1[1],f=(f=h[0]-u[0])*f+(f=h[1]-u[1])*f,m=(m=d[0]-c[0])*m+(m=d[1]-c[1])*m;n=L(n,Math.sqrt(f/m)),r=[(u[0]+h[0])/2,(u[1]+h[1])/2],i=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",T(R(n,r,i),o.extent,x))}function G(){var e,n,r=j(this,arguments),i=a.event.changedTouches,o=i.length;for(f(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),M),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return I.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",g),e!==n?N(e,t):n.interrupt().each((function(){j(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},I.scaleBy=function(e,t){I.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}))},I.scaleTo=function(e,t){I.transform(e,(function(){var e=d.apply(this,arguments),n=this.__zoom,r=D(e),i=n.invert(r),o="function"==typeof t?t.apply(this,arguments):t;return T(R(L(n,o),r,i),e,x)}))},I.translateBy=function(e,t,n){I.transform(e,(function(){return T(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),d.apply(this,arguments),x)}))},I.translateTo=function(e,t,n){I.transform(e,(function(){var e=d.apply(this,arguments),r=this.__zoom,i=D(e);return T(h.translate(i[0],i[1]).scale(r.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,x)}))},H.prototype={start:function(){return 1==++this.active&&(this.index=O.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(O.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(a.customEvent)(new u(I,e,this.that.__zoom),A.apply,A,[e,this.that,this.args])}},I.wheelDelta=function(e){return arguments.length?(S="function"==typeof e?e:l(+e),I):S},I.filter=function(e){return arguments.length?(n="function"==typeof e?e:l(!!e),I):n},I.touchable=function(e){return arguments.length?(k="function"==typeof e?e:l(!!e),I):k},I.extent=function(e){return arguments.length?(d="function"==typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),I):d},I.scaleExtent=function(e){return arguments.length?(w[0]=+e[0],w[1]=+e[1],I):[w[0],w[1]]},I.translateExtent=function(e){return arguments.length?(x[0][0]=+e[0][0],x[1][0]=+e[1][0],x[0][1]=+e[0][1],x[1][1]=+e[1][1],I):[[x[0][0],x[0][1]],[x[1][0],x[1][1]]]},I.constrain=function(e){return arguments.length?(T=e,I):T},I.duration=function(e){return arguments.length?(E=+e,I):E},I.interpolate=function(e){return arguments.length?(C=e,I):C},I.on=function(){var e=A.on.apply(A,arguments);return e===A?I:e},I.clickDistance=function(e){return arguments.length?(P=(e=+e)*e,I):Math.sqrt(P)},I};n.d(t,"zoom",(function(){return T})),n.d(t,"zoomTransform",(function(){return d})),n.d(t,"zoomIdentity",(function(){return h}))},function(e,t,n){var r=n(47),i=n(48),o=n(210)(!1),a=n(90)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){e.exports=!n(36)&&!n(50)((function(){return 7!=Object.defineProperty(n(108)("div"),"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(43)},function(e,t,n){var r=n(32),i=n(39),o=n(60);e.exports=n(36)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(23).document;e.exports=r&&r.documentElement},function(e,t){},function(e,t,n){var r=n(39);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(51),i=n(21)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(21)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){t.f=n(21)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(29)),i=c(n(1)),o=c(n(2)),a=c(n(170)),s=c(n(332)),l=c(n(572)),u=c(n(132));function c(e){return e&&e.__esModule?e:{default:e}}n(574);var h={"../styles/Dialog.module.scss":{"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},d=function(e){var t=function(){e.modal.close(),e.onCancel&&e.onCancel()};return i.default.createElement(l.default,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},i.default.createElement("header",{className:"Dialog-module_dialog-header-2mk2M"},i.default.createElement("h3",null,e.title),i.default.createElement(a.default,{onClick:t},i.default.createElement(s.default,null))),e.maxHeight?i.default.createElement("main",{className:(0,r.default)(e.maxHeight?"dialog-main-max-height":"",h)},e.children):i.default.createElement("main",null,e.children),i.default.createElement("footer",{className:(0,r.default)(e.maxHeight?"dialog-footer-max-height":"dialog-footer",h)},e.okayOnly?i.default.createElement("div",null):i.default.createElement(a.default,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),i.default.createElement(a.default,{onClick:function(){e.modal.close(),e.onOkay&&e.onOkay()},shortcut:e.okayShortcut},e.okayTitle)))};d.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},d.propTypes={cancelShortcut:o.default.string,cancelTitle:o.default.string,children:o.default.func.isRequired,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,okayShortcut:o.default.string,okayTitle:o.default.string,okayOnly:o.default.bool,onCancel:o.default.func.isRequired,onOkay:o.default.func.isRequired,title:o.default.string.isRequired},t.default=(0,u.default)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}n(570);var a=r.default.forwardRef((function(e,t){return r.default.createElement("button",{ref:t,disable:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,className:"Button-module_button-3YXsQ",type:"button"},e.children,e.shortcut&&r.default.createElement("span",{className:"Button-module_button-shortcut-1zMAn"},e.shortcut))}));a.defaultProps={onClick:function(){},styleName:"",type:"button"},a.propTypes={children:i.default.func.isRequired,disable:i.default.func.isRequired,onBlur:i.default.func,onClick:i.default.func,onMouseDown:i.default.func,onMouseOut:i.default.func,onMouseUp:i.default.func,shortcut:i.default.string,type:i.default.string},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){}},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object WeakMap]",_="[object ArrayBuffer]",T="[object DataView]",S=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[o]=w[a]=w[_]=w[s]=w[T]=w[l]=w[u]=w[c]=w[h]=w[d]=w[f]=w[m]=w[v]=w[g]=w[b]=!1;var x="object"==typeof e&&e&&e.Object===Object&&e,E="object"==typeof self&&self&&self.Object===Object&&self,C=x||E||Function("return this")(),O=t&&!t.nodeType&&t,A=O&&"object"==typeof n&&n&&!n.nodeType&&n,M=A&&A.exports===O,P=M&&x.process,I=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),L=I&&I.isTypedArray;function R(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,H,B,F=Array.prototype,z=Function.prototype,V=Object.prototype,U=C["__core-js_shared__"],G=z.toString,Y=V.hasOwnProperty,W=(j=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",q=V.toString,X=RegExp("^"+G.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=M?C.Buffer:void 0,$=C.Symbol,Z=C.Uint8Array,Q=V.propertyIsEnumerable,J=F.splice,ee=$?$.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=K?K.isBuffer:void 0,re=(H=Object.keys,B=Object,function(e){return H(B(e))}),ie=Ie(C,"DataView"),oe=Ie(C,"Map"),ae=Ie(C,"Promise"),se=Ie(C,"Set"),le=Ie(C,"WeakMap"),ue=Ie(Object,"create"),ce=Ne(ie),he=Ne(oe),de=Ne(ae),fe=Ne(se),pe=Ne(le),me=$?$.prototype:void 0,ve=me?me.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new be;++t<n;)this.add(e[t])}function Te(e){var t=this.__data__=new ye(e);this.size=t.size}function Se(e,t){var n=Be(e),r=!n&&He(e),i=!n&&!r&&Fe(e),o=!n&&!r&&!i&&Ye(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!Y.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||De(u,l))||s.push(u);return s}function ke(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function we(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=Y.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var i=q.call(e);r&&(t?e[ee]=n:delete e[ee]);return i}(e):function(e){return q.call(e)}(e)}function xe(e){return Ge(e)&&we(e)==o}function Ee(e,t,n,r,i){return e===t||(null==e||null==t||!Ge(e)&&!Ge(t)?e!=e&&t!=t:function(e,t,n,r,i,c){var p=Be(e),b=Be(t),S=p?a:Re(e),k=b?a:Re(t),w=(S=S==o?f:S)==f,x=(k=k==o?f:k)==f,E=S==k;if(E&&Fe(e)){if(!Fe(t))return!1;p=!0,w=!1}if(E&&!w)return c||(c=new Te),p||Ye(e)?Ae(e,t,n,r,i,c):function(e,t,n,r,i,o,a){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!o(new Z(e),new Z(t)));case s:case l:case d:return je(+e,+t);case u:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case h:var c=D;case v:var f=1&r;if(c||(c=N),e.size!=t.size&&!f)return!1;var p=a.get(e);if(p)return p==t;r|=2,a.set(e,t);var b=Ae(c(e),c(t),r,i,o,a);return a.delete(e),b;case y:if(ve)return ve.call(e)==ve.call(t)}return!1}(e,t,S,n,r,i,c);if(!(1&n)){var C=w&&Y.call(e,"__wrapped__"),O=x&&Y.call(t,"__wrapped__");if(C||O){var A=C?e.value():e,M=O?t.value():t;return c||(c=new Te),i(A,M,n,r,c)}}if(!E)return!1;return c||(c=new Te),function(e,t,n,r,i,o){var a=1&n,s=Me(e),l=s.length,u=Me(t).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var h=s[c];if(!(a?h in t:Y.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);var p=a;for(;++c<l;){var m=e[h=s[c]],v=t[h];if(r)var g=a?r(v,m,h,t,e,o):r(m,v,h,e,t,o);if(!(void 0===g?m===v||i(m,v,n,r,o):g)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,c)}(e,t,n,r,Ee,i))}function Ce(e){return!(!Ue(e)||function(e){return!!W&&W in e}(e))&&(ze(e)?X:S).test(Ne(e))}function Oe(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||V;return e===n}(e))return re(e);var t=[];for(var n in Object(e))Y.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ae(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,h=!0,d=2&n?new _e:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var f=e[c],p=t[c];if(r)var m=a?r(p,f,c,t,e,o):r(f,p,c,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!R(t,(function(e,t){if(a=t,!d.has(a)&&(f===e||i(f,e,n,r,o)))return d.push(t);var a}))){h=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Me(e){return function(e,t,n){var r=t(e);return Be(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,We,Le)}function Pe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ie(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ce(n)?n:void 0}ge.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===r?void 0:n}return Y.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:Y.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?r:t,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():J.call(t,n,1),--this.size,!0)},ye.prototype.get=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]},ye.prototype.has=function(e){return ke(this.__data__,e)>-1},ye.prototype.set=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(oe||ye),string:new ge}},be.prototype.delete=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t},be.prototype.get=function(e){return Pe(this,e).get(e)},be.prototype.has=function(e){return Pe(this,e).has(e)},be.prototype.set=function(e,t){var n=Pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,r),this},_e.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new ye,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ye){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new be(r)}return n.set(e,t),this.size=n.size,this};var Le=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(te(e),(function(t){return Q.call(e,t)})))}:function(){return[]},Re=we;function De(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function Ne(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function je(e,t){return e===t||e!=e&&t!=t}(ie&&Re(new ie(new ArrayBuffer(1)))!=T||oe&&Re(new oe)!=h||ae&&Re(ae.resolve())!=p||se&&Re(new se)!=v||le&&Re(new le)!=b)&&(Re=function(e){var t=we(e),n=t==f?e.constructor:void 0,r=n?Ne(n):"";if(r)switch(r){case ce:return T;case he:return h;case de:return p;case fe:return v;case pe:return b}return t});var He=xe(function(){return arguments}())?xe:function(e){return Ge(e)&&Y.call(e,"callee")&&!Q.call(e,"callee")},Be=Array.isArray;var Fe=ne||function(){return!1};function ze(e){if(!Ue(e))return!1;var t=we(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ge(e){return null!=e&&"object"==typeof e}var Ye=L?function(e){return function(t){return e(t)}}(L):function(e){return Ge(e)&&Ve(e.length)&&!!w[we(e)]};function We(e){return function(e){return null!=e&&Ve(e.length)&&!ze(e)}(e)?Se(e):Oe(e)}n.exports=function(e,t){return Ee(e,t)}}).call(this,n(27),n(173)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(44)),i=h(n(18)),o=h(n(29)),a=h(n(2)),s=h(n(1)),l=n(125),u=h(n(78)),c=n(11);function h(e){return e&&e.__esModule?e:{default:e}}n(606);var d={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},f=function(e){var t=e.isVisible?"track-control-active":"track-control";return t+=e.isAlignLeft?" track-control-left":"",t+=e.isVertical?" track-control-vertical":"",t+=e.paddingRight?" track-control-padding-right":"",e.theme===c.THEME_DARK&&(t+=" track-control-dark"),t},p=function(e){var t="track-control-button";return t+=e.isVertical?" track-control-button-vertical":""},m=null,v=null,g=function(e){e&&m&&!(0,i.default)(e).some((function(t){return m[t]!==e[t]}))||(m=e,v=(0,l.SortableHandle)((function(){return s.default.createElement("svg",{style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleMove),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Move track"),s.default.createElement("use",{xlinkHref:"#move"}))})));var t=void 0,n=void 0;return s.default.createElement("div",{className:(0,o.default)(f(e),d)},e.isMoveable&&s.default.createElement(v,null),s.default.createElement("svg",{ref:function(e){t=e},onClick:function(){e.onConfigTrackMenuOpened(e.uid,t.getBoundingClientRect())},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleSettings),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Configure track"),s.default.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&s.default.createElement("svg",{onClick:function(){return e.onAddSeries(e.uid)},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleAdd),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Add series"),s.default.createElement("use",{xlinkHref:"#plus"})),s.default.createElement("svg",{ref:function(e){n=e},onClick:function(){e.onCloseTrackMenuOpened(e.uid,n.getBoundingClientRect())},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleClose),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Close track"),s.default.createElement("use",{xlinkHref:"#cross"})))};g.propTypes={imgStyleAdd:a.default.object,imgStyleClose:a.default.object,imgStyleMove:a.default.object,imgStyleSettings:a.default.object,isAlignLeft:a.default.bool,isMoveable:a.default.bool,isVertical:a.default.bool,isVisible:a.default.bool,onConfigTrackMenuOpened:a.default.func,onCloseTrackMenuOpened:a.default.func,onAddSeries:a.default.func,paddingRight:a.default.bool,theme:a.default.symbol.isRequired,uid:a.default.string},t.default=(0,u.default)(g)},function(e,t,n){e.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},function(e,t,n){e.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(28),a=n(69),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=t.id,i=t.pubSub,s=t.getTheme;(0,r.default)(this,e),this.pubSub=i||a.fake,this.id=n,this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],this.getTheme=s||function(){},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return(0,i.default)(e,[{key:"isWithin",value:function(e,t){var n=e,r=t,i=this.position[0],o=this.position[1];return this.isLeftModified&&(n=t,r=e,i=this.position[1],o=this.position[0]),(0,s.isWithin)(n,r,i,this.dimensions[0]+i,o,this.dimensions[1]+o)}},{key:"getProp",value:function(e){var t=this;return function(){return t[e]}}},{key:"getData",value:function(){}},{key:"getDimensions",value:function(){return this.dimensions}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}},{key:"refXScale",value:function(e){return arguments.length?(this._refXScale=e,this):this._refXScale}},{key:"refYScale",value:function(e){return arguments.length?(this._refYScale=e,this):this._refYScale}},{key:"xScale",value:function(e){return arguments.length?(this._xScale=e,this):this._xScale}},{key:"yScale",value:function(e){return arguments.length?(this._yScale=e,this):this._yScale}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t)}},{key:"refScalesChanged",value:function(e,t){this._refXScale=e,this._refYScale=t}},{key:"draw",value:function(){}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e){this.position=e}},{key:"defaultMouseMoveHandler",value:function(e){}},{key:"remove",value:function(){var e=this;this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[]}},{key:"rerender",value:function(){}},{key:"respondsToPosition",value:function(e,t){return this.isWithin(e,t)}},{key:"zoomedY",value:function(e,t){}},{key:"movedY",value:function(e){}}]),e}();t.default=u},function(e,t,n){var r=n(33),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(20),a=n(11),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,r.default)(this,e),this.pAxis=new a.GLOBALS.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return(0,i.default)(e,[{key:"startAxis",value:function(e){var t=this.pAxis;t.clear(),t.lineStyle(1,this.track.getTheme()===a.THEME_DARK?(0,s.colorToHex)("#ffffff"):0,1),t.moveTo(0,0),t.lineTo(0,e)}},{key:"createAxisTexts",value:function(e,t){this.tickValues=this.calculateAxisTickValues(e,t);var n=0,r=this.track.getTheme()===a.THEME_DARK?"white":"black";for(this.track.options&&this.track.options.axisLabelFormatting&&"scientific"!==this.track.options.axisLabelFormatting?this.tickFormat=function(e){return e}:this.tickFormat=(0,o.format)(".2");n<this.tickValues.length;){for(var i=this.tickValues[n];this.axisTexts.length<=n;){var s=new a.GLOBALS.PIXI.Text(i,{fontSize:String(this.axisTextFontSize)+"px",fontFamily:this.axisTextFontFamily,fill:r});this.axisTexts.push(s),this.pAxis.addChild(s)}this.axisTexts[n].text=this.tickFormat(i),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){var l=this.axisTexts.pop();this.pAxis.removeChild(l),l.destroy(!0)}}},{key:"calculateAxisTickValues",value:function(e,t){var n=Math.max(Math.ceil(t/40),1),r=e.ticks(n);return r.length<1&&(r=e.ticks(n+1)).length>1&&(r=[r[0]]),r}},{key:"drawAxisLeft",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(-5,0),n.moveTo(0,t),n.lineTo(-5,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=-(9+this.axisTexts[r].width/2),this.axisTexts[r].y=e(i),n.moveTo(-0,e(i)),n.lineTo(-5,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"drawAxisRight",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(5,0),n.moveTo(0,t),n.lineTo(5,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=9+this.axisTexts[r].width/2,this.axisTexts[r].y=e(i),n.moveTo(0,e(i)),n.lineTo(5,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"hideOverlappingAxisLabels",value:function(){for(var e=this.axisTexts.length-1;e>=0;e--)this.axisTexts[e].visible=!0;for(var t=this.axisTexts.length-1;t>=0;t--)if(this.axisTexts[t].visible)for(var n=t-1;n>=0&&this.axisTexts[t].y+this.axisTexts[t].height/2>this.axisTexts[n].y-this.axisTexts[n].height/2;)this.axisTexts[n].visible=!1,n-=1}},{key:"exportVerticalAxis",value:function(e){var t=document.createElement("g");t.setAttribute("class","axis-vertical");var n="black";this.track&&this.track.options.lineStrokeColor&&(n=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(n="#cccccc");var r=document.createElement("path");return r.setAttribute("fill","transparent"),r.setAttribute("stroke",n),r.setAttribute("id","axis-line"),r.setAttribute("d","M0,0 L0,"+String(e)),t.appendChild(r),t}},{key:"createAxisSVGLine",value:function(){var e="black";this.track&&this.track.options.lineStrokeColor&&(e=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(e="#cccccc");var t=document.createElement("path");return t.setAttribute("id","tick-mark"),t.setAttribute("fill","transparent"),t.setAttribute("stroke",e),t}},{key:"createAxisSVGText",value:function(e){var t=document.createElement("text");return t.innerHTML=e,t.setAttribute("id","axis-text"),t.setAttribute("text-anchor","middle"),t.setAttribute("font-family",this.axisTextFontFamily),t.setAttribute("font-size",this.axisTextFontSize),t.setAttribute("dy",this.axisTextFontSize/2-2),t}},{key:"exportAxisLeftSVG",value:function(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L5,0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L5,"+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M0,"+String(e(a))+" L5,"+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var c=this.createAxisSVGText(s.text);u.appendChild(c)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}},{key:"exportAxisRightSVG",value:function(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L-5,0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L-5,"+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M0,"+String(e(a))+" L-5,"+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var c=this.createAxisSVGText(s.text);u.appendChild(c)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}},{key:"clearAxis",value:function(){for(var e=this.pAxis;this.axisTexts.length;){var t=this.axisTexts.pop();e.removeChild(t)}e.clear()}}]),e}();t.default=u},function(e,t,n){"use strict";e.exports=function(e,t,n){switch(arguments.length){case 1:return h(e);case 2:return"function"==typeof t?u(e,e,t,!0):d(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,i=n(257),o=n(353),a=n(620);function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var i=0,o=0,a=0,l=e.length;a<l;++a){var u=e[a];if(!s(t,u)){for(var c=0;c<2*t;++c)n[i++]=u[c];r[o++]=a}}return o}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var h,d=i.mallocDouble(2*c*s),f=i.mallocInt32(s);if((s=l(e,c,d,f))>0){if(1===c&&r)o.init(s),h=o.sweepComplete(c,n,0,s,d,f,0,s,d,f);else{var p=i.mallocDouble(2*c*u),m=i.mallocInt32(u);(u=l(t,c,p,m))>0&&(o.init(s+u),h=1===c?o.sweepBipartite(c,n,0,s,d,f,0,u,p,m):a(c,n,r,s,d,f,u,p,m),i.free(p),i.free(m))}i.free(d),i.free(f)}return h}}}function c(e,t){r.push([e,t])}function h(e){return r=[],u(e,e,c,!0),r}function d(e,t){return r=[],u(e,t,c,!1),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=function(e){var t=void 0;switch(e?e.toLowerCase():e){case"mean":t=r.mean;break;case"sum":t=r.sum;break;case"variance":t=r.variance;break;case"deviation":t=r.deviation;break;default:t=r.mean,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(35)),i=f(n(18)),o=f(n(34)),a=f(n(17)),s=f(n(30));t.workerSetPix=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,m=null;"log"===n?m=(0,l.scaleLog)().range([254,0]).domain(r):("linear"!==n&&console.warn("Unknown value scale type:",n," Defaulting to linear"),m=(0,l.scaleLinear)().range([254,0]).domain(r));var v=f||{},g=v.selectedRows,y=void 0===g?null:g,b=v.selectedRowsAggregationMode,_=void 0===b?null:b,T=v.selectedRowsAggregationWithRelativeHeight,S=void 0===T?null:T,k=v.selectedRowsAggregationMethod,w=void 0===k?null:k,x=e;h&&y&&(x=(0,c.default)(y,S)*h[1]);var E=void 0,C=0,O=h?h[1]:Math.sqrt(e),A=new Uint8ClampedArray(4*x),M=function(e,t){C=255,a&&Math.floor(e/O)<e%O||u&&Math.floor(e/O)>e%O||(0,s.default)(+t)||(C=Math.max(0,Math.min(254,Math.floor(m(t+i))))),(C<0||C>255)&&console.warn("out of bounds rgbIdx:",C," (should be 0 <= rgbIdx <= 255)"),E=d&&!(0,s.default)(+t)&&0==+t?d:o[C],A[4*e]=E[0],A[4*e+1]=E[1],A[4*e+2]=E[2],A[4*e+3]=E[3]},P=void 0;try{if(y)p(t,h,M,y,_,S,w);else for(var I=0;I<t.length;I++)P=t[I],M(I,P)}catch(e){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",m.domain()),console.warn("valueScale.range():",m.range()),console.warn("value:",m(P+i)),console.warn("pseudocount:",i),console.warn("rgbIdx:",C,"d:",P,"ct:",m(P)),console.error("ERROR:",e),A}return A},t.tileResponseToData=y,t.workerGetTiles=function(e,t,n,a,s,l){var u={"content-type":"application/json"};a&&(u.Authorization=a);fetch(e,(0,o.default)({credentials:"same-origin",headers:u},l&&(0,i.default)(l).length>0?{method:"POST",body:(0,r.default)(l)}:{})).then((function(e){return e.json()})).then((function(e){s(y(e,t,n))})).catch((function(e){return console.warn("err:",e)}))};var l=n(28),u=f(n(181)),c=f(n(139)),h=f(n(137)),d=f(n(138));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,i,o,a){var s=void 0,l=void 0;i&&(s=(0,u.default)(i),l=function(n,r){return s(r.map((function(r){return e[r*t[1]+n]})))});var c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(d=0;d<t[1];d++)for(h=0,f=0;f<r.length;f++)if(c=s&&"server"===a?e[f*t[1]+d]:Array.isArray(r[f])&&s?l(d,r[f]):e[r[f]*t[1]+d],o&&Array.isArray(r[f]))for(p=0;p<r[f].length;p++)n(h*t[1]+d,c),h++;else n(h*t[1]+d,c),h++}function m(e){var t=31744&e,n=void 0,r=(32768&e)<<16;switch(t){case 0:if(0===(n=1023&e))return r;for(n<<=1;0==(1024&n);)n<<=1,t++;return r+(112-t<<23)+((1023&n)<<13);case 31744:return r+2139095040+((1023&e)<<13);default:return r+(114688+(32767&e)<<13)}}function v(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function g(e){for(var t=new Uint32Array(e.length),n=0;n<e.length;n++)t[n]=m(e[n]);return new Float32Array(t.buffer)}function y(e,t,n){e||(e={});var r=!0,i=!1,o=void 0;try{for(var l,u=(0,a.default)(n);!(r=(l=u.next()).done);r=!0){var c=l.value;c in e||(e[c]={});var f=c,p=f.split(".");if(e[f].server=t,e[f].tileId=f,e[f].zoomLevel=+p[1],e[f].tilePos=p.slice(2,p.length).map((function(e){return+e})).filter((function(e){return!(0,s.default)(e)})),e[f].tilesetUid=p[0],"dense"in e[f]){var m=v(e[f].dense),y=void 0;if("float16"===e[f].dtype)y=g(new Uint16Array(m));else y=new Float32Array(m);var b=2===e[f].tilePos.length?new d.default(y):new h.default(y);e[f].dense=y,e[f].denseDataExtrema=b,e[f].minNonZero=b.minNonZeroInTile,e[f].maxNonZero=b.maxNonZeroInTile}}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSeriesItems=t.getAllTracksAndSubtracks=void 0;var r=l(n(18)),i=l(n(17)),o=l(n(1)),a=l(n(67)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(68);var u=t.getAllTracksAndSubtracks=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=(0,i.default)(e);!(n=(a=s.next()).done);n=!0){var l=a.value;l.contents?t=t.concat(l.contents):t.push(l)}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t};t.getSeriesItems=function(e,t,n,i){return e?(window.higlassTracksByType&&(0,r.default)(window.higlassTracksByType).forEach((function(e){s.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),u(e).map((function(e){var r=s.TRACKS_INFO_BY_TYPE[e.type]?s.TRACKS_INFO_BY_TYPE[e.type].thumbnail:null,l=r?o.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},className:"ContextMenu-module_context-menu-icon-I4kiw"}):o.default.createElement("div",{className:"ContextMenu-module_context-menu-icon-I4kiw"},o.default.createElement("svg",null));return o.default.createElement(a.default,{key:e.uid,onClick:function(){i&&i(e.uid)},onMouseEnter:function(n){t&&t(n,e)},onMouseLeave:function(e){n&&n(e)},className:"ContextMenu-module_context-menu-item-1HeVv"},l,o.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.options&&e.options.name&&e.options.name.length?e.options.name:e.type,t&&n?o.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},o.default.createElement("use",{xlinkHref:"#play"})):null))}))):null}},function(e,t,n){var r=n(737),i=n(56),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(41),i=n(738),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(173)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(188),i=n(749),o=n(750),a=n(751),s=n(752),l=n(753);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var r=n(744),i=n(745),o=n(746),a=n(747),s=n(748);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(120);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(99)(Object,"create");e.exports=r},function(e,t,n){var r=n(766);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(779),i=n(279),o=n(780),a=n(781),s=n(422),l=n(97),u=n(414),c="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=u(r),v=u(i),g=u(o),y=u(a),b=u(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=c||o&&_(o.resolve())!=h||a&&_(new a)!=d||s&&_(new s)!=f)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case v:return c;case g:return h;case y:return d;case b:return f}return t}),e.exports=_},function(e,t,n){var r=n(31),i=n(285),o=n(785),a=n(788);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(97),i=n(56);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(287),i=n(120),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(45),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){(function(r){var i=n(148),o=n(965);(t=e.exports=function(e,n,r){var i=t.evaluate(e,n,r),o=t.evaluate("<root></root>",n,!1)[0];return o.type="root",o.parent=null,t.update(i,o),o}).evaluate=function(e,t,n){var a;(r.isBuffer(e)&&(e=e.toString()),"string"==typeof e)?a=t.xmlMode||t._useHtmlParser2?i.parseDOM(e,t):function(e,t){return(t?o.parse:o.parseFragment)(e,{treeAdapter:o.treeAdapters.htmlparser2}).children}(e,n):a=e;return a},t.update=function(e,t){Array.isArray(e)||(e=[e]),t?t.children=e:t=null;for(var n=0;n<e.length;n++){var r=e[n],i=r.parent||r.root,o=i&&i.children;o&&o!==e&&(o.splice(o.indexOf(r),1),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev)),t?(r.prev=e[n-1]||null,r.next=e[n+1]||null):r.prev=r.next=null,t&&"root"===t.type?(r.root=t,r.parent=null):(r.root=null,r.parent=t)}return t}}).call(this,n(113).Buffer)},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(113),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(e.exports=function(e){var t={},n=this._getOverriddenMethods(this,t);Object.keys(n).forEach((function(r){"function"==typeof n[r]&&(t[r]=e[r],e[r]=n[r])}))}).prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},function(e,t,n){e.exports=i;var r=n(199).EventEmitter;function i(){r.call(this)}n(58)(i,r),i.Readable=n(304),i.Writable=n(981),i.Duplex=n(982),i.Transform=n(983),i.PassThrough=n(984),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(150))},function(e,t,n){var r=n(470);t.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},t.flatten=function(e){return e&&e.xml?r({xmlMode:!0},e.xml):e}},function(e,t,n){var r=n(197),i=n(45);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[o++]=r)}return a}},function(e,t,n){"use strict";var r,i=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=Object.getPrototypeOf||function(e){return e.__proto__},s=r,l=r,u=r,c=r,h="undefined"==typeof Uint8Array?r:a(Uint8Array),d={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":o?a([][Symbol.iterator]()):r,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":r,"$ %AsyncFunction%":l,"$ %AsyncFunctionPrototype%":r,"$ %AsyncGenerator%":r,"$ %AsyncGeneratorFunction%":u,"$ %AsyncGeneratorPrototype%":r,"$ %AsyncIteratorPrototype%":c&&o&&Symbol.asyncIterator?c[Symbol.asyncIterator]():r,"$ %Atomics%":"undefined"==typeof Atomics?r:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?r:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?r:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?r:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?r:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":r,"$ %GeneratorFunction%":s,"$ %GeneratorPrototype%":r,"$ %Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?r:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?r:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?r:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":o?a(a([][Symbol.iterator]())):r,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?r:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&o?a((new Map)[Symbol.iterator]()):r,"$ %MapPrototype%":"undefined"==typeof Map?r:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?r:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?r:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?r:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?r:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?r:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?r:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?r:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?r:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?r:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&o?a((new Set)[Symbol.iterator]()):r,"$ %SetPrototype%":"undefined"==typeof Set?r:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":o?a(""[Symbol.iterator]()):r,"$ %StringPrototype%":String.prototype,"$ %Symbol%":o?Symbol:r,"$ %SymbolPrototype%":o?Symbol.prototype:r,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":i,"$ %TypedArray%":h,"$ %TypedArrayPrototype%":h?h.prototype:r,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?r:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?r:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?r:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?r:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?r:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in d))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===d[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return d[n]}},function(e,t,n){n(209),e.exports=n(12).Object.keys},function(e,t,n){var r=n(54),i=n(60);n(126)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(48),i=n(88),o=n(211);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(89),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(213),i=n(160),o=n(51),a=n(48);e.exports=n(109)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(110),i=n(66),o=n(77),a={};n(43)(a,n(21)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(89),i=n(87);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){n(76),n(61),e.exports=n(217)},function(e,t,n){var r=n(39),i=n(112);e.exports=n(12).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(92);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(43);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if("http://www.w3.org/2000/svg"===e.namespaceURI){var n=e.getAttribute("class");return n&&!!n.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))}},function(e,t,n){n(223),e.exports=n(12).Object.assign},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(224)})},function(e,t,n){"use strict";var r=n(60),i=n(130),o=n(93),a=n(54),s=n(105),l=Object.assign;e.exports=!l||n(50)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=i.f,h=o.f;l>u;)for(var d,f=s(arguments[u++]),p=c?r(f).concat(c(f)):r(f),m=p.length,v=0;m>v;)h.call(f,d=p[v++])&&(n[d]=f[d]);return n}:l},function(e,t,n){e.exports={default:n(545),__esModule:!0}},function(e,t,n){var r=n(91)("meta"),i=n(33),o=n(47),a=n(32).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(50)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&h.NEED&&l(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(23),i=n(12),o=n(75),a=n(168),s=n(32).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(93),i=n(66),o=n(48),a=n(127),s=n(47),l=n(159),u=Object.getOwnPropertyDescriptor;t.f=n(36)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(12),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(231);var r=n(12).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperty:n(32).f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Q(n(34)),i=Q(n(30)),o=Q(n(94)),a=Q(n(62)),s=Q(n(25)),l=Q(n(18)),u=Q(n(17)),c=Q(n(35)),h=Q(n(37)),d=Q(n(19)),f=Q(n(575)),p=Q(n(44)),m=Q(n(38)),v=Q(n(5)),g=Q(n(3)),y=Q(n(4)),b=Q(n(6)),_=Q(n(7)),T=Q(n(29)),S=Q(n(1)),k=Q(n(2)),w=n(0),x=n(28),E=Q(n(26)),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(325)),O=Q(n(42)),A=Q(n(592)),M=n(344),P=Q(n(600)),I=Q(n(601)),L=n(134),R=Q(L),D=Q(n(604)),N=Q(n(674)),j=Q(n(680)),H=Q(n(682)),B=Q(n(73)),F=Q(n(686)),z=Q(n(723)),V=n(266),U=Q(n(724)),G=n(69),Y=n(132),W=n(78),q=n(24),X=n(10),K=n(11),$=Q(n(728)),Z=Q(n(267));Q(n(729));function Q(e){return e&&e.__esModule?e:{default:e}}var J={styles:{higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"},stylesMTHeader:{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"},stylesGlobal:{higlass:"HiGlass_higlass-3aU-_","react-resizable-handle":"HiGlass_react-resizable-handle-3kCAE"}},ee="bounded",te="overflow",ne="scroll",re=function(e){function t(e){(0,g.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,v.default)(t)).call(this,e));(0,X.numericifyVersion)(S.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",S.default.version),n.pubSub=(0,R.default)(),n.domEvent=(0,q.createDomEvent)(n.pubSub),n.pubSubs=[],n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=E.default.nice(),n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.projectionXDomains={},n.projectionYDomains={},n.topDiv=null,n.zoomToDataExtentOnInit=new m.default,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.locationLocksAxisWise={x:{},y:{}},n.valueScaleLocks={},n.prevAuthToken=e.options.authToken,n.setCenters={},n.plusImg={},n.configImg={},K.GLOBALS.PIXI=e.options&&e.options.PIXI||C,n.viewMarginTop=+e.options.viewMarginTop>=0?+e.options.viewMarginTop:K.DEFAULT_VIEW_MARGIN,n.viewMarginBottom=+e.options.viewMarginBottom>=0?+e.options.viewMarginBottom:K.DEFAULT_VIEW_MARGIN,n.viewMarginLeft=+e.options.viewMarginLeft>=0?+e.options.viewMarginLeft:K.DEFAULT_VIEW_MARGIN,n.viewMarginRight=+e.options.viewMarginRight>=0?+e.options.viewMarginRight:K.DEFAULT_VIEW_MARGIN,n.viewPaddingTop=+e.options.viewPaddingTop>=0?+e.options.viewPaddingTop:K.DEFAULT_VIEW_PADDING,n.viewPaddingBottom=+e.options.viewPaddingBottom>=0?+e.options.viewPaddingBottom:K.DEFAULT_VIEW_PADDING,n.viewPaddingLeft=+e.options.viewPaddingLeft>=0?+e.options.viewPaddingLeft:K.DEFAULT_VIEW_PADDING,n.viewPaddingRight=+e.options.viewPaddingRight>=0?+e.options.viewPaddingRight:K.DEFAULT_VIEW_PADDING,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=function(){n.refreshView(K.LONG_DRAG_TIMEOUT)},n.unsetOnLocationChange=[],n.setTheme(e.options.theme,e.options.isDarkTheme),n.viewconfLoaded=!1;var r=n.props.viewConfig,i=n.loadIfRemoteViewConfig(n.props.viewConfig);e.options.authToken&&(0,q.setTileProxyAuthHeader)(e.options.authToken),n.pixiRoot=new K.GLOBALS.PIXI.Container,n.pixiRoot.interactive=!0,n.pixiStage=new K.GLOBALS.PIXI.Container,n.pixiStage.interactive=!0,n.pixiRoot.addChild(n.pixiStage),n.pixiMask=new K.GLOBALS.PIXI.Graphics,n.pixiRoot.addChild(n.pixiMask),n.pixiStage.mask=n.pixiMask,n.element=null,n.scrollTop=0;var o=K.MOUSE_TOOL_MOVE;if(n.props.options&&n.props.options.mouseTool===K.MOUSE_TOOL_SELECT)o=K.MOUSE_TOOL_SELECT;n.props.options.pluginTracks&&(window.higlassTracksByType=(0,p.default)(window.higlassTracksByType||{},n.props.options.pluginTracks));var a={};try{window.higlassTracksByType&&(0,f.default)(window.higlassTracksByType).forEach((function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];a[n]=r}))}catch(e){console.warn("Broken config of a plugin track")}n.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=(0,p.default)(window.higlassDataFetchersByType||{},n.props.options.pluginDataFetchers));var s=window.higlassDataFetchersByType,l=n.props.options.pixelPreciseMarginPadding?1:30;n.mounted=!1,n.pluginTracks=a,n.pluginDataFetchers=s,n.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:l,svgElement:null,canvasElement:null,views:i,viewConfig:r,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:o,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},n.attachedToDOM=!1;var u=(0,U.default)(n,n.pubSub),c=u.public,h=u.destroy,y=u.publish,_=u.stack;return n.api=c,n.apiDestroy=h,n.apiPublish=y,n.apiStack=_,n.viewChangeListener=[],n.triggerViewChangeDb=(0,X.debounce)(n.triggerViewChange.bind(n),250),n.pubSubs=[],n.rangeSelection=[null,null],n.prevMouseHoverTrack=null,n.zooming=!1,n.appClickHandlerBound=n.appClickHandler.bind(n),n.keyDownHandlerBound=n.keyDownHandler.bind(n),n.keyUpHandlerBound=n.keyUpHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.animateOnMouseMoveHandlerBound=n.animateOnMouseMoveHandler.bind(n),n.zoomStartHandlerBound=n.zoomStartHandler.bind(n),n.zoomEndHandlerBound=n.zoomEndHandler.bind(n),n.zoomHandlerBound=n.zoomHandler.bind(n),n.trackDroppedHandlerBound=n.trackDroppedHandler.bind(n),n.trackDimensionsModifiedHandlerBound=n.trackDimensionsModifiedHandler.bind(n),n.animateBound=n.animate.bind(n),n.animateOnGlobalEventBound=n.animateOnGlobalEvent.bind(n),n.requestReceivedHandlerBound=n.requestReceivedHandler.bind(n),n.wheelHandlerBound=n.wheelHandler.bind(n),n.mouseMoveHandlerBound=n.mouseMoveHandler.bind(n),n.onMouseLeaveHandlerBound=n.onMouseLeaveHandler.bind(n),n.onBlurHandlerBound=n.onBlurHandler.bind(n),n.openModalBound=n.openModal.bind(n),n.closeModalBound=n.closeModal.bind(n),n.handleEditViewConfigBound=n.handleEditViewConfig.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n.typedText="",n.typedTextTimeout=null,n.modal={open:n.openModalBound,close:n.closeModalBound},n.setBroadcastMousePositionGlobally(n.props.options.broadcastMousePositionGlobally||n.props.options.globalMousePosition),n.setShowGlobalMousePosition(n.props.options.showGlobalMousePosition||n.props.options.globalMousePosition),n}return(0,_.default)(t,e),(0,y.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}},{key:"setBroadcastMousePositionGlobally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isBroadcastMousePositionGlobally=e}},{key:"setShowGlobalMousePosition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isShowGlobalMousePosition=t,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=L.globalPubSub.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){var n=this.pubSubs.findIndex((function(t){return t===e.globalMousePositionListener}));L.globalPubSub.unsubscribe(this.globalMousePositionListener),n>=0&&this.pubSubs.splice(n,1),this.globalMousePositionListener=void 0}}},{key:"zoomStartHandler",value:function(){this.hideHoverMenu(),this.zooming=!0}},{key:"zoomEndHandler",value:function(){this.zooming=!1}},{key:"zoomHandler",value:function(e){e.sourceEvent&&this.mouseMoveHandler(e.sourceEvent)}},{key:"waitForDOMAttachment",value:function(e){var t=this;if(this.mounted){var n=O.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.element=O.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,h.default)(this.state.views).forEach((function(t){e.adjustLayoutToTrackSizes(t),t.layout?t.layout.i=t.uid:t.layout=e.generateViewLayout(t)}));var t={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0};switch(C.VERSION[0]){case"4":console.warn("Deprecation warning: please update Pixi.js to version 5!"),"canvas"===this.props.options.renderer?this.pixiRenderer=new K.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new K.GLOBALS.PIXI.WebGLRenderer(t);break;default:console.warn("Deprecation warning: please update Pixi.js to version 5! This version of Pixi.js is unsupported. Good luck ");case"5":"canvas"===this.props.options.renderer?this.pixiRenderer=new K.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new K.GLOBALS.PIXI.Renderer(t)}this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment((function(){M.ElementQueries.listen(),e.resizeSensor=new M.ResizeSensor(e.element.parentNode,e.updateAfterResize.bind(e)),e.updateAfterResize()})),this.handleDragStart(),this.handleDragStop(),this.animate();var n=(0,w.select)(this.element).append("svg").style("display","none");V.all.forEach((function(e){return(0,z.default)(n,e.id,e.paths,e.viewBox)}))}},{key:"getTrackObject",value:function(e,t){return this.tiledPlots[e].trackRenderer.getTrackObject(t)}},{key:"getTrackRenderer",value:function(e){return this.tiledPlots[e].trackRenderer}},{key:"loadIfRemoteViewConfig",value:function(e){var t=this,n={};return"string"==typeof e?q.tileProxy.json(e,(function(n,r){e=r,t.setState({views:t.processViewConfig(JSON.parse((0,c.default)(r))),viewConfig:r}),t.unsetOnLocationChange.forEach((function(e){var n=e.viewId,r=e.callback,i=e.callbackId;t.onLocationChange(n,r,i)}))}),this.pubSub):(n=this.processViewConfig(JSON.parse((0,c.default)(e))),this.mounted&&this.setState({viewConfig:e})),n}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.loadIfRemoteViewConfig(e.viewConfig);if(e.options.authToken!==this.prevAuthToken){(0,q.setTileProxyAuthHeader)(e.options.authToken);var n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)(this.iterateOverViews());!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.getTrackRenderer(s),c=JSON.parse(l.prevTrackDefinitions);l.syncTrackObjects([]),l.syncTrackObjects(c)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.prevAuthToken=e.options.authToken}var h=!0,d=!1,f=void 0;try{for(var p,m=(0,u.default)((0,X.dictValues)(t));!(h=(p=m.next()).done);h=!0){var v=p.value;this.adjustLayoutToTrackSizes(v)}}catch(e){d=!0,f=e}finally{try{!h&&m.return&&m.return()}finally{if(d)throw f}}this.setState({views:t})}},{key:"UNSAFE_componentWillUpdate",value:function(){this.pixiRenderer.render(this.pixiRoot)}},{key:"componentDidUpdate",value:function(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}},{key:"componentWillUnmount",value:function(){var e=this;this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[],this.apiDestroy()}},{key:"setTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.options.isDarkTheme;if(void 0!==t)console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=t?"dark":"light";else switch(e){case"dark":this.theme=K.THEME_DARK;break;case"light":case void 0:this.theme=K.THEME_LIGHT;break;default:console.warn('Unknown theme "'+String(e)+'". Using light theme.'),this.theme=K.THEME_LIGHT}}},{key:"dispatchEvent",value:function(e){this.canvasElement&&(0,X.forwardEvent)(e,this.canvasElement)}},{key:"trackDroppedHandler",value:function(){this.setState({draggingHappening:null})}},{key:"requestReceivedHandler",value:function(){this.viewconfLoaded||0!==q.requestsInFlight||(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}},{key:"animateOnMouseMoveHandler",value:function(e){e&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=e}},{key:"fitPixiToParentContainer",value:function(){if(this.element&&this.element.parentNode){var e=this.element.parentNode.clientWidth,t=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,e,t).endFill(),this.pixiRenderer.resize(e,t),this.pixiRenderer.view.style.width=String(e)+"px",this.pixiRenderer.view.style.height=String(t)+"px",this.pixiRenderer.render(this.pixiRoot)}else console.warn("No parentNode:",this.element)}},{key:"addDefaultTrackOptions",value:function(e){var t=this.getTrackInfo(e.type);if(t){void 0===e.options&&(e.options={});var n=e.options?e.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[e.type]){var r=this.props.options.defaultTrackOptions.trackSpecific[e.type];for(var i in r)e.options[i]=void 0!==e.options[i]?e.options[i]:JSON.parse((0,c.default)(r[i]))}if(this.props.options.defaultTrackOptions.all){var o=this.props.options.defaultTrackOptions.all;for(var a in o)e.options[a]=void 0!==e.options[a]?e.options[a]:JSON.parse((0,c.default)(o[a]))}}if(t.defaultOptions){var s=t.defaultOptionsByTheme&&t.defaultOptionsByTheme[this.theme]?t.defaultOptionsByTheme[this.theme]:{},l=(0,p.default)({},t.defaultOptions,s);if(e.options)for(var u in l)e.options[u]=void 0!==e.options[u]?e.options[u]:JSON.parse((0,c.default)(l[u]));else e.options=JSON.parse((0,c.default)(l))}else e.options=n}}},{key:"toggleTypedEditable",value:function(){this.setState({typedEditable:!this.isEditable()})}},{key:"typedTextHandler",value:function(e){var t=this;this.props.options.cheatCodesEnabled&&(this.typedText=this.typedText.concat(e.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText=""),this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout((function(){t.typedText=""}),750))}},{key:"keyDownHandler",value:function(e){this.typedTextHandler(e),this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:K.MOUSE_TOOL_SELECT})}},{key:"keyUpHandler",value:function(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:K.MOUSE_TOOL_MOVE})}},{key:"openModal",value:function(e){var t=this;this.setState({modal:S.default.cloneElement(e,{ref:function(e){t.modalRef=e}})})}},{key:"closeModal",value:function(){this.modalRef=null,this.setState({modal:null})}},{key:"handleEditViewConfig",value:function(){var e=this,t=this.state.viewConfig;this.setState({viewConfigTmp:t}),this.openModal(S.default.createElement(F.default,{onCancel:function(){var t=e.state.viewConfigTmp,n=e.processViewConfig(t),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,X.dictValues)(n));!(r=(a=s.next()).done);r=!0){var l=a.value;e.adjustLayoutToTrackSizes(l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}e.setState({views:n,viewConfig:t,viewConfigTmp:null})},onChange:function(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,X.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n})},onSave:function(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,X.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n,viewConfigTmp:null})},viewConfig:this.getViewsAsString()}))}},{key:"animate",value:function(){var e=this;this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame((function(){e.pixiRenderer&&(e.pixiRenderer.render(e.pixiRoot),e.isRequestingAnimationFrame=!1)})))}},{key:"animateOnGlobalEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceUid;t!==this.uid&&this.animateOnMouseMove&&this.animate()}},{key:"measureSize",value:function(){var e=(0,X.getElementDim)(this.element),t=(0,d.default)(e,2),n=t[0],r=t[1];n>0&&r>0&&this.setState({sizeMeasured:!0,width:n,height:r})}},{key:"updateAfterResize",value:function(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(K.LONG_DRAG_TIMEOUT),this.resizeHandler()}},{key:"onBreakpointChange",value:function(e){this.setState({currentBreakpoint:e})}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(){this.setState({mouseOverOverlayUid:null})}},{key:"handleLockLocation",value:function(e){var t=this;this.setState({chooseViewHandler:function(n){return t.handleLocationLockChosen(e,n)},mouseOverOverlayUid:e})}},{key:"isEditable",value:function(){return void 0!==this.state.typedEditable?this.state.typedEditable:this.props.options&&"editable"in this.props.options?this.props.options.editable&&this.state.viewConfig.editable:this.state.viewConfig.editable}},{key:"isTrackMenuDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.tracksEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.tracksEditable||!1===this.state.viewConfig.editable)}},{key:"isViewHeaderDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.viewEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.viewEditable||!1===this.state.viewConfig.editable)}},{key:"iterateOverViews",value:function(){var e=[];for(var t in(0,l.default)(this.state.views))e.push(t);return e}},{key:"iterateOverTracksInView",value:function(e){var t=[],n=this.state.views[e].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var h=!0,d=!1,f=void 0;try{for(var p,m=(0,u.default)(c.contents);!(h=(p=m.next()).done);h=!0){var v=p.value;t.push({viewId:e,trackId:v.uid,track:v})}}catch(e){d=!0,f=e}finally{try{!h&&m.return&&m.return()}finally{if(d)throw f}}}else t.push({viewId:e,trackId:c.uid,track:c})}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return t}},{key:"iterateOverTracks",value:function(){var e=[];for(var t in this.state.views){var n=this.state.views[t].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var h=!0,d=!1,f=void 0;try{for(var p,m=(0,u.default)(c.contents);!(h=(p=m.next()).done);h=!0){var v=p.value;e.push({viewId:t,trackId:v.uid,track:v})}}catch(e){d=!0,f=e}finally{try{!h&&m.return&&m.return()}finally{if(d)throw f}}}else e.push({viewId:t,trackId:c.uid,track:c})}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e}},{key:"setMouseTool",value:function(e){this.setState({mouseTool:e})}},{key:"isValueScaleLocked",value:function(e,t){var n=this.combineViewAndTrackUid(e,t);return!!this.state.views[e]&&!!this.valueScaleLocks[n]}},{key:"getLockGroupExtrema",value:function(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(!this.state.views[e])return null;if(!this.valueScaleLocks[r])return null;var i=this.valueScaleLocks[r],o=(0,h.default)(i).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),a=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.minVisibleValue(!0):e.minVisibleValueInTiles(!0)})),l=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.maxVisibleValue(!0):e.maxVisibleValueInTiles(!0)}));return 0===a.length||a.filter((function(e){return null===e||e===1/0})).length>0||0===l.length||l.filter((function(e){return null===e||e===-1/0})).length>0?null:[Math.min.apply(Math,(0,s.default)(a)),Math.max.apply(Math,(0,s.default)(l))]}},{key:"syncValueScales",value:function(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(this.state.views[e]){var i=(0,X.getTrackByUid)(this.state.views[e].tracks,t);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r],a=(0,h.default)(o).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),s=this.getLockGroupExtrema(e,t);if(null===s)return;var l=s[0],c=s[1],d=1e-6,f=!0,p=!1,m=void 0;try{for(var v,g=(0,u.default)(a);!(f=(v=g.next()).done);f=!0){var y=v.value;if(y.minValue&&y.minValue(l),y.maxValue&&y.maxValue(c),y.valueScale){var b=Math.abs(y.minValue()-y.valueScale.domain()[0])>d||Math.abs(y.maxValue()-y.valueScale.domain()[1])>d,_=i.options&&y.options&&void 0!==i.options.scaleStartPercent&&void 0!==i.options.scaleEndPercent&&(Math.abs(y.options.scaleStartPercent-i.options.scaleStartPercent)>d||Math.abs(y.options.scaleEndPercent-i.options.scaleEndPercent)>d);(!y.continuousScaling||b||_)&&(y.valueScale.domain([l,c]),y.prevValueScale=y.valueScale.copy(),_&&(y.options.scaleStartPercent=i.options.scaleStartPercent,y.options.scaleEndPercent=i.options.scaleEndPercent),y.rerender(y.options,!0))}}}catch(e){p=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw m}}}}}},{key:"handleNewTilesLoaded",value:function(e,t){this.animate()}},{key:"notifyDragChangedListeners",value:function(e){(0,X.dictValues)(this.draggingChangedListeners).forEach((function(t){(0,X.dictValues)(t).forEach((function(t){return t(e)}))}))}},{key:"addDraggingChangedListener",value:function(e,t,n){this.draggingChangedListeners.hasOwnProperty(e)||(this.draggingChangedListeners[e]={}),this.draggingChangedListeners[e][t]=n,n(!0),n(!1)}},{key:"removeDraggingChangedListener",value:function(e,t){if(this.draggingChangedListeners.hasOwnProperty(e)){var n=this.draggingChangedListeners[e];n.hasOwnProperty(t)&&(n[t](!1),delete n[t])}}},{key:"addScalesChangedListener",value:function(e,t,n){this.scalesChangedListeners[e]||(this.scalesChangedListeners[e]={}),this.scalesChangedListeners[e][t]=n,this.xScales[e]&&this.yScales[e]&&n(this.xScales[e],this.yScales[e])}},{key:"removeScalesChangedListener",value:function(e,t){if(this.scalesChangedListeners[e]){var n=this.scalesChangedListeners[e];n[t]&&delete n[t]}}},{key:"createSVG",value:function(){var e=document.createElement("svg");e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version","1.1");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,X.dictValues)(this.tiledPlots));!(t=(i=o.next()).done);t=!0){var a=i.value;if(a){var s=!0,l=!1,c=void 0;try{for(var h,d=(0,u.default)((0,X.dictValues)(a.trackRenderer.trackDefObjects));!(s=(h=d.next()).done);s=!0){var f=h.value;if(f.trackObject.exportSVG){var p=f.trackObject.exportSVG();p&&e.appendChild(p[0])}}}catch(e){l=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e.setAttribute("width",this.canvasElement.style.width),e.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(e):e}},{key:"createSVGString",value:function(){var e=this.createSVG(),t=P.default.xml((new window.XMLSerializer).serializeToString(e));return t=(t=(t=(t=t.replace(/<a0:/g,"<")).replace(/<\/a0:/g,"</")).replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1")).replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+String(t)}},{key:"handleExportSVG",value:function(){(0,X.download)("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}},{key:"offPostCreateSVG",value:function(){this.postCreateSVGCallback=null}},{key:"onPostCreateSVG",value:function(e){this.postCreateSVGCallback=e}},{key:"createPNGBlobPromise",value:function(){var e=this;return new a.default((function(t){var n=e.createSVGString(),r=new Image(e.canvasElement.width,e.canvasElement.height);r.src="data:image/svg+xml;base64,"+String(btoa(n)),r.onload=function(){var n=document.createElement("canvas");n.width=e.canvasElement.width/2,n.height=e.canvasElement.height/2,n.getContext("2d").drawImage(r,0,0),n.toBlob((function(e){t(e)}))}}))}},{key:"handleExportPNG",value:function(){this.createPNGBlobPromise().then((function(e){(0,X.download)("export.png",e)}))}},{key:"handleScalesChanged",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.xScales[e]=t,this.yScales[e]=n,i&&e in this.scalesChangedListeners&&(0,X.dictValues)(this.scalesChangedListeners[e]).forEach((function(e){e(t,n)})),this.zoomLocks[e])for(var o=this.zoomLocks[e],a=(0,X.dictItems)(o),s=(0,X.scalesCenterAndK)(this.xScales[e],this.yScales[e]),l=(0,d.default)(s,3),u=(l[0],l[1],l[2]),c=function(t){var n=a[t][0],i=a[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";if(n===e)return"continue";var s=(0,X.scalesCenterAndK)(r.xScales[n],r.yScales[n]),l=(0,d.default)(s,3),c=l[0],h=l[1],f=(l[2],i[2]/o[e][2]),p=u*f;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,p,!1),v=(0,d.default)(m,2),g=v[0],y=v[1];r.xScales[n]=g,r.yScales[n]=y,r.scalesChangedListeners.hasOwnProperty(n)&&(0,X.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(g,y)}))},h=0;h<a.length;h++)c(h);if(this.locationLocks[e]){var f=this.locationLocks[e],p=(0,X.dictItems)(f),m=(0,X.scalesCenterAndK)(this.xScales[e],this.yScales[e]),v=(0,d.default)(m,3),g=v[0],y=v[1],b=(v[2],function(t){var n=p[t][0],i=p[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,X.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,d.default)(o,3),s=(a[0],a[1],a[2]);if(n===e)return"continue";var l=i[0]-f[e][0],u=i[1]-f[e][1],c=g+l,h=y+u;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,s,!1),v=(0,d.default)(m,2),b=v[0],_=v[1];r.xScales[n]=b,r.yScales[n]=_,r.scalesChangedListeners.hasOwnProperty(n)&&(0,X.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(b,_)}))});for(h=0;h<p.length;h++)b(h)}if(this.locationLocksAxisWise.x[e]){var _=this.locationLocksAxisWise.x[e].lock,T=(0,X.dictItems)(_),S="x"!==this.locationLocksAxisWise.x[e].axis,k=(0,X.scalesCenterAndK)(this.xScales[e],this.yScales[e]),w=(0,d.default)(k,3),x=w[0],E=(w[1],w[2],function(t){var n=T[t][0],i=T[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,X.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,d.default)(o,3),s=a[0],l=a[1],u=a[2];if(n===e)return"continue";var c=i[0]-_[e][0],h=x+c;if(!r.setCenters[n])return"continue";var f=r.setCenters[n](S?s:h,S?h:l,u,!1),p=(0,d.default)(f,2),m=p[0],v=p[1];r.xScales[n]=m,r.yScales[n]=v,r.scalesChangedListeners.hasOwnProperty(n)&&(0,X.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(m,v)}))});for(h=0;h<T.length;h++)E(h)}if(this.locationLocksAxisWise.y[e]){var C=this.locationLocksAxisWise.y[e].lock,O=(0,X.dictItems)(C),A="y"!==this.locationLocksAxisWise.y[e].axis,M=(0,X.scalesCenterAndK)(this.xScales[e],this.yScales[e]),P=(0,d.default)(M,3),I=(P[0],P[1]),L=(P[2],function(t){var n=O[t][0],i=O[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,X.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,d.default)(o,3),s=a[0],l=a[1],u=a[2];if(n===e)return"continue";var c=i[1]-C[e][1],h=I+c;if(!r.setCenters[n])return"continue";var f=r.setCenters[n](A?h:s,A?l:h,u,!1),p=(0,d.default)(f,2),m=p[0],v=p[1];r.xScales[n]=m,r.yScales[n]=v,r.scalesChangedListeners.hasOwnProperty(n)&&(0,X.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(m,v)}))});for(h=0;h<O.length;h++)L(h)}this.animate(),this.triggerViewChangeDb()}},{key:"handleProjectViewport",value:function(e){var t=this;this.setState({chooseTrackHandler:function(n,r){return t.handleViewportProjected(e,n,r)}})}},{key:"handleZoomToData",value:function(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].handleZoomToData():(0,h.default)(this.tiledPlots).forEach((function(e){return e.handleZoomToData()}))}},{key:"resetViewport",value:function(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].resetViewport():(0,h.default)(this.tiledPlots).forEach((function(e){return e.resetViewport()}))}},{key:"handleYankFunction",value:function(e,t){this.setState({chooseViewHandler:function(n){return t(e,n)},mouseOverOverlayUid:e})}},{key:"handleUnlock",value:function(e,t){var n=t[e],r=(0,X.dictKeys)(n);if(2===r.length)return delete t[r[0]],void delete t[r[1]];t[e]&&t[e][e]&&delete t[e][e],t[e]&&delete t[e]}},{key:"viewScalesLockData",value:function(e){return this.xScales[e]&&this.yScales[e]?(0,X.scalesCenterAndK)(this.xScales[e],this.yScales[e]):(console.warn("View scale lock doesn't correspond to existing uid: ",e),null)}},{key:"addLock",value:function(e,t,n,r){var i=this,o=[],a=[];o=n[e]?(0,X.dictItems)(n[e]).filter((function(e){return r(e[0])})).map((function(e){return[e[0],r(e[0])]})):[[e,r.bind(this)(e)]],a=n[t]?(0,X.dictItems)(n[t]).filter((function(e){return r.bind(i)(e[0])})).map((function(e){return[e[0],r.bind(i)(e[0])]})):[[t,r.bind(this)(t)]];var s=o.concat(a),l=(0,X.dictFromTuples)(s);s.forEach((function(e){n[e[0]]=l}))}},{key:"handleLocationLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleZoomLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleViewportProjected",value:function(e,t,n){var r=null;if(e===t)console.warn("A view can not show its own viewport.");else{var i=(0,X.getTrackByUid)(this.state.views[t].tracks,n),o=(0,X.getTrackPositionByUid)(this.state.views[t].tracks,n),a={uid:r=E.default.nice(),type:"viewport-projection-"+String({top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[o]),fromViewUid:e};this.addCallbacks(t,a),this.handleTrackAdded(t,a,o,i)}return this.setState({chooseTrackHandler:null}),r}},{key:"handleLocationYanked",value:function(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,X.scalesCenterAndK)(i,o),s=(0,d.default)(a,3),l=(s[0],s[1],s[2]),u=(0,X.scalesCenterAndK)(n,r),c=(0,d.default)(u,3),h=c[0],f=c[1];c[2],this.setCenters[e](h,f,l,!0),this.setState({chooseViewHandler:null})}},{key:"handleZoomYanked",value:function(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,X.scalesCenterAndK)(i,o),s=(0,d.default)(a,3),l=s[0],u=s[1],c=(s[2],(0,X.scalesCenterAndK)(n,r)),h=(0,d.default)(c,3),f=(h[0],h[1],h[2]);this.setCenters[e](l,u,f,!0),this.setState({chooseViewHandler:null})}},{key:"handleTrackPositionChosen",value:function(e,t){this.setState({addTrackPosition:t,addTrackPositionView:e})}},{key:"updateRowHeight",value:function(){if(this.props.options&&this.sizeMode===ee&&!this.props.options.pixelPreciseMarginPadding){var e=this.element.parentNode.clientHeight,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,X.dictValues)(this.state.views));!(n=(o=a.next()).done);n=!0){var s=o.value;t=Math.max(t,s.layout.y+s.layout.h)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.handleDragStart(),this.handleDragStop();var l=(e-((this.isEditable()?10:0)*t-1))/t,c=Math.floor(l);this.setState({rowHeight:c})}}},{key:"handleLayoutChange",value:function(e){var t=this;this.element&&(e.forEach((function(e){var n=t.state.views[e.i];n&&(n.layout.x=e.x,n.layout.y=e.y,n.layout.w=e.w,n.layout.h=e.h,n.layout.i=e.i)})),this.updateRowHeight(),this.refreshView(K.LONG_DRAG_TIMEOUT))}},{key:"clearDragTimeout",value:function(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}},{key:"getTrackInfo",value:function(e){return K.TRACKS_INFO_BY_TYPE[e]?K.TRACKS_INFO_BY_TYPE[e]:this.pluginTracks&&this.pluginTracks[e]?this.pluginTracks[e].config:window.higlassTracksByType&&window.higlassTracksByType[e]?window.higlassTracksByType[e].config:void console.warn("Track type not found:",e,"(check app/scripts/config/ for a list of defined track types)")}},{key:"forceRefreshView",value:function(){this.setState(this.state)}},{key:"refreshView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),t)}},{key:"handleDragStart",value:function(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}},{key:"handleDragStop",value:function(){var e=this;this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),K.LONG_DRAG_TIMEOUT)}},{key:"resizeHandler",value:function(){(0,X.objVals)(this.viewHeaders).filter((function(e){return e})).forEach((function(e){return e.checkWidth()}))}},{key:"calculateViewDimensions",value:function(e){var t=20,n=100,r=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,i=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,o=0;if(o+=10,e.tracks.top)for(var a=0;a<e.tracks.top.length;a++){var s=e.tracks.top[a];r+=s.height?s.height:t,o+=s.height?s.height:t}if(e.tracks.bottom)for(var l=0;l<e.tracks.bottom.length;l++){var c=e.tracks.bottom[l];r+=c.height?c.height:t,o+=c.height?c.height:t}(e.tracks.left&&e.tracks.left.length>0||e.tracks.right&&e.tracks.right.length>0||e.tracks.center&&e.tracks.center.length>0)&&(o+=20);var h=0;if(e.tracks.left)for(var d=0;d<e.tracks.left.length;d++){var f=e.tracks.left[d],p=f.height?f.height:n;i+=f.width?f.width:0,h=Math.max(h,p)}var m=0;if(e.tracks.right)for(var v=0;v<e.tracks.right.length;v++){var g=e.tracks.right[v],y=g.height?g.height:n;i+=g.width?g.width:0,m=Math.max(m,y)}var b=Math.max(h,m),_=0,T=0;if(e.tracks.center&&(0,X.dictValues)(e.tracks.center).length>0){if(!e.tracks.center[0].contents||e.tracks.center[0].contents.length>0){var S=null,k=null;if(e.tracks.center[0].contents){var w=!0,x=!1,E=void 0;try{for(var C,O=(0,u.default)(e.tracks.center[0].contents);!(w=(C=O.next()).done);w=!0){var A=C.value;S=Math.max(S,A.height?A.height:n),k=Math.max(k,A.width?A.width:100)}}catch(e){x=!0,E=e}finally{try{!w&&O.return&&O.return()}finally{if(x)throw E}}}else S=e.tracks.center[0].height?e.tracks.center[0].height:n,k=e.tracks.center[0].width?e.tracks.center[0].width:100;r+=S,i+=k}}else(e.tracks.top&&(0,X.dictValues)(e.tracks.top).length>1||e.tracks.bottom&&(0,X.dictValues)(e.tracks.bottom).length>1)&&(e.tracks.left&&(0,X.dictValues)(e.tracks.left).length||e.tracks.right&&(0,X.dictValues)(e.tracks.right).length)&&(T=100,_=n);r+=b>_?b:_;var M=0,P=0,I=0,L=0;return"top"in e.tracks&&(M=e.tracks.top.map((function(e){return e.height?e.height:t})).reduce((function(e,t){return e+t}),0)),"bottom"in e.tracks&&(P=e.tracks.bottom.map((function(e){return e.height?e.height:t})).reduce((function(e,t){return e+t}),0)),"left"in e.tracks&&(I=e.tracks.left.map((function(e){return e.width?e.width:0})).reduce((function(e,t){return e+t}),0)),"right"in e.tracks&&(L=e.tracks.right.map((function(e){return e.width?e.width:0})).reduce((function(e,t){return e+t}),0)),{totalWidth:i,totalHeight:r,topHeight:M,bottomHeight:P,leftWidth:I,rightWidth:L,centerWidth:T,centerHeight:_,minNecessaryHeight:o}}},{key:"calculateZoomLimits",value:function(e,t){var n=[0,1/0],r=e.zoomLimits||[1,null],i=t[1]-t[0];if(2!==r.length)return n;if(null!==r[0]&&r[0]>0){var o=i/r[0];n[1]=Math.max(o,1),o<1&&console.warn("Invalid zoom limits. Lower limit set to "+i)}if(null!==r[1]&&r[1]>r[0]){var a=i/r[1];n[0]=Math.min(a,1),a>1&&console.warn("Invalid zoom limits. Upper limit set to "+i)}return n}},{key:"generateViewLayout",value:function(e){return"layout"in e?e.layout.layout:{x:0,y:0,w:12,h:12}}},{key:"handleClearView",value:function(e){var t=this.state.views;t[e].tracks.top=[],t[e].tracks.bottom=[],t[e].tracks.center=[],t[e].tracks.left=[],t[e].tracks.right=[],t[e].tracks.whole=[],this.setState({views:t})}},{key:"handleCloseView",value:function(e){var t=this;1!==(0,X.dictValues)(this.state.views).length&&(this.handleUnlock(e,this.zoomLocks),this.setState((function(n){return delete n.views[e],{views:t.removeInvalidTracks(n.views)}})))}},{key:"handleSeriesAdded",value:function(e,t,n,r){var i=this.state.views[e].tracks;if("combined"===r.type)r.contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,r);else for(var o={type:"combined",uid:E.default.nice(),height:r.height,width:r.width,contents:[r,t]},a=i[n],s=0;s<a.length;s++)a[s].uid===r.uid&&(a[s]=o);this.setState((function(e){return{views:e.views}}))}},{key:"handleNoTrackAdded",value:function(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}},{key:"handleTracksAdded",value:function(e,t,n,r){this.storeTrackSizes(e);var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(t);!(i=(s=l.next()).done);i=!0){var c=s.value;this.handleTrackAdded(e,c,n,r)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"handleChangeTrackType",value:function(e,t,n){var r=this.state.views[e],i=(0,X.getTrackByUid)(r.tracks,t),o=i.uid;i.uid=E.default.nice(),i.type=n;var a=i.uid;this.updateTrackLocks(e,o,a),this.setState((function(e){return{views:e.views}}))}},{key:"handleChangeTrackData",value:function(e,t,n){var r=this.state.views[e],i=(0,X.getTrackByUid)(r.tracks,t);i.uid=E.default.nice(),i.data=n,this.setState((function(e){return{views:e.views}}))}},{key:"handleTrackAdded",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.addDefaultTrackOptions(t),t.uid||(t.uid=E.default.nice()),t.contents){var i=!0,o=!1,a=void 0;try{for(var s,c=(0,u.default)(t.contents);!(i=(s=c.next()).done);i=!0){var h=s.value;this.addDefaultTrackOptions(h)}}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return this.handleSeriesAdded(e,t,n,r),null;t.position=n;var d=this.getTrackInfo(t.type);t.width=d.defaultWidth||d.defaultOptions&&d.defaultOptions.minWidth||this.minVerticalWidth,t.height=d.defaultHeight||d.defaultOptions&&d.defaultOptions.minHeight||this.minHorizontalHeight;var f=this.state.views[e].tracks,p=0;if((0,X.visitPositionedTracks)(f,(function(){return p++})),"left"===n||"top"===n)f[n].unshift(t);else if("center"===n)if(0===f.center.length){var m={uid:E.default.nice(),type:"combined",contents:[t]};f.center=[m]}else if("combined"===f.center[0].type)f.center[0].contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,f.center[0]);else{var v={uid:E.default.nice(),type:"combined",contents:[f.center[0],t]};f.center=[v],"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,v)}else f[n]||(f[n]=[]),f[n].push(t);return this.adjustLayoutToTrackSizes(this.state.views[e]),1===(0,l.default)(this.state.views).length&&0===p&&(this.handleZoomToData(e),this.zoomToDataExtentOnInit.add(e)),t}},{key:"compatibilityfyStackedHeatmaps",value:function(e,t){var n=void 0;t.contents.some((function(e){return n=e,"heatmap"===e.type}))&&(e.options.backgroundColor="transparent",e.options.showTooltip=n.options.showTooltip,e.options.showMousePosition=n.options.showMousePosition,e.options.mousePositionColor=n.options.mousePositionColor)}},{key:"storeTrackSizes",value:function(e){var t=this;(0,X.visitPositionedTracks)(this.state.views[e].tracks,(function(n){var r=t.tiledPlots[e].trackRenderer.getTrackObject(n.uid);if(r){var i=(0,d.default)(r.dimensions,2);n.width=i[0],n.height=i[1]}}))}},{key:"adjustLayoutToTrackSizes",value:function(e){if(e.layout){var t=0;this.isEditable()&&(t+=20),t+=this.calculateViewDimensions(e).totalHeight;var n=this.isEditable()?10:0;t+=n;var r=this.state.rowHeight+n;this.sizeMode!==ee&&(e.layout.h=Math.ceil(t/r))}}},{key:"handleCloseTrack",value:function(e,t){var n=this.state.views[e].tracks;for(var r in this.handleUnlockValueScale(e,t),n){var i=n[r],o=i.filter((function(e){return e.uid!==t}));o.length===i.length?o.filter((function(e){return"combined"===e.type})).forEach((function(e){e.contents=e.contents.filter((function(e){return e.uid!==t}))})):n[r]=o}return this.storeTrackSizes(e),this.adjustLayoutToTrackSizes(this.state.views[e]),this.setState((function(e){return{views:e.views}})),this.state.views}},{key:"handleLockValueScale",value:function(e,t){var n=this;this.setState({chooseTrackHandler:function(r,i){return n.handleValueScaleLocked(e,t,r,i)}})}},{key:"combineViewAndTrackUid",value:function(e,t){var n=String(e)+"."+String(t);if(this.combinedUidToViewTrack[n]={view:e,track:t},this.viewTrackUidsToCombinedUid[e]){if(this.viewTrackUidsToCombinedUid[t])return this.viewTrackUidsToCombinedUid[e][t];this.viewTrackUidsToCombinedUid[e][t]=n}else this.viewTrackUidsToCombinedUid[e]={},this.viewTrackUidsToCombinedUid[e][t]=n;return n}},{key:"updateTrackLocks",value:function(e,t,n){var r=this.combineViewAndTrackUid(e,t),i=this.combineViewAndTrackUid(e,n);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r];this.valueScaleLocks[i]=o,delete this.valueScaleLocks[r]}for(var a in this.valueScaleLocks)if(this.valueScaleLocks[a][r]){var s=this.valueScaleLocks[a][r];this.valueScaleLocks[a][i]=s,s.track=n,delete this.valueScaleLocks[a][r]}}},{key:"handleUnlockValueScale",value:function(e,t){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var n=(0,X.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n);!(r=(a=s.next()).done);r=!0){var l=a.value;this.handleUnlock(this.combineViewAndTrackUid(e,l),this.valueScaleLocks)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}},{key:"handleValueScaleLocked",value:function(e,t,n,r){var i=this;if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var o=(0,X.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),a=!0,s=!1,l=void 0;try{for(var c,h=(0,u.default)(o);!(a=(c=h.next()).done);a=!0){var d=c.value;this.handleValueScaleLocked(e,d,n,r)}}catch(e){s=!0,l=e}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}}else if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){var f=(0,X.dictKeys)(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks),p=!0,m=!1,v=void 0;try{for(var g,y=(0,u.default)(f);!(p=(g=y.next()).done);p=!0){var b=g.value;this.handleValueScaleLocked(e,t,n,b)}}catch(e){m=!0,v=e}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else{var _=this.combineViewAndTrackUid(e,t),T=this.combineViewAndTrackUid(n,r);this.addLock(_,T,this.valueScaleLocks,(function(e){return i.combinedUidToViewTrack[e]})),this.syncValueScales(e,t),this.setState({chooseTrackHandler:null})}}},{key:"addCallbacks",value:function(e,t){var n=this,r=this.getTrackInfo(t.type);if("viewport-projection-center"===t.type||"viewport-projection-horizontal"===t.type||"viewport-projection-vertical"===t.type||r&&r.projection){var i=t.fromViewUid;t.registerViewportChanged=function(e,t){return n.addScalesChangedListener(i,e,t)},t.removeViewportChanged=function(e){return n.removeScalesChangedListener(i,e)},t.setDomainsCallback=function(r,o){if(!i)return n.projectionXDomains[e]||(n.projectionXDomains[e]={}),n.projectionYDomains[e]||(n.projectionYDomains[e]={}),"viewport-projection-horizontal"!==t.type&&"viewport-projection-center"!==t.type||(n.projectionXDomains[e][t.uid]=r),"viewport-projection-vertical"!==t.type&&"viewport-projection-center"!==t.type||(n.projectionYDomains[e][t.uid]=o),void n.triggerViewChangeDb();var a=(0,x.scaleLinear)().domain(r).range(n.xScales[i].range()),s=(0,x.scaleLinear)().domain(o).range(n.yScales[i].range()),l=(0,X.scalesCenterAndK)(a,s),u=(0,d.default)(l,3),c=u[0],h=u[1],f=u[2];n.setCenters[i](c,h,f,!1);var p=!1,m=!1;e in n.zoomLocks&&(p=i in n.zoomLocks[e]),p&&n.handleUnlock(e,n.zoomLocks),e in n.locationLocks&&(m=i in n.locationLocks[e]),m&&n.handleUnlock(e,n.locationLocks),n.handleScalesChanged(i,a,s,!0),p&&n.addLock(e,i,n.zoomLocks,n.viewScalesLockData),m&&n.addLock(e,i,n.locationLocks,n.viewScalesLockData)}}}},{key:"validateLocks",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,X.dictKeys)(e));!(n=(o=a.next()).done);n=!0){var s=o.value;e[s]&&e[s][s]||t.push(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var l=!0,c=!1,h=void 0;try{for(var d,f=(0,u.default)(t);!(l=(d=f.next()).done);l=!0){var p=d.value;e[p]&&(console.warn("View "+String(p)+" not present in lock group. Removing..."),this.handleUnlock(p,e),delete e[p])}}catch(e){c=!0,h=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw h}}}},{key:"deserializeLocationLocks",value:function(e){if(this.locationLocks={},e.locationLocks){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,u.default)((0,X.dictKeys)(e.locationLocks.locksByViewUid));!(t=(i=a.next()).done);t=!0){var s=i.value;if("object"!==(0,o.default)(e.locationLocks.locksByViewUid[s]))this.locationLocks[s]=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[s]];else{if("x"in e.locationLocks.locksByViewUid[s]){var l=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[s].x.lock];this.locationLocksAxisWise.x[s]={lock:l,axis:e.locationLocks.locksByViewUid[s].x.axis}}if("y"in e.locationLocks.locksByViewUid[s]){var c=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[s].y.lock];this.locationLocksAxisWise.y[s]={lock:c,axis:e.locationLocks.locksByViewUid[s].y.axis}}}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}this.validateLocks(this.locationLocks)}},{key:"deserializeZoomLocks",value:function(e){if(this.zoomLocks={},e.zoomLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,X.dictKeys)(e.zoomLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.zoomLocks[a]=e.zoomLocks.locksDict[e.zoomLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}this.validateLocks(this.zoomLocks)}},{key:"deserializeValueScaleLocks",value:function(e){if(this.valueScaleLocks={},e.valueScaleLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,X.dictKeys)(e.valueScaleLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.valueScaleLocks[a]=e.valueScaleLocks.locksDict[e.valueScaleLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"serializeLocks",value:function(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,X.dictKeys)(e));!(r=(a=s.next()).done);r=!0){var l=a.value,c=e[l]&&e[l].uid;c||(c=E.default.nice()),e[l].uid=c,t[c]=e[l],n[l]=e[l].uid}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{locksByViewUid:n,locksDict:t}}},{key:"getViewsAsJson",value:function(){var e=this,t=JSON.parse((0,c.default)(this.state.viewConfig));return t.views=(0,h.default)(this.state.views).map((function(t){var n=JSON.parse((0,c.default)(t));return(0,X.visitPositionedTracks)(n.tracks,(function(n){if(n.server){var r=(0,I.default)(n.server,{});if(!r.hostname.length){var i=window.location.host,o=window.location.protocol,a=String(o)+"//"+String(i)+String(r.pathname);n.server=a}}("viewport-projection-center"===n.type||"viewport-projection-horizontal"===n.type)&&e.projectionXDomains[t.uid]&&e.projectionXDomains[t.uid][n.uid]&&(n.projectionXDomain=e.projectionXDomains[t.uid][n.uid]),("viewport-projection-center"===n.type||"viewport-projection-vertical"===n.type)&&e.projectionYDomains[t.uid]&&e.projectionYDomains[t.uid][n.uid]&&(n.projectionYDomain=e.projectionYDomains[t.uid][n.uid]),delete n.name,delete n.position,delete n.header,delete n.description,delete n.created,delete n.project,delete n.project_name,delete n.serverUidKey,delete n.uuid,delete n.private,delete n.maxZoom,delete n.coordSystem,delete n.coordSystem2,delete n.datatype,delete n.maxWidth,delete n.datafile,delete n.binsPerDimension,delete n.resolutions,delete n.aggregationModes})),n.uid=t.uid,n.initialXDomain=e.xScales[t.uid].domain(),n.initialYDomain=e.yScales[t.uid].domain(),delete n.layout.i,n})),t.zoomLocks=this.serializeLocks(this.zoomLocks),t.locationLocks=this.serializeLocks(this.locationLocks),t.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),t}},{key:"getViewsAsString",value:function(){return(0,c.default)(this.getViewsAsJson(),null,2)}},{key:"handleExportViewAsJSON",value:function(){var e=this.getViewsAsString();(0,X.download)("viewconf.json",e)}},{key:"handleExportViewsAsLink",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.viewConfig.exportViewUrl,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new URL(t,window.location.origin),i=fetch(t,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:'{"viewconf":'+String(this.getViewsAsString())+"}",credentials:"same-origin"}).then((function(e){if(!e.ok)throw e;return e.json()})).catch((function(e){console.warn("err:",e)})).then((function(e){return{id:e.uid,url:String(r.origin)+"/l/?d="+String(e.uid)}}));return n||i.then((function(t){e.openModal(S.default.createElement(j.default,{onDone:function(){e.closeModalBound()},url:t.url}))})).catch((function(e){return console.error("Exporting view config as link failed:",e)})),i}},{key:"handleDataDomainChanged",value:function(e,t,n){var r=this.state.views;if(r[e].initialXDomain=t,r[e].initialYDomain=n,this.xScales[e]=(0,x.scaleLinear)().domain(t),this.yScales[e]=(0,x.scaleLinear)().domain(n),this.zoomLocks[e])for(var i=this.zoomLocks[e],o=(0,X.dictItems)(i),a=0;a<o.length;a++){var s=o[a][0];s in this.locationLocks&&(r[s].initialXDomain=t,r[s].initialYDomain=n,this.xScales[s]=(0,x.scaleLinear)().domain(t),this.yScales[s]=(0,x.scaleLinear)().domain(n))}this.setState({views:r})}},{key:"viewPositionAvailable",value:function(e,t,n,r){var i=e+n,o=t+r;if(e+n>12)return!1;for(var a=(0,X.dictValues)(this.state.views),s=0;s<a.length;s++){var l=a[s].layout.x,u=a[s].layout.y,c=l+a[s].layout.w,h=u+a[s].layout.h;if(e<c&&i>l&&t<h&&o>u)return!1}return!0}},{key:"handleAddView",value:function(e){var t=this,n=(0,X.dictValues)(this.state.views),r=e,i=[];12===e.layout.w&&(e.layout.w=6);for(var o=0;o<n.length;o++){var a=n[o].layout.x+n[o].layout.w,s=n[o].layout.y;this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s]),a=n[o].layout.x,s=n[o].layout.y+n[o].layout.h,this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s])}i.sort((function(e,t){var n=e[1]-t[1];return 0===n?e[0]-t[0]:n}));var l=(0,c.default)(r),u=JSON.parse(l);u.initialXDomain=this.xScales[u.uid].domain(),u.initialYDomain=this.yScales[u.uid].domain();var h=(0,d.default)(i[0],2);u.layout.x=h[0],u.layout.y=h[1],u.uid=E.default.nice(),u.layout.i=u.uid,(0,X.visitPositionedTracks)(u.tracks,(function(e){t.addCallbacks(u.uid,e)})),this.setState((function(e){var t=JSON.parse((0,c.default)(e.views));return t[u.uid]=u,{views:t}}))}},{key:"handleSelectedAssemblyChanged",value:function(e,t,n,r){var i=this.state.views;i[e].genomePositionSearchBox.chromInfoId=t,i[e].genomePositionSearchBox.autocompleteId=n,i[e].genomePositionSearchBox.autocompleteServer=r}},{key:"createGenomePostionSearchBoxEntry",value:function(e,t){var n=e,r={autocompleteServer:K.DEFAULT_SERVER,chromInfoServer:K.DEFAULT_SERVER,visible:!1};return n||(n=JSON.parse((0,c.default)(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=t),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}},{key:"handleTogglePositionSearchBox",value:function(e){var t=this.state.views[e];t.genomePositionSearchBoxVisible=!t.genomePositionSearchBoxVisible;var n={};(0,X.visitPositionedTracks)(t.tracks,(function(e){e.coordSystem&&(n[e.coordSystem]||(n[e.coordSystem]=0),n[e.coordSystem]+=1)}));var r=(0,X.dictItems)(n).sort((function(e,t){return t[1]-e[1]})),i="hg19";r.length&&(i=r[0][0]),t.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(t.genomePositionSearchBox,i),t.genomePositionSearchBox.visible=!t.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}},{key:"handleTrackOptionsChanged",value:function(e,t,n){var r=this.state.views[e],i=(0,X.getTrackByUid)(r.tracks,t);i&&(i.options=(0,p.default)(i.options,n),this.mounted&&(this.setState((function(e){return{views:e.views}})),this.adjustSplitHeatmapTrackOptions(i,n,r.tracks,e)))}},{key:"adjustSplitHeatmapTrackOptions",value:function(e,t,n,r){var i=this;"heatmap"===e.type&&("upper-right"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"lower-left"!==n.options.extent){var o=(0,p.default)({},n.options,{extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"}),a=(0,p.default)({},t,{labelPosition:"topRight",colorbarPosition:"topRight"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})),"lower-left"===t.extent&&"lower-left"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"upper-right"!==n.options.extent){var o=(0,p.default)({},n.options,{extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"}),a=(0,p.default)({},t,{labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})))}},{key:"handleViewOptionsChanged",value:function(e,t){var n=this.state.views[e];n&&(n.options=(0,p.default)(n.options||{},t),this.mounted&&this.setState((function(e){return{views:e.views}})))}},{key:"isTrackValid",value:function(e,t){return!("viewport-projection-center"===e.type&&!t.has(e.fromViewUid))}},{key:"removeInvalidTracks",value:function(e){var t=this,n=new m.default((0,X.dictKeys)(e)),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,X.dictValues)(e));!(r=(a=s.next()).done);r=!0)for(var l=a.value,c=["left","top","center","right","bottom"],h=0;h<c.length;h++){var d=c[h];l.tracks&&l.tracks.hasOwnProperty(d)&&(l.tracks[d]=l.tracks[d].filter((function(e){return t.isTrackValid(e,n)})),l.tracks[d].forEach((function(e){"combined"===e.type&&(e.contents=e.contents.filter((function(e){return t.isTrackValid(e,n)})))})))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}},{key:"processViewConfig",value:function(e){var t=this,n=e.views,r={};return e.views&&0!==e.views.length||(console.warn("No views provided in viewConfig"),n=[{editable:!0,tracks:{}}]),n.forEach((function(e){e.tracks&&(0,X.fillInMinWidths)(e.tracks),e.uid||(e.uid=E.default.nice()),r[e.uid]=e,t.zoomToDataExtentOnInit.has(e.uid)&&t.zoomToDataExtentOnInit.delete(e.uid),e.initialXDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):(e.initialXDomain=[0,100],t.zoomToDataExtentOnInit.add(e.uid)),e.initialYDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):e.initialYDomain=[e.initialXDomain[0],e.initialXDomain[1]],t.xScales[e.uid]||(t.xScales[e.uid]=(0,x.scaleLinear)().domain(e.initialXDomain)),t.yScales[e.uid]||(t.yScales[e.uid]=(0,x.scaleLinear)().domain(e.initialYDomain)),(0,X.visitPositionedTracks)(e.tracks,(function(n){if(n.uid||(n.uid=E.default.nice()),t.addCallbacks(e.uid,n),t.addDefaultTrackOptions(n),n.contents){var r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n.contents);!(r=(a=s.next()).done);r=!0){var l=a.value;t.addDefaultTrackOptions(l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}})),e.layout?e.layout.i=e.uid:e.layout=t.generateViewLayout(e)})),this.deserializeZoomLocks(e),this.deserializeLocationLocks(e),this.deserializeValueScaleLocks(e),r=this.removeInvalidTracks(r)}},{key:"handleWindowFocused",value:function(){}},{key:"rangeSelectionHandler",value:function(e){this.rangeSelection=e,this.apiPublish("rangeSelection",e)}},{key:"offViewChange",value:function(e){this.viewChangeListener.splice(e,1)}},{key:"onViewChange",value:function(e){return this.viewChangeListener.push(e)-1}},{key:"triggerViewChange",value:function(){var e=this;this.viewChangeListener.forEach((function(t){return t(e.getViewsAsString())}))}},{key:"getGenomeLocation",value:function(e){var t=this;return q.chromInfo.get(this.state.views[e].chromInfoPath).then((function(n){return(0,X.scalesToGenomeLoci)(t.xScales[e],t.yScales[e],n)}))}},{key:"offLocationChange",value:function(e,t){this.removeScalesChangedListener(e,t)}},{key:"zoomTo",value:function(e,t,n,r,o,a){if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));if((0,i.default)(+t)||(0,i.default)(+n)){var s=[t,n].join(", ");console.warn(["Invalid coordinates ("+String(s)+"). All coordinates need to be numbers\n        and should represent absolute coordinates (not chromosome\n        coordinates)."].join(" "))}else{((0,i.default)(+r)||(0,i.default)(+o)||null===r||null===o)&&(r=t,o=n);var u=(0,X.scalesCenterAndK)(this.xScales[e].copy().domain([t,n]),this.yScales[e].copy().domain([r,o])),c=(0,d.default)(u,3),h=c[0],f=c[1],p=c[2];this.setCenters[e](h,f,p,!1,a)}}},{key:"zoomToGene",value:function(e,t,n,r){var i=this;if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));this.state.views[e].genomePositionSearchBox&&this.state.views[e].genomePositionSearchBox.autocompleteServer&&this.state.views[e].genomePositionSearchBox.autocompleteId&&this.state.views[e].chromInfoPath?this.suggestGene(e,t,(function(o){if(o){var a=o.find((function(e){return e.geneName.toLowerCase()===t.toLowerCase()}));if(a){var s=a.chr,l=a.txStart,u=a.txEnd;(0,B.default)(i.state.views[e].chromInfoPath,(function(t){var o=t.chrToAbs([s,l])-n,a=t.chrToAbs([s,u])+n,c=(0,X.scalesCenterAndK)(i.xScales[e].copy().domain([o,a]),i.yScales[e].copy().domain([o,a])),h=(0,d.default)(c,3),f=h[0],p=h[1],m=h[2];i.setCenters[e](f,p,m,!1,r)}),i.pubSub)}else console.warn("Couldn't find the gene symbol: "+String(t))}})):console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API")}},{key:"suggestGene",value:function(e,t,n){if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));if(this.state.views[e].genomePositionSearchBox&&this.state.views[e].genomePositionSearchBox.autocompleteServer&&this.state.views[e].genomePositionSearchBox.autocompleteId){var r=this.state.views[e].genomePositionSearchBox.autocompleteServer,i=this.state.views[e].genomePositionSearchBox.autocompleteId,o=String(r)+"/suggest/?d="+String(i)+"&ac="+String(t.toLowerCase());q.tileProxy.json(o,X.toVoid,this.pubSub).then((function(e){n(e)})).catch((function(e){return console.error(e)}))}else console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API")}},{key:"onLocationChange",value:function(e,t,n){var r=(0,l.default)(this.state.views);if(!r.length)return this.unsetOnLocationChange.push({viewId:e,callback:t,callbackId:n}),null;if(void 0===(e=void 0===e&&1===r.length?r[0]:e)||-1===r.indexOf(e))return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",e),null;var i=this.state.views[e],o=function(e,n){t({xDomain:e.domain(),yDomain:n.domain(),xRange:e.range(),yRange:n.range()})},a=1;return this.scalesChangedListeners[i.uid]&&(a=(0,l.default)(this.scalesChangedListeners[i.uid]).filter((function(e){return 0===e.indexOf(K.LOCATION_LISTENER_PREFIX)})).map((function(e){return parseInt(e.slice(K.LOCATION_LISTENER_PREFIX.length+1),10)})).reduce((function(e,t){return Math.max(e,t)}),0)+1),this.addScalesChangedListener(i.uid,String(K.LOCATION_LISTENER_PREFIX)+"."+String(a),o),n&&n(String(K.LOCATION_LISTENER_PREFIX)+"."+String(a)),a}},{key:"getTiledPlotAtPosition",value:function(e,t){for(var n=void 0,r=(0,X.dictValues)(this.state.views),i=0;i<r.length;i++){var o=this.tiledPlots[r[i].uid],a=this.tiledAreasDivs[r[i].uid].getBoundingClientRect(),s=a.top,l=a.left,u=s+a.height,c=l+a.width;if(e>=l&&e<=c&&t>=s&&t<=u){n=o;break}}return n}},{key:"mouseMoveHandler",value:function(e){if(this.topDiv&&!this.state.modal){var t=e.clientX,n=e.clientY,i=(0,w.clientPoint)(this.topDiv,e);i[1]+=this.scrollTop;var o=this.getTiledPlotAtPosition(t,n),a=o?o.listTracksAtPosition(i[0],i[1],!0).map((function(e){return e.originalTrack||e})):[],s=a.find((function(e){return!e.isAugmentationTrack})),l=s?[i[0]-s.position[0],i[1]-s.position[1]]:i,u=-1,c=-1;s&&(u=s.flipText?s._xScale.invert(l[1]):s._xScale.invert(l[0]),c=s.is2d?s._yScale.invert(l[1]):u);var h={x:i[0],y:i[1],relTrackX:s&&s.flipText?l[1]:l[0],relTrackY:s&&s.flipText?l[0]:l[1],dataX:u,dataY:c,isFrom2dTrack:!(!s||!s.is2d),isFromVerticalTrack:!(!s||!s.flipText),track:s,origEvt:e,sourceUid:this.uid,hoveredTracks:a,noHoveredTracks:0===a.length};if(this.pubSub.publish("app.mouseMove",h),this.isBroadcastMousePositionGlobally){var d=(0,r.default)({},h);d.origEvt=void 0,d.track=void 0,d.hoveredTracks=void 0,delete d.origEvt,delete d.track,delete d.hoveredTracks,L.globalPubSub.publish("higlass.mouseMove",d)}this.apiPublish("cursorLocation",{absX:t,absY:n,relX:h.x,relY:h.y,relTrackX:h.relTrackX,relTrackY:h.relTrackY,dataX:h.dataX,dataY:h.dataY,isFrom2dTrack:h.isFrom2dTrack,isFromVerticalTrack:h.isFromVerticalTrack}),this.showHoverMenu(h)}}},{key:"getMinMaxValue",value:function(e,t,n,r){var i=(0,X.getTrackObjById)(this.tiledPlots,e,t);if(i){if(i.minVisibleValueInTiles&&i.maxVisibleValueInTiles)return n&&i.getAggregatedVisibleValue?[i.getAggregatedVisibleValue("min"),i.getAggregatedVisibleValue("max")]:[i.minVisibleValueInTiles(r),i.maxVisibleValueInTiles(r)];console.warn("Track "+String(t)+" doesn't support the retrieval of min or max values.")}else console.warn("Track with ID: "+String(t)+" not found!")}},{key:"showHoverMenu",value:function(e){var t=e.track&&e.track.getMouseOverHtml?e.track.getMouseOverHtml(e.relTrackX,e.relTrackY):"";if(e.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=e.track,!this.zooming){var n=t&&t.length?[1]:[],r=(0,w.select)("body").selectAll(".track-mouseover-menu").data(n);r.exit().remove(),r.enter().append("div").classed("track-mouseover-menu",!0).classed($.default["track-mouseover-menu"],!0),r=(0,w.select)("body").selectAll(".track-mouseover-menu");var i=(0,w.clientPoint)((0,w.select)("body").node(),e.origEvt),o=[i[0]-window.scrollX,i[1]-window.scrollY];if(r.style("left",String(o[0])+"px").style("top",String(o[1])+"px"),r.node()){var a=r.node().getBoundingClientRect();a.x+a.width>window.innerWidth&&r.style("left",o[0]-a.width+"px"),a.y+a.height>window.innerHeight&&r.style("top",o[1]-a.height+"px"),r.html(t)}}}},{key:"hideHoverMenu",value:function(){(0,w.select)("body").selectAll(".track-mouseover-menu").remove()}},{key:"appClickHandler",value:function(e){this.apiPublish("click",e)}},{key:"mouseMoveZoomHandler",value:function(e){this.apiPublish("mouseMoveZoom",e)}},{key:"geneSearchHandler",value:function(e){this.apiPublish("geneSearch",e)}},{key:"mouseDownHandler",value:function(e){}},{key:"onScrollHandler",value:function(){this.props.options.sizeMode===ne&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}},{key:"setTrackValueScaleLimits",value:function(e,t,n,r){var i=(0,X.getTrackObjById)(this.tiledPlots,e,t);i?i.setFixedValueScaleMin&&i.setFixedValueScaleMax?(i.setFixedValueScaleMin(n),i.setFixedValueScaleMax(r),i.rerender(i.options,!0),i.animate()):console.warn("Track doesn't support fixed value scales."):console.warn("Could't find track: "+String(t))}},{key:"setChromInfo",value:function(e,t){var n=this;(0,B.default)(e,(function(e){n.chromInfo=e,t()}),this.pubSub)}},{key:"onMouseLeaveHandler",value:function(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}},{key:"onBlurHandler",value:function(){this.animate()}},{key:"isZoomFixed",value:function(e){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.props.options.sizeMode===ne||e&&e.zoomFixed}},{key:"trackDimensionsModifiedHandler",value:function(e){var t=this.state.views[e.viewId];if(t){var n=(0,X.getTrackByUid)(t.tracks,e.trackId);n&&(void 0!==e.height&&(n.height=e.height),void 0!==e.width&&(n.width=e.width),this.adjustLayoutToTrackSizes(t),this.setState((function(e){return{views:e.views}})))}}},{key:"wheelHandler",value:function(e){if(!this.state.modal&&this.props.options.sizeMode!==ne){var t=e.nativeEvent||e,n=e.target===this.canvasElement;if((0,X.hasParent)(t.target,this.topDiv)&&!this.isZoomFixed()){var r=t.clientX,i=t.clientY,o=this.getTiledPlotAtPosition(r,i);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){var a=(0,w.clientPoint)(this.topDiv,t);a[1]+=this.scrollTop;var s=o?o.listTracksAtPosition(a[0],a[1],!0).map((function(e){return e.originalTrack||e})):[],l=s.find((function(e){return!e.isAugmentationTrack})),u=l?[a[0]-l.position[0],a[1]-l.position[1]]:a,c={x:a[0],y:a[1],relTrackX:l&&l.flipText?u[1]:u[0],relTrackY:l&&l.flipText?u[0]:u[1],track:l,origEvt:t,sourceUid:this.uid,hoveredTracks:s,noHoveredTracks:0===s.length};this.apiPublish("wheel",c)}if(t.forwarded||n)return e.stopPropagation(),void e.preventDefault();if(e.preventDefault(),o){var h=o.trackRenderer;t.forwarded=!0,t&&((0,X.forwardEvent)(t,h.eventTracker),t.preventDefault())}}}}},{key:"render",value:function(){var e=this;this.tiledAreasDivs={},this.tiledAreas=S.default.createElement("div",{className:"HiGlass-module_tiled-area-22H1L"}),this.mounted&&(this.tiledAreas=(0,X.dictValues)(this.state.views).map((function(t){var n=t.uid===e.state.addTrackPositionMenuUid?e.state.addTrackPositionMenuPosition:null,r=null;if(e.state.chooseViewHandler){var i="transparent";e.state.mouseOverOverlayUid===t.uid&&(i="green"),r=S.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){return e.state.chooseViewHandler(t.uid)},onMouseEnter:function(){return e.handleOverlayMouseEnter(t.uid)},onMouseLeave:function(){return e.handleOverlayMouseLeave(t.uid)},onMouseMove:function(){return e.handleOverlayMouseEnter(t.uid)},style:{position:"absolute",width:"100%",height:"100%",background:i,opacity:.3,zIndex:1}})}var o=S.default.createElement(D.default,{key:"tp"+String(t.uid),ref:function(n){e.tiledPlots[t.uid]=n},addTrackPosition:e.state.addTrackPositionView===t.uid?e.state.addTrackPosition:null,addTrackPositionMenuPosition:n,canvasElement:e.state.canvasElement,chooseTrackHandler:e.state.chooseTrackHandler?function(n){return e.state.chooseTrackHandler(t.uid,n)}:null,chromInfoPath:t.chromInfoPath,disableTrackMenu:e.isTrackMenuDisabled(),draggingHappening:e.state.draggingHappening,editable:e.isEditable(),getLockGroupExtrema:function(n){return e.getLockGroupExtrema(t.uid,n)},initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,isShowGlobalMousePosition:e.isShowGlobalMousePosition,isValueScaleLocked:function(n){return e.isValueScaleLocked(t.uid,n)},marginBottom:e.viewMarginBottom,marginLeft:e.viewMarginLeft,marginRight:e.viewMarginRight,marginTop:e.viewMarginTop,metaTracks:t.metaTracks,mouseTool:e.state.mouseTool,onChangeTrackData:function(n,r){return e.handleChangeTrackData(t.uid,n,r)},onChangeTrackType:function(n,r){return e.handleChangeTrackType(t.uid,n,r)},onCloseTrack:function(n){return e.handleCloseTrack(t.uid,n)},onDataDomainChanged:function(n,r){return e.handleDataDomainChanged(t.uid,n,r)},onLockValueScale:function(n){return e.handleLockValueScale(t.uid,n)},onMouseMoveZoom:e.mouseMoveZoomHandler.bind(e),onNewTilesLoaded:function(n){return e.handleNewTilesLoaded(t.uid,n)},onNoTrackAdded:e.handleNoTrackAdded.bind(e),onRangeSelection:e.rangeSelectionHandler.bind(e),onResizeTrack:e.triggerViewChangeDb,onScalesChanged:function(n,r){return e.handleScalesChanged(t.uid,n,r)},onTrackOptionsChanged:function(n,r){return e.handleTrackOptionsChanged(t.uid,n,r)},onTrackPositionChosen:e.handleTrackPositionChosen.bind(e),onTracksAdded:function(n,r,i){return e.handleTracksAdded(t.uid,n,r,i)},onUnlockValueScale:function(n){return e.handleUnlockValueScale(t.uid,n)},onValueScaleChanged:function(n){return e.syncValueScales(t.uid,n)},overlays:t.overlays,paddingBottom:e.viewPaddingBottom,paddingLeft:e.viewPaddingLeft,paddingRight:e.viewPaddingRight,paddingTop:e.viewPaddingTop,pixiRenderer:e.pixiRenderer,pixiStage:e.pixiStage,pluginDataFetchers:e.pluginDataFetchers,pluginTracks:e.pluginTracks,rangeSelection1dSize:e.state.rangeSelection1dSize,rangeSelectionToInt:e.state.rangeSelectionToInt,registerDraggingChangedListener:function(n){return e.addDraggingChangedListener(t.uid,t.uid,n)},removeDraggingChangedListener:function(n){return e.removeDraggingChangedListener(t.uid,t.uid,n)},setCentersFunction:function(n){e.setCenters[t.uid]=n},svgElement:e.state.svgElement,tracks:t.tracks,trackSourceServers:e.state.viewConfig.trackSourceServers,uid:t.uid,verticalMargin:e.verticalMargin,viewOptions:t.options,xDomainLimits:t.xDomainLimits,yDomainLimits:t.yDomainLimits,zoomable:!e.isZoomFixed(t),zoomLimits:e.calculateZoomLimits(t,t.initialXDomain),zoomToDataExtentOnInit:function(){return e.zoomToDataExtentOnInit.has(t.uid)}}),a=function(n,r){return t.genomePositionSearchBox?S.default.createElement(N.default,{key:"gpsb"+String(t.uid),ref:function(n){e.genomePositionSearchBoxes[t.uid]=n},autocompleteId:t.genomePositionSearchBox.autocompleteId,autocompleteServer:t.genomePositionSearchBox.autocompleteServer,chromInfoId:t.genomePositionSearchBox.chromInfoId,chromInfoPath:t.genomePositionSearchBox.chromInfoPath,chromInfoServer:t.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:t.genomePositionSearchBox.hideAvailableAssemblies,isFocused:n,onFocus:r,onGeneSearch:e.geneSearchHandler.bind(e),onSelectedAssemblyChanged:function(n,r,i){return e.handleSelectedAssemblyChanged(t.uid,n,r,i)},registerViewportChangedListener:function(n){return e.addScalesChangedListener(t.uid,t.uid,n)},removeViewportChangedListener:function(){return e.removeScalesChangedListener(t.uid,t.uid)},setCenters:function(n,r,i,o){return e.setCenters[t.uid](n,r,i,!1,o)},trackSourceServers:e.state.viewConfig.trackSourceServers,twoD:!0}):null},s=!e.isEditable()||e.isViewHeaderDisabled()||e.state.viewConfig.hideHeader?null:S.default.createElement(H.default,{ref:function(n){e.viewHeaders[t.uid]=n},getGenomePositionSearchBox:a,isGenomePositionSearchBoxVisible:t.genomePositionSearchBox&&t.genomePositionSearchBox.visible,mouseTool:e.state.mouseTool,onAddView:function(){return e.handleAddView(t)},onClearView:function(){return e.handleClearView(t.uid)},onCloseView:function(){return e.handleCloseView(t.uid)},onEditViewConfig:e.handleEditViewConfigBound,onExportPNG:e.handleExportPNG.bind(e),onExportSVG:e.handleExportSVG.bind(e),onExportViewsAsJSON:e.handleExportViewAsJSON.bind(e),onExportViewsAsLink:e.handleExportViewsAsLink.bind(e),onLockLocation:function(t){return e.handleYankFunction(t,e.handleLocationLockChosen.bind(e))},onLockZoom:function(t){return e.handleYankFunction(t,e.handleZoomLockChosen.bind(e))},onLockZoomAndLocation:function(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))},onProjectViewport:e.handleProjectViewport.bind(e),onTakeAndLockZoomAndLocation:function(t){e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n),e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))},onTogglePositionSearchBox:e.handleTogglePositionSearchBox.bind(e),onTrackPositionChosen:function(n){return e.handleTrackPositionChosen(t.uid,n)},onUnlockLocation:function(t){return e.handleUnlock(t,e.locationLocks)},onUnlockZoom:function(t){return e.handleUnlock(t,e.zoomLocks)},onUnlockZoomAndLocation:function(t){e.handleUnlock(t,e.zoomLocks),e.handleUnlock(t,e.locationLocks)},onViewOptionsChanged:function(n){return e.handleViewOptionsChanged(t.uid,n)},onYankLocation:function(t){return e.handleYankFunction(t,e.handleLocationYanked.bind(e))},onYankZoom:function(t){return e.handleYankFunction(t,e.handleZoomYanked.bind(e))},onYankZoomAndLocation:function(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n)}))},onZoomToData:function(t){return e.handleZoomToData(t)},viewUid:t.uid});return S.default.createElement("div",{key:t.uid,ref:function(n){e.tiledAreasDivs[t.uid]=n},className:"HiGlass-module_tiled-area-22H1L"},s,o,r)})));var t=this.mounted?(0,h.default)(this.state.views).filter((function(e){return e.layout})).map((function(e){return e.layout})):[];t=JSON.parse((0,c.default)(t));var n=this.isEditable()?K.DEFAULT_CONTAINER_PADDING_X:0,r=this.isEditable()?K.DEFAULT_CONTAINER_PADDING_Y:0,i=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:n,o=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:r,a=S.default.createElement(A.default,{ref:function(t){e.gridLayout=t},cols:12,containerPadding:[i,o],draggableHandle:"."+String(Z.default["multitrack-header-grabber"]),isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:t,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas),s="styles.higlass";this.theme===K.THEME_DARK&&(s+=" styles.higlass-dark-theme"),this.props.options.sizeMode!==te&&this.props.options.sizeMode!==ne||(s+=" styles.higlass-container-overflow");var l="";return this.props.options.sizeMode===te?l="styles.higlass-scroll-container-overflow":this.props.options.sizeMode===ne&&(l="styles.higlass-scroll-container-scroll"),S.default.createElement("div",{key:this.uid,ref:function(t){e.topDiv=t},onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound,className:"higlass "+(0,T.default)(s,J)},S.default.createElement(G.Provider,{value:this.pubSub},S.default.createElement(Y.Provider,{value:this.modal},S.default.createElement(W.Provider,{value:this.theme},this.state.modal,S.default.createElement("canvas",{key:this.uid,ref:function(t){e.canvasElement=t},className:"HiGlass-module_higlass-canvas-_mP9r"}),S.default.createElement("div",{ref:function(t){e.scrollContainer=t},onScroll:this.onScrollHandlerBound,className:"higlass-scroll-container "+(0,T.default)(l,J)},S.default.createElement("div",{ref:function(t){e.divDrawingSurface=t},className:"higlass-drawing-surface HiGlass-module_higlass-drawing-surface-3aQQo"},a),S.default.createElement("svg",{ref:function(t){e.svgElement=t},style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"},className:"HiGlass-module_higlass-svg-JJZbf"}))))))}},{key:"sizeMode",get:function(){return void 0===this.props.options.sizeMode?this.props.options.bounded?"bounded":"default":this.props.options.sizeMode}}]),t}(S.default.Component);re.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},re.propTypes={getApi:k.default.func,options:k.default.object,viewConfig:k.default.oneOfType([k.default.string,k.default.object]).isRequired,zoomFixed:k.default.bool,compactLayout:k.default.bool},t.default=re},function(e,t,n){n(234),e.exports=n(12).Number.isNaN},function(e,t,n){var r=n(16);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){n(61),n(236),e.exports=n(12).Array.from},function(e,t,n){"use strict";var r=n(49),i=n(16),o=n(54),a=n(165),s=n(166),l=n(88),u=n(237),c=n(112);i(i.S+i.F*!n(167)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,h,d=o(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(d);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(t=l(d.length));t>g;g++)u(n,g,v?m(d[g],g):d[g]);else for(h=y.call(d),n=new f;!(i=h.next()).done;g++)u(n,g,v?a(h,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(32),i=n(66);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){n(240),e.exports=-9007199254740991},function(e,t,n){var r=n(16);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){n(242),e.exports=9007199254740991},function(e,t,n){var r=n(16);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(62)),o=v(n(246)),a=v(n(247)),s=v(n(35)),l=v(n(3)),u=v(n(4)),c=v(n(26)),h=n(28),d=n(10),f=v(n(137)),p=v(n(138)),m=n(24);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(t,n){(0,l.default)(this,e),this.tilesetInfoLoading=!0,t?(this.dataConfig=JSON.parse((0,s.default)(t)),this.uuid=c.default.nice(),this.pubSub=n,this.dataConfig.children&&(this.dataConfig.children=t.children.map((function(t){return new e(t,n)})))):console.error("No dataconfig provided")}var t;return(0,u.default)(e,[{key:"registerFileUrl",value:(t=(0,a.default)(o.default.mark((function e(t){var n,r,i=t.server,a=t.url,l=t.filetype,u=t.coordSystem;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String((0,d.trimTrailingSlash)(i))+"/register_url/",r={fileurl:a,filetype:l,coordSystem:u},e.abrupt("return",fetch(n,{method:"POST",body:(0,s.default)(r),headers:{"Content-Type":"application/json; charset=utf-8"}}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"tilesetInfo",value:function(e){var t=this;return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then((function(e){return e.json()})).then((function(n){t.dataConfig.tilesetUid=n.uid,t.tilesetInfoAfterRegister(e)})).catch((function(e){console.error("Error registering url",e)})):new i.default((function(){t.tilesetInfoAfterRegister(e)}))}},{key:"tilesetInfoAfterRegister",value:function(e){var t=this;if(this.dataConfig.children){var n=this.dataConfig.children.map((function(e){return new i.default((function(t){e.tilesetInfo(t)}))}));i.default.all(n).then((function(t){e(t[0])}))}else this.dataConfig.server&&this.dataConfig.tilesetUid?m.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,(function(n){t.dataConfig.tilesetInfo=n[t.dataConfig.tilesetUid],e(n[t.dataConfig.tilesetUid],t.dataConfig.tilesetUid)}),(function(n){t.tilesetInfoLoading=!1,e({error:n})}),this.pubSub):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),e(null))}},{key:"fullTileId",value:function(e,t){return String(e)+"."+String(t)}},{key:"fetchTilesDebounced",value:function(e,t){var n=this;if("horizontal-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t);else if("vertical-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid)new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:t.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)})),options:n.dataConfig.options},n.pubSub,!0)})).then((function(r){for(var i=(0,d.dictValues)(r)[0].tilesetUid,o={},a=0;a<t.length;a++){var s=n.fullTileId(i,t[a]);r[s].tilePositionId=t[a],o[t[a]]=r[s]}e(o)}));else{var r=this.dataConfig.children.map((function(e){return new i.default((function(n){e.fetchTilesDebounced(n,t)}),n.pubSub,!0)}));i.default.all(r).then((function(r){if("divided"===n.dataConfig.type){var i=n.makeDivided(r,t);e(i)}else console.warn("Unimplemented dataConfig type. Returning first data source.",n.dataConfig),e(r[0])}))}}},{key:"divideData",value:function(e,t){for(var n=new Float32Array(e.length),r=0;r<n.length;r++)0===t[r]?n[r]=NaN:n[r]=e[r]/t[r];return n}},{key:"horizontalSlice",value:function(){return null}},{key:"extractDataSlice",value:function(e,t,n,r){if(!r)return e.slice(t[1]*n,t[1]*(n+1));for(var i=new Array(t[1]),o=n;o<e.length;o+=t[0])i[Math.floor(o/t[0])]=e[o];return i}},{key:"fetchHorizontalSection",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[],s=[],l=!0,u=!1,p=void 0;try{for(var v,g=(0,r.default)(t);!(l=(v=g.next()).done);l=!0){var y=v.value,b=y.split("."),_=+b[0],T=+b[1],S=(0,h.scaleLinear)().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]),k=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){var w=this.dataConfig.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));k=m.tileProxy.calculateTilesFromResolution(w[_],S,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0])}else k=m.tileProxy.calculateTiles(_,S,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);var x=[T,k[0]].sort((function(e,t){return e-t}));x[0]===T?s.push(!1):s.push(!0);var E=_+"."+String(x[0])+"."+String(x[1]);a.push(E)}}catch(e){u=!0,p=e}finally{try{!l&&g.return&&g.return()}finally{if(u)throw p}}var C=new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:a.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)}))},n.pubSub,!0)}));C.then((function(r){for(var i=(0,d.dictValues)(r)[0].tilesetUid,o={},l=0;l<a.length;l++){var u=a[l].split("."),c=+u[0],h=+u[1],p=+u[2],v=m.tileProxy.calculateTileAndPosInTile(n.dataConfig.tilesetInfo,n.dataConfig.tilesetInfo.max_width,n.dataConfig.tilesetInfo.min_pos[1],c,+n.dataConfig.slicePos)[1],g=r[n.fullTileId(i,a[l])],y=null;if(h===p){y=n.extractDataSlice(g.dense,[256,256],v);for(var b=n.extractDataSlice(g.dense,[256,256],v,1),_=0;_<y.length;_++)y[_]+=b[_]}else y=s[l]?n.extractDataSlice(g.dense,[256,256],v,1):n.extractDataSlice(g.dense,[256,256],v);var T={min_value:Math.min.apply(null,y),max_value:Math.max.apply(null,y),denseDataExtrema:new f.default(y),minNonZero:(0,d.minNonZero)(y),maxNonZero:(0,d.maxNonZero)(y),dense:y,dtype:g.dtype,server:g.server,tilePos:s[l]?[p]:[h],tilePositionId:t[l],tilesetUid:i,zoomLevel:g.zoomLevel};o[t[l]]=T}e(o)}))}},{key:"makeDivided",value:function(e,t){e.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);for(var n={},r=0;r<t.length;r++){var i=e[0][t[r]].zoomLevel,o=e[0][t[r]].tilePos,a={zoomLevel:i,tilePos:o,tilePositionId:t[r]};if(e[0][t[r]].dense&&e[1][t[r]].dense){var s=this.divideData(e[0][t[r]].dense,e[1][t[r]].dense);a={dense:s,denseDataExtrema:2===o.length?new p.default(s):new f.default(s),minNonZero:(0,d.minNonZero)(s),maxNonZero:(0,d.maxNonZero)(s),zoomLevel:i,tilePos:o,tilePositionId:t[r]}}n[t[r]]=a}return n}}]),e}();t.default=g},function(e,t,n){e.exports=n(615)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(62),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default((function(e,n){return function r(i,a){try{var s=t[i](a),l=s.value}catch(e){return void n(e)}if(!s.done)return o.default.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(l)}("next")}))}}},function(e,t,n){e.exports={default:n(249),__esModule:!0}},function(e,t,n){n(250),e.exports=n(12).Math.log2},function(e,t,n){var r=n(16);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){e.exports={default:n(252),__esModule:!0}},function(e,t,n){n(253),e.exports=n(12).Number.isSafeInteger},function(e,t,n){var r=n(16),i=n(178),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTile=t.drawTile=void 0;var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=c(n(135)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileY,o=n.tileWidth;e.drawnAtScale=this._xScale.copy();var a=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),s=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=a,e.text.scale.y=s;var l=this._xScale(o)-this._xScale(0);if(e.textGraphics.scale.x=l/256,e.textGraphics.scale.y=l/256,t.clear(),t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){var u=this._refXScale(i+o)-this._refXScale(i),c=this._refYScale(r+o)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(i)+u/2,e.textGraphics.position.y=this._refYScale(r)+c/2,t.drawRect(this._refXScale(i),this._refYScale(r),u,c)}else{var h=this._refXScale(r+o)-this._refXScale(r),d=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=this._refXScale(r)+h/2,e.textGraphics.position.y=this._refYScale(i)+d/2,t.drawRect(this._refXScale(r),this._refYScale(i),h,d)}}}function d(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.mirrored?e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String([e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}t.drawTile=h,t.initTile=d;var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){d.bind(this)(e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){h.bind(this)(e)}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),t}(l.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(25)),i=m(n(18)),o=m(n(38)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(14)),h=m(n(7)),d=n(28),f=m(n(79)),p=n(24);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.onMouseMoveZoom,o=e.isValueScaleLocked,l=e.getLockGroupExtrema;return r.onMouseMoveZoom=i,r.isValueScaleLocked=o,r.getLockGroupExtrema=l,r.onMouseMoveZoom&&r.pubSubs.push(r.pubSub.subscribe("app.mouseMove",r.mouseMoveHandler.bind(r))),r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}},{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"relevantScale",value:function(){return null}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){var e=this;if(this.tilesetInfo)if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e})),n=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(n)}else{var r=p.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(r)}}},{key:"getTilePosAndDimensions",value:function(e,t,n){var r=t[0],i=t[0];if(this.tilesetInfo.resolutions){var o=n||1024,a=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],s=a*o,l=s;return{tileX:a*o*t[0],tileY:a*o*t[1],tileWidth:s,tileHeight:l}}var u=this.tilesetInfo.max_width,c=this.tilesetInfo.max_width,h=this.tilesetInfo.min_pos[0],d=this.tilesetInfo.min_pos[1],f=u/Math.pow(2,e),p=c/Math.pow(2,e);return{tileX:h+r*f,tileY:d+i*p,tileWidth:f,tileHeight:p}}},{key:"updateTile",value:function(e){}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!1)}},{key:"getIndicesOfVisibleDataInTile",value:function(e){var t=this._xScale.range();if(!this.tilesetInfo)return[null,null];var n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,i=n.tileWidth,o=(0,d.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+i]);return[Math.max(0,Math.round(o.invert(this._xScale.invert(t[0])))),Math.min(e.tileData.dense.length,Math.round(o.invert(this._xScale.invert(t[1]))))]}},{key:"minVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)})),a=Math.min.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMin?this.valueScaleMin:a}},{key:"maxVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)})),a=Math.max.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMax?this.valueScaleMax:a}},{key:"getAggregatedVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"max",n="min"===t?Math.min:Math.max,o="min"===t?1/0:-1/0,a=this.visibleAndFetchedIds();0===a.length&&(a=(0,i.default)(this.fetchedTiles));var s=this._xScale.range();return a.map((function(t){return e.fetchedTiles[t]})).map((function(n){if(!n.tileData.tilePos)return"min"===t?e.minVisibleValue():e.maxVisibleValue();var r=e.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,e.tilesetInfo.bins_per_dimension||e.tilesetInfo.tile_size),i=r.tileX,o=r.tileWidth,a=(0,d.scaleLinear)().domain([0,e.tilesetInfo.tile_size||e.tilesetInfo.bins_per_dimension]).range([i,i+o]),l=Math.max(0,Math.round(a.invert(e._xScale.invert(s[0])))),u=Math.min(n.tileData.dense.length,Math.round(a.invert(e._xScale.invert(s[1]))));return n.tileData.dense.slice(l,u)})).reduce((function(e,t){return n.apply(void 0,[e].concat((0,r.default)(t)))}),o)}},{key:"getDataAtPos",value:function(e){var t=void 0;if(!this.tilesetInfo)return t;var n=this.calculateZoomLevel(),r=p.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r,o=this.tileToLocalId([n,Math.floor(i)]),a=this.fetchedTiles[o];if(!a)return t;var s=this.tilesetInfo.tile_size*(i-Math.floor(i));return a.tileData.dense?a.tileData.dense[Math.floor(s)]:null}},{key:"mouseMoveHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y;this.isWithin(t,n)&&(this.mouseX=t,this.mouseY=n,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){}},{key:"zoomed",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this)).call.apply(e,[this].concat(r)),this.mouseMoveZoomHandler()}}]),t}(f.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(17)),i=c(n(25)),o=c(n(18)),a=c(n(38)),s=c(n(3)),l=c(n(4)),u=c(n(26));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){var n=this,r=t.tracks,i=t.createTrackObject;(0,s.default)(this,e),this.childTracks=r.map(i),this.createdTracks={},this.uid=u.default.nice(),this.childTracks.forEach((function(e,t){n.createdTracks[r[t].uid]=e}));for(var o=0;o<this.childTracks.length;o++)this.childTracks[o]||console.error("Empty child track in CombinedTrack:",this)}return(0,l.default)(e,[{key:"updateContents",value:function(e,t){var n=this,r=[],s=new a.default;e.forEach((function(e){if(s.add(e.uid),e.uid in n.createdTracks)r.push(n.createdTracks[e.uid]);else{var i=t(e);i.setPosition(n.position),i.setDimensions(n.dimensions),r.push(i),i.zoomed(n._xScale,n._yScale),n.createdTracks[e.uid]=i}})),this.childTracks=r;var l=new a.default((0,o.default)(this.createdTracks)),u=new a.default([].concat((0,i.default)(l)).filter((function(e){return!s.has(e)})));return[].concat((0,i.default)(u)).forEach((function(e){n.createdTracks[e].remove(),delete n.createdTracks[e]})),this}},{key:"setPosition",value:function(e){this.position=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setPosition(e)}},{key:"setDimensions",value:function(e){this.dimensions=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setDimensions(e)}},{key:"zoomed",value:function(e,t,n,r,i,o,a){this._xScale=e,this._yScale=t;for(var s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(e,t,n,r,i,o,a)}},{key:"draw",value:function(){}},{key:"refScalesChanged",value:function(e,t){for(var n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(e,t)}},{key:"remove",value:function(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].remove()}},{key:"exportSVG",value:function(){var e=document.createElement("g"),t=!0,n=!1,i=void 0;try{for(var o,a=(0,r.default)(this.childTracks);!(t=(o=a.next()).done);t=!0){var s=o.value;s.exportSVG&&e.appendChild(s.exportSVG()[0])}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return[e,e]}},{key:"rerender",value:function(e){}},{key:"minValue",value:function(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.minValue})).map((function(e){return e.minValue()})).filter((function(e){return e}));return Math.min.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.minValue&&u.minValue(e)}}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"maxValue",value:function(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.maxValue})).map((function(e){return e.maxValue()})).filter((function(e){return e}));return Math.max.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.maxValue&&u.maxValue(e)}}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}},{key:"stopHover",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=(0,r.default)(this.childTracks);!(e=(i=o.next()).done);e=!0){var a=i.value;a.stopHover&&a.stopHover()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"getMouseOverHtml",value:function(e,t){var n="",i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.getMouseOverHtml){var c=u.getMouseOverHtml(e,t);c&&c.length&&(n+=c,n+="<br/>")}}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n}}]),e}();t.default=h},function(e,t,n){"use strict";(function(e,r){var i=n(258),o=n(618);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s=e.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,u=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,n=i.log2(t);l[n].push(e)}}function h(e){e=i.nextPow2(e);var t=i.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(h(e),0,e)}function f(e){return new Uint16Array(h(2*e),0,e)}function p(e){return new Uint32Array(h(4*e),0,e)}function m(e){return new Int8Array(h(e),0,e)}function v(e){return new Int16Array(h(2*e),0,e)}function g(e){return new Int32Array(h(4*e),0,e)}function y(e){return new Float32Array(h(4*e),0,e)}function b(e){return new Float64Array(h(8*e),0,e)}function _(e){return a?new Uint8ClampedArray(h(e),0,e):d(e)}function T(e){return new DataView(h(e),0,e)}function S(e){e=i.nextPow2(e);var t=i.log2(e),n=u[t];return n.length>0?n.pop():new r(e)}t.free=function(e){if(r.isBuffer(e))u[i.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|i.log2(t);l[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){c(e.buffer)},t.freeArrayBuffer=c,t.freeBuffer=function(e){u[i.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return h(e);switch(t){case"uint8":return d(e);case"uint16":return f(e);case"uint32":return p(e);case"int8":return m(e);case"int16":return v(e);case"int32":return g(e);case"float":case"float32":return y(e);case"double":case"float64":return b(e);case"uint8_clamped":return _(e);case"buffer":return S(e);case"data":case"dataview":return T(e);default:return null}return null},t.mallocArrayBuffer=h,t.mallocUint8=d,t.mallocUint16=f,t.mallocUint32=p,t.mallocInt8=m,t.mallocInt16=v,t.mallocInt32=g,t.mallocFloat32=t.mallocFloat=y,t.mallocFloat64=t.mallocDouble=b,t.mallocUint8Clamped=_,t.mallocDataView=T,t.mallocBuffer=S,t.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,u[e].length=0}}).call(this,n(27),n(113).Buffer)},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(37)),i=g(n(30)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),h=g(n(7)),d=n(28),f=n(157),p=g(n(116)),m=n(11),v=n(10);function g(e){return e&&e.__esModule?e:{default:e}}var y=(0,v.colorToHex)("#FFFFFF"),b=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));return o.zeroLine=new m.GLOBALS.PIXI.Graphics,o.pMain.addChild(o.zeroLine),o.valueScaleTransform=f.zoomIdentity,o.options&&o.options.colorRange&&(o.options.colorRangeGradient?o.setColorGradient(o.options.colorRange):o.setColorScale(o.options.colorRange)),o.initialized=!0,o}return(0,h.default)(t,e),(0,l.default)(t,[{key:"setColorScale",value:function(e){e&&(this.colorScale=(0,v.colorDomainToRgbaArray)(e),this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))})))}},{key:"setColorGradient",value:function(e){if(e){var t=e.length-1;this.colorGradientColors="bottom"===this.options.align?e.slice().reverse().map((function(e,n){return{from:n/t,color:e}})):e.map((function(e,n){return{from:n/t,color:e}}))}}},{key:"initTile",value:function(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}},{key:"updateTile",value:function(e){e.valueScale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||this.renderTile(e)}},{key:"renderTile",value:function(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"renderTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics;e.svgData=void 0;var n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0),u=(0,o.default)(l,2),c=u[0],h=u[1];c.clamp(!0),this.valueScale=c;var f=c.copy();if(f.range([254,0]).clamp(!0),t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var p=(0,v.colorToHex)(this.options.lineStrokeColor||"blue"),g=(0,d.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+a]);t.lineStyle(0,p,1);var b=this.options.barFillColor||"grey",_=(0,v.colorToHex)(b),T="barOpacity"in this.options?this.options.barOpacity:1;t.beginFill(_,T),e.drawnAtScale=this._xScale.copy();var S="top"===this.options.align,k=void 0,w=void 0,x=void 0,E=void 0,C=void 0,O=void 0;if(this.colorGradientColors){(C=new m.GLOBALS.PIXI.Graphics).beginFill(y,1);var A=(0,v.gradient)(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);(O=new m.GLOBALS.PIXI.Sprite(m.GLOBALS.PIXI.Texture.fromCanvas(A,m.GLOBALS.PIXI.SCALE_MODES.NEAREST))).x=this._xScale(r),O.width=this._xScale(r+a)-O.x}for(var M=0;M<s.length;M++)if(k=this._xScale(g(M)),x=this.valueScale(s[M]+h),w=this._xScale(g(M+1))-k,E=this.dimensions[1]-x,S&&(x=0),!((0,i.default)(E)||E<0||x<0)){if(this.addSVGInfo(e,k,x,w,E,b),g(M)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){var P=Math.round(f(s[M]+h)),I=this.colorScale[P],L=m.GLOBALS.PIXI.utils.rgb2hex(I);t.beginFill(L,T)}(C||t).drawRect(k,x,w,E)}this.colorGradientColors&&(O.mask=C,t.removeChildren(),t.addChild(O,C))}}}}},{key:"rerender",value:function(e,n){e&&e.colorRange&&(e.colorRangeGradient?this.setColorGradient(e.colorRange):this.setColorScale(e.colorRange)),(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n)}},{key:"drawZeroLine",value:function(){this.zeroLine.clear();var e=(0,v.colorToHex)(this.options.barFillColor||"grey"),t=+this.options.barOpacity||1,n=this.options.zeroLineColor?(0,v.colorToHex)(this.options.zeroLineColor):e,r=(0,i.default)(+this.options.zeroLineOpacity)?t:+this.options.zeroLineOpacity;this.zeroLine.beginFill(n,r),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}},{key:"drawZeroLineSvg",value:function(e){var t=document.createElement("rect");t.setAttribute("id","zero-line"),t.setAttribute("x",0),t.setAttribute("y",this.dimensions[1]-1),t.setAttribute("height",1),t.setAttribute("width",this.dimensions[0]),t.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),t.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),e.appendChild(t)}},{key:"getXScaleAndOffset",value:function(e){var t=e.domain(),n=this._xScale.domain(),r=(t[1]-t[0])/(n[1]-n[0]);return[r,-this._xScale.domain().map(e)[0]*r]}},{key:"draw",value:function(){var e=this;this.initialized&&((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),(0,r.default)(this.fetchedTiles).forEach((function(t){var n=e.getXScaleAndOffset(t.drawnAtScale),r=(0,o.default)(n,2),i=r[0],a=r[1];t.graphics.scale.x=i,t.graphics.position.x=a})))}},{key:"zoomed",value:function(e,n){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this).call(this,e,n)}},{key:"movedY",value:function(e){}},{key:"zoomedY",value:function(e,t){}},{key:"addSVGInfo",value:function(e,t,n,r,i,o){e.svgData?(e.svgData.barXValues.push(t),e.svgData.barYValues.push(n),e.svgData.barWidths.push(r),e.svgData.barHeights.push(i),e.svgData.barColors.push(o)):e.svgData={barXValues:[t],barYValues:[n],barWidths:[r],barHeights:[i],barColors:[o]}}},{key:"exportSVG",value:function(){var e=null,n=null,r=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"superSVG",this).call(this),i=(0,o.default)(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var s=document.createElement("g");e.appendChild(s),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.options.zeroLine&&this.drawZeroLineSvg(s),this.visibleAndFetchedTiles().filter((function(e){return e.svgData&&e.svgData.barXValues})).forEach((function(e){for(var t=e.svgData,n=0;n<t.barXValues.length;n++){var r=document.createElement("rect");r.setAttribute("fill",t.barColors[n]),r.setAttribute("stroke",t.barColors[n]),r.setAttribute("x",t.barXValues[n]),r.setAttribute("y",t.barYValues[n]),r.setAttribute("height",t.barHeights[n]),r.setAttribute("width",t.barWidths[n]),e.barBorders&&(r.setAttribute("stroke-width","0.1"),r.setAttribute("stroke","black")),s.appendChild(r)}}));var l=document.createElement("g");if(l.setAttribute("id","axis"),n.appendChild(l),l.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var u=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);l.appendChild(u)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var h=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);l.appendChild(h)}return[n,e]}}]),t}(p.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(19)),i=b(n(37)),o=b(n(17)),a=b(n(35)),s=b(n(5)),l=b(n(3)),u=b(n(4)),c=b(n(6)),h=b(n(14)),d=b(n(7)),f=b(n(180)),p=b(n(355)),m=n(11),v=b(n(115)),g=n(24),y=n(10);function b(e){return e&&e.__esModule?e:{default:e}}var _="Arial",T="outside",S=(0,y.colorToHex)("#ffffff"),k="blue",w="red",x=function(e,t,n){"filler"!==n.type&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:n})},E=function(e,t){var n=e.concat(t),r=n.map((function(e){return[e.xStart,1,e.xEnd,1]}));(0,f.default)(r,(function(e,t){var r=null,i=null;if("filler"===n[e].type?r=n[e]:i=n[e],"filler"===n[t].type){if(r)return;r=n[t]}else{if(!r)return;i=n[t]}r.xStart>=i.xStart&&r.xEnd<=i.xEnd&&(r.hide=!0)}))};function C(e,t,n,r,i,o,a,s,l){var u=s-l/2;e.forEach((function(e){var r=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(r),r.beginFill(o,.1),r.lineStyle(0,o);var a=[i(e.xStart)-0,u,i(e.xEnd)+0,u,i(e.xEnd)+0,u+l,i(e.xStart)-0,u+l,i(e.xStart)-0,u];r.interactive=!0,r.buttonMode=!0,r.mouseup=function(n){return x(n,t,e)},r.drawPolygon(a),n.allRects.push([a,e.strand,e])}))}function O(e,t,n,r,i,o,a,s,l){e.forEach((function(e){var r=e.fields,i=+e.chrOffset,u=r[12],c=r[13],h=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(h),h.beginFill(o,a),h.interactive=!0,h.buttonMode=!0,h.mouseup=function(n){return x(n,t,e)},n.allRects=n.allRects.concat(function(e,t,n,r,i,o,a,s,l,u){var c=s-l/2,h=i.split(",").map((function(e){return+e+a})),d=o.split(",").map((function(e){return+e+a})),f=e._xScale(n),p=e._xScale(r),m=p-f,v=s,g=[],y=[f,v-1,f+m,v-1,f+m,v+1,f,v+1];t.drawPolygon(y),g.push(y);for(var b=2*l,_=Math.max(e.position[0],f)+b;_<Math.min(e.position[0]+e.dimensions[0],f+m);_+=b)y="+"===u?[_,v-2.2222222222222223,_+2.2222222222222223,v,_,v+2.2222222222222223]:[_,v-2.2222222222222223,_-2.2222222222222223,v,_,v+2.2222222222222223],g.push(y),t.drawPolygon(y);for(var T=0;T<h.length;T++){var S=h[T],k=d[T],w=e._xScale(S),x=Math.max(1,e._xScale(k)-e._xScale(S)),E=f,C=p,O=e.geneRectHeight/2,A=null;"+"===u?(C=p-O,A=[Math.min(w,C),c,Math.min(w+x,C),c,Math.min(w+x,C),c+l,Math.min(w,C),c+l,Math.min(w,C),c]):(E=f+O,A=[Math.max(w,E),c,Math.max(w+x,E),c,Math.max(w+x,E),c+l,Math.max(w,E),c+l,Math.max(w,E),c]),g.push(A),t.drawPolygon(A)}return g}(t,h,e.xStart,e.xEnd,u,c,i,s,l,e.strand||e.fields[5]).map((function(t){return[t,e.strand,e]})))}))}function A(e,t,n,r,i,o,a,s,l){!function(e,t,n,r,i,o,a,s,l){var u=s-l/2;e.forEach((function(e){var r=t._xScale(e.xStart),i=t._xScale(e.xEnd),s=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(s),s.beginFill(o,a),s.interactive=!0,s.buttonMode=!0,s.mouseup=function(n){return x(n,t,e)};var l=t.geneRectHeight/2,c=[];if("+"===e.strand||"+"===e.fields[5]){var h=Math.max(r,i-l);c=[h,u,h+l,u+t.geneRectHeight/2,h,u+t.geneRectHeight]}else{var d=Math.min(i,r+l);c=[d,u,d-l,u+t.geneRectHeight/2,d,u+t.geneRectHeight]}s.drawPolygon(c),n.allRects.push([c,e.strand,e])}))}(e,t,n,0,0,o,a,s,l),O(e,t,n,0,0,o,a,s,l)}var M=function(e){function t(e,n){(0,l.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n)),i=e.animate;return r.animate=i,r.options=n,r.fontSize=+r.options.fontSize||11,r.geneLabelPos=r.options.geneLabelPosition||T,r.geneRectHeight=+r.options.geneAnnotationHeight||10,r.geneRectHeight-=2,r.geneStrandSpacing=+r.options.geneStrandSpacing||4,r.geneStrandHSpacing=r.geneStrandSpacing/2,r.geneRectHHeight=r.geneRectHeight/2,r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"initTile",value:function(e){!function(e,t,n){var r=n.flipText,i=n.fontSize,o=n.fontFamily,a=n.plusStrandColor,s=n.minusStrandColor,l=n.maxGeneEntries,u=n.maxFillerEntries,c=n.maxTexts;if(t.texts={},t.rectGraphics=new m.GLOBALS.PIXI.Graphics,t.textBgGraphics=new m.GLOBALS.PIXI.Graphics,t.textGraphics=new m.GLOBALS.PIXI.Graphics,t.rectMaskGraphics=new m.GLOBALS.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,t.tileData.sort){t.tileData.sort((function(e,t){return t.importance-e.importance}));var h=t.tileData.filter((function(e){return"filler"!==e.type})).slice(0,l),d=t.tileData.filter((function(e){return"filler"===e.type})).slice(0,u);t.tileData=h.concat(d),t.tileData.forEach((function(n,l){if("filler"!==n.type){var u=n.fields,h=u[3],d=e.geneId(u,n.type),f=n.strand||u[5];n.strand=n.strand||f;var p=a||k;if("-"===f&&(p=s||w),t.textWidths={},t.textHeights={},!(l>=c)){var v=new m.GLOBALS.PIXI.Text(h,{fontSize:String(i)+"px",fontFamily:o,fill:(0,y.colorToHex)(p)});v.interactive=!0,r&&(v.scale.x=-1),v.anchor.x=.5,v.anchor.y=1,t.texts[d]=v,t.texts[d].strand=f,t.textGraphics.addChild(v)}}})),t.initialized=!0}}(this,e,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:_,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:50,maxFillerEntries:5e3,maxTexts:20}),this.renderTile(e)}},{key:"destroyTile",value:function(e){e.rectGraphics.destroy(),e.rectMaskGraphics.destroy(),e.textGraphics.destroy(),e.textBgGraphics.destroy(),e.graphics.destroy()}},{key:"rerender",value:function(e,n){var r=this,i=(0,a.default)(e);(n||i!==this.prevOptions)&&((0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"rerender",this).call(this,e,n),this.fontSize=+this.options.fontSize||11,this.geneLabelPos=this.options.geneLabelPosition||T,this.geneRectHeight=+this.options.geneAnnotationHeight||10,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=i,this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)})))}},{key:"drawTile",value:function(){}},{key:"geneId",value:function(e,t){return String(t)+"_"+String(e[0])+"_"+String(e[1])+"_"+String(e[2])+"_"+String(e[3])}},{key:"renderTile",value:function(e){if(e.initialized){e.allRects=[],e.drawnAtScale=this._xScale.copy(),e.rectGraphics.removeChildren(),e.rectGraphics.clear(),e.textBgGraphics.clear();var t={};t["+"]=(0,y.colorToHex)(this.options.plusStrandColor||k),t["-"]=(0,y.colorToHex)(this.options.minusStrandColor||w);var n=e.tileData.filter((function(e){return"filler"===e.type&&"+"===e.strand})),r=e.tileData.filter((function(e){return"filler"===e.type&&"-"===e.strand})),a=e.tileData.filter((function(e){return"filler"!==e.type&&("+"===e.strand||"+"===e.fields[5])})),s=e.tileData.filter((function(e){return"filler"!==e.type&&("-"===e.strand||"-"===e.fields[5])}));E(a,n),E(s,r),n=n.filter((function(e){return!e.hide})),r=r.filter((function(e){return!e.hide}));var l=this.dimensions[1]/2,u=l-this.geneRectHeight/2-this.geneStrandSpacing/2,c=l+this.geneRectHeight/2+this.geneStrandSpacing/2,h=[this,e,e.rectGraphics,this._xScale,t["+"],.3,u,this.geneRectHeight],d=[this,e,e.rectGraphics,this._xScale,t["-"],.3,c,this.geneRectHeight];C.apply(void 0,[n].concat(h)),C.apply(void 0,[r].concat(d)),h[5]=.3,d[5]=.3,A.apply(void 0,[a].concat(h)),A.apply(void 0,[s].concat(d)),function(e,t){var n=y.trackUtils.getTilePosAndDimensions(e.tilesetInfo,t.tileId),r=n.tileX,i=n.tileWidth;t.rectMaskGraphics.clear();var o=Math.floor(Math.random()*Math.pow(16,6));t.rectMaskGraphics.beginFill(o,.3);var a=e._xScale(r),s=e._xScale(r+i)-e._xScale(r),l=e.dimensions[1];t.rectMaskGraphics.drawRect(a,0,s,l)}(this,e),y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]);var f=!0,p=!1,m=void 0;try{for(var v,g=(0,o.default)((0,i.default)(e.texts));!(f=(v=g.next()).done);f=!0){var b=v.value;b.style={fontSize:String(this.fontSize)+"px",FONT_FAMILY:_,fill:(0,y.colorToHex)("-"===b.strand?this.options.minusStrandColor||w:this.options.plusStrandColor||k)}}}catch(e){p=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw m}}}}},{key:"calculateZoomLevel",value:function(){var e=g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}},{key:"draw",value:function(){var e=this;(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=[];this.geneAreaHeight=this.geneRectHeight;var r=this.fontSize/2;y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]),(0,i.default)(this.fetchedTiles).filter((function(e){return e.drawnAtScale})).forEach((function(t){t.textBgGraphics.clear(),t.textBgGraphics.beginFill(void 0!==e.options.labelBackgroundColor?(0,y.colorToHex)(e.options.labelBackgroundColor):S);var i=e.parentInFetched(t);t.initialized&&t.tileData.forEach((function(o){if(t.texts&&"filler"!==o.type){var a=o.fields,s=a[3],l=e.geneId(a,o.type),u=t.texts[l];if(u){var c=+o.chrOffset,h=(+a[1]+c+(+a[2]+c))/2,d=e.dimensions[1]/2,f=(e.geneAreaHeight-e.fontSize)/2;if("+"===a[5]?d-="inside"===e.geneLabelPos?f+e.geneStrandSpacing-2:e.fontSize/2+e.geneAreaHeight-2:d+="inside"===e.geneLabelPos?e.fontSize+e.geneStrandSpacing/2+f+1:1.5*e.fontSize+e.geneAreaHeight+2,u.position.x=e._xScale(h),u.position.y=d,!t.textWidths[l]){var p=u.getBounds().width,m=u.getBounds().height;t.textHeights[l]=m,t.textWidths[l]=p}i?u.visible=!1:(u.visible=!0,e.flipText?e.allBoxes.push([u.position.x-t.textHeights[l]/2-2,d-r-1,u.position.x+t.textHeights[l]/2+2,d+r-1,s]):e.allBoxes.push([u.position.x-t.textWidths[l]/2-2,d-r-1,u.position.x+t.textWidths[l]/2+2,d+r-1,s]),e.allTexts.push({importance:+a[4],text:u,caption:s,strand:a[5]}),n.push(t.textBgGraphics))}}}))})),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,n)}},{key:"renderTextBg",value:function(e,t,n){t.forEach((function(t,i){if(t.text.visible&&e[i]&&n[i]){var o=(0,r.default)(e[i],4),a=o[0],s=o[1],l=o[2]-a,u=o[3]-s;n[i].drawRect(a-l/2,s-u/2,l,u)}}))}},{key:"hideOverlaps",value:function(e,t){(0,f.default)(e,(function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1}))}},{key:"setPosition",value:function(e){(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,r.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"setDimensions",value:function(e){var n=this;(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setDimensions",this).call(this,e),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach((function(e){n.renderTile(e)}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=[e,t],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(this.visibleAndFetchedTiles());!(r=(s=l.next()).done);r=!0)for(var u=s.value,c=0;c<u.allRects.length;c++)if("filler"!==u.allRects[c][2].type){for(var h=u.allRects[c][0].slice(0),d=[];h.length;){var f=h.splice(0,2);f[0]=f[0]*u.rectGraphics.scale.x+u.rectGraphics.position.x,f[1]=f[1]*u.rectGraphics.scale.y+u.rectGraphics.position.y,d.push(f)}if(-1===(0,p.default)(d,n)){var m=u.allRects[c][2];return"\n            <div>\n              <b>"+String(m.fields[3])+"</b><br>\n              <b>Position:</b> "+String(m.fields[0])+":"+String(m.fields[1])+"-"+String(m.fields[2])+"<br>\n              <b>Strand:</b> "+String(m.fields[5])+"\n            </div>\n          "}}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return""}},{key:"exportSVG",value:function(){var e=this,n=null,i=null;if((0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this)){var o=(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);i=a[0],n=a[1]}else n=i=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.allRects})).forEach((function(t){var n=document.createElement("g");n.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+",\n          "+String(t.rectGraphics.position.y)+")\n          scale("+String(t.rectGraphics.scale.x)+",\n          "+String(t.rectGraphics.scale.y)+")"),t.allRects.forEach((function(t){for(var r=document.createElement("path"),i=t[0],o="M "+String(i[0])+" "+String(i[1]),a=2;a<i.length;a+=2)o+=" L "+String(i[a])+" "+String(i[a+1]);r.setAttribute("d",o),"+"===t[1]?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.setAttribute("opacity","0.3"),n.appendChild(r)})),l.appendChild(n)})),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(t){var n=document.createElement("g"),r=document.createElement("text");r.setAttribute("text-anchor","middle"),r.setAttribute("font-family",_),r.setAttribute("font-size",String(e.fontSize)+"px"),r.setAttribute("dy","-.2em"),n.setAttribute("transform","scale("+String(t.text.scale.x)+",1)"),"+"===t.strand?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.innerHTML=t.text.text,n.appendChild(r),n.setAttribute("transform","translate("+String(t.text.x)+","+String(t.text.y)+")scale("+String(t.text.scale.x)+",1)"),l.appendChild(n)})),[i,i]}}]),t}(v.default);t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n(81).Mixin)((function(e){return function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.animate;return o.highlighted=!1,o.animate=s,o.MOUSEOVER_RADIUS=4,o.pubSub=e.pubSub,o.pubSubs.push(o.pubSub.subscribe("app.mouseMove",o.mouseMoveHandler.bind(o))),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}},{key:"respondsToPosition",value:function(){return this.highlighted}}]),t}(e)}));t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),h=p(n(40)),d=p(n(261)),f=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.VerticalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawVerticalRule",value:function(e){var t=(0,f.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,f.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[1];)e.moveTo(this._xScale(this.xPosition),n),e.lineTo(this._xScale(this.xPosition),n+this.dashLength),n+=this.dashLength+this.dashGap}},{key:"isMouseOverVerticalLine",value:function(e){return Math.abs(e.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}}]),t}(e)})),v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.xPosition=e.xPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawVerticalRule(e),this.animate()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","vertical-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]),l.appendChild(c),[n,e]}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&this.isMouseOverVerticalLine(e),this.draw()}}]),t}((0,c.mix)(h.default).with(d.default,m));t.default=v},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=d(n(1)),c=d(n(42)),h=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.clickHandlerBound=n.clickHandler.bind(n),n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}},{key:"componentDidUpdate",value:function(){this._renderLayer()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),c.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}},{key:"_renderLayer",value:function(){c.default.render(this.props.children,this.popup)}},{key:"clickHandler",value:function(e){this.popup.contains(e.target)||this.props.onMenuClosed&&this.props.onMenuClosed(e)}},{key:"contextMenuHandler",value:function(e){e.altKey||(e.preventDefault(),this.clickHandler(e))}},{key:"resizeHandler",value:function(){this.props.onMenuClosed(null)}},{key:"render",value:function(){return u.default.createElement("div",null)}}]),t}(u.default.Component);f.defaultProps={onMenuClosed:h.default},f.propTypes={children:l.default.node.isRequired,onMenuClosed:l.default.func},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(38)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(7)),u=d(n(2)),c=d(n(1)),h=d(n(666));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.moveable=!0,n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{ref:function(t){e.el=t},className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:function(){e.handleMouseLeave()},style:{height:this.props.height,width:this.props.width}},c.default.createElement(h.default,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new r.default,sizeChanged:function(t){return e.props.handleResizeTrack(e.props.uid,t.width,t.height)},style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}}]),t}(d(n(668)).default);f.propTypes={className:u.default.string,uid:u.default.string,item:u.default.object,height:u.default.number,width:u.default.number},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgArrowheadDomainsIcon=t.svgVertical1DTilesIcon=t.svg1DTilesIcon=t.svgGeneAnnotationsIcon=t.svgVertical1DAxisIcon=t.svg1DAxisIcon=t.svg2DHeatmapIcon=t.svg2DTilesIcon=t.svgHorizontalLineIcon=t.svgHorizontal1dHeatmap=t.svgGeoMapIcon=t.all=t.FOLDER_OPEN_O=t.FOLDER_O=t.CHEVRON_DOWN=t.CHEVRON_RIGHT=t.FILE_O=t.SQUARE_O=t.CHECK_SQUARE_O=t.SELECT=t.TRACK_LINE=t.CONTENT_COPY=t.PLUS=t.PLAY=t.MOVE=t.MINUS=t.ENLARGE=t.CROSS=t.COG=void 0,t.SearchIcon=function(e){var t=e.theStyle;return i.default.createElement("svg",{viewBox:"0 0 12 13",xmlns:"http://www.w3.org/2000/svg",className:(0,r.default)(t,s)},i.default.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},i.default.createElement("path",{d:"M11.29 11.71l-4-4"}),i.default.createElement("circle",{cx:"5",cy:"5",r:"4"})))};var r=a(n(29)),i=a(n(1)),o=n(0);function a(e){return e&&e.__esModule?e:{default:e}}n(267);var s={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},l=t.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},u=t.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},c=t.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},h=t.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},d=t.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},f=t.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},p=t.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},m=t.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},v=(t.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"},t.SELECT={id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]}),g=t.CHECK_SQUARE_O={id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},y=t.SQUARE_O={id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},b=t.FILE_O={id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},_=t.CHEVRON_RIGHT={id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},T=t.CHEVRON_DOWN={id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]},S=t.FOLDER_O={id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},k=t.FOLDER_OPEN_O={id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]},w=(t.all=[l,u,c,h,d,f,p,m,v,g,y,b,S,k,_,T],new DOMParser),x=(t.svgGeoMapIcon=w.parseFromString('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>',"text/xml").documentElement,t.svgHorizontal1dHeatmap=w.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 20 20">\n  <rect x="0" y="3" width="4" height="14" fill="#637993"/>\n  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>\n  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>\n  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>\n  <rect x="14" y="3" width="2" height="14" fill="#000000"/>\n  <rect x="16" y="3" width="4" height="14" fill="#637993"/>\n</svg>\n',"text/xml").documentElement,t.svgHorizontalLineIcon=w.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n',"text/xml").documentElement,t.svg2DTilesIcon=w.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,t.svg2DHeatmapIcon=w.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n'),E=(t.svg1DAxisIcon=w.parseFromString(x,"text/xml").documentElement,t.svgVertical1DAxisIcon=(0,o.select)(w.parseFromString(x,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svgGeneAnnotationsIcon=w.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n');t.svg1DTilesIcon=w.parseFromString(E,"text/xml").documentElement,t.svgVertical1DTilesIcon=(0,o.select)(w.parseFromString(E,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svgArrowheadDomainsIcon=w.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n',"text/xml").documentElement},function(e,t,n){e.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},function(e,t,n){"use strict";var r=n(691),i=n(269),o=n(117),a=n(398),s=n(693);function l(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return l.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,c=u.call(this,t,n);return c&&(i=c.schema,t=c.root,s=c.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function u(e,t){var n=r.parse(t),i=y(n),o=g(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=_(i),l=this._refs[s];if("string"==typeof l)return c.call(this,e,l,n);if(l instanceof a)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[s])instanceof a))return;if(l.validate||this._compile(l),s==_(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=g(this._getId(e.schema))}return d.call(this,n,o,e.schema,e)}function c(e,t,n){var r=u.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=T(o,a)),d.call(this,n,o,i,e)}}e.exports=l,l.normalizeId=_,l.fullPath=g,l.url=T,l.ids=function(e){var t=_(this._getId(e)),n={"":t},a={"":g(t,!1)},l={},u=this;return s(e,{allKeys:!0},(function(e,t,s,c,h,d,f){if(""!==t){var p=u._getId(e),m=n[c],v=a[c]+"/"+h;if(void 0!==f&&(v+="/"+("number"==typeof f?f:o.escapeFragment(f))),"string"==typeof p){p=m=_(m?r.resolve(m,p):p);var g=u._refs[p];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!i(e,g.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=_(v))if("#"==p[0]){if(l[p]&&!i(e,l[p]))throw new Error('id "'+p+'" resolves to more than one schema');l[p]=e}else u._refs[p]=v}n[t]=m,a[t]=v}})),l},l.inlineRef=p,l.schema=u;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var l;if(!h[s]&&((l=this._getId(n))&&(t=T(t,l)),n.$ref)){var c=T(t,n.$ref),d=u.call(this,r,c);d&&(n=d.schema,r=d.root,t=d.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var f=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?m(e):t?v(e)<=t:void 0)}function m(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&!m(t))return!1}else for(var r in e){if("$ref"==r)return!1;if("object"==typeof(t=e[r])&&!m(t))return!1}return!0}function v(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&(n+=v(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(f[i])n++;else if("object"==typeof(t=e[i])&&(n+=v(t)+1),n==1/0)return 1/0}return n}function g(e,t){return!1!==t&&(e=_(e)),y(r.parse(e))}function y(e){return r.serialize(e).split("#")[0]+"#"}var b=/#\/?$/;function _(e){return e?e.replace(b,""):""}function T(e,t){return t=_(t),r.resolve(e,t)}},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,l,u=r(t),c=r(n);if(u&&c){if((s=t.length)!=n.length)return!1;for(a=s;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=c)return!1;var h=t instanceof Date,d=n instanceof Date;if(h!=d)return!1;if(h&&d)return t.getTime()==n.getTime();var f=t instanceof RegExp,p=n instanceof RegExp;if(f!=p)return!1;if(f&&p)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(a=s;0!=a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!=a--;)if(!e(t[l=m[a]],n[l]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";var r=n(268);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}}},function(e,t,n){var r=n(407),i=n(411);e.exports=function(e,t){return e&&r(e,i(t))}},function(e,t,n){var r=n(739),i=n(275),o=n(276),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(406),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(173)(e))},function(e,t,n){var r=n(97),i=n(45);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(410)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(99)(n(41),"Map");e.exports=r},function(e,t,n){var r=n(758),i=n(765),o=n(767),a=n(768),s=n(769);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(283),i=n(421),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(193),i=n(145);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(31),i=n(194),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(426);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(418);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=a(n(1)),i=a(n(13)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(824));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,a=e.size,s=e.renderers,l=e.borderRadius,u=e.boxShadow,c=(0,i.default)({default:{grid:{borderRadius:l,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,a,s.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},function(e,t,n){var r=n(291),i=n(294);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(143),i=n(433),o=n(293);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(833),i=n(434)(r);e.exports=i},function(e,t,n){var r=n(120),i=n(98),o=n(142),a=n(45);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(448),o=Object.keys,a=o?function(e){return o(e)}:n(946),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){(e.exports=n(452)).version=n(1040).version},function(e){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(e){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){var r=n(123),i=n(953),o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",i=0;i<e.length;i++){var o=e[i];"root"===o.type?n+=s(o.children,t):r.isTag(o)?n+=l(o,t):o.type===r.Directive?n+=u(o):o.type===r.Comment?n+=d(o):o.type===r.CDATA?n+=h(o):n+=c(o,t)}return n};function l(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var o in e)r&&(r+=" "),r+=o,(null!==(n=e[o])&&""!==n||t.xmlMode)&&(r+='="'+(t.decodeEntities?i.encodeXML(n):n)+'"');return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=s(e.children,t)),a[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function u(e){return"<"+e.data+">"}function c(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in o||(n=i.encodeXML(n)),n}function h(e){return"<![CDATA["+e.children[0].data+"]]>"}function d(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,n){"use strict";var r=n(200).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(64).DOCUMENT_MODE;t.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};var i=function(e){return{nodeName:"#text",value:e,parentNode:null}},o=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},a=t.insertBefore=function(e,t,n){var r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,n,r){for(var i=null,a=0;a<e.childNodes.length;a++)if("#documentType"===e.childNodes[a].nodeName){i=e.childNodes[a];break}i?(i.name=t,i.publicId=n,i.systemId=r):o(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){var t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){var n=e.childNodes[e.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=t)}o(e,i(t))},t.insertTextBefore=function(e,t,n){var r=e.childNodes[e.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=t:a(e,i(t),n)},t.adoptAttributes=function(e,t){for(var n=[],r=0;r<e.attrs.length;r++)n.push(e.attrs[r].name);for(var i=0;i<t.length;i++)-1===n.indexOf(t[i].name)&&e.attrs.push(t[i])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName}},function(e,t,n){"use strict";e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),Object.create(null))}},function(e,t,n){"use strict";var r=n(64).DOCUMENT_MODE,i=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],o=i.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),a=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],s=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],l=s.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function u(e){var t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function c(e,t){for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.getDocumentMode=function(e,t,n){if("html"!==e)return r.QUIRKS;if(n&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===n.toLowerCase())return r.QUIRKS;if(null!==t){if(t=t.toLowerCase(),a.indexOf(t)>-1)return r.QUIRKS;var u=null===n?o:i;if(c(t,u))return r.QUIRKS;if(c(t,u=null===n?s:l))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},t.serializeContent=function(e,t,n){var r="!DOCTYPE ";return e&&(r+=e),null!==t?r+=" PUBLIC "+u(t):null!==n&&(r+=" SYSTEM"),null!==n&&(r+=" "+u(n)),r}},function(e,t,n){(t=e.exports=n(466)).Stream=t,t.Readable=t,t.Writable=n(305),t.Duplex=n(102),t.Transform=n(469),t.PassThrough=n(980)},function(e,t,n){"use strict";(function(t,r,i){var o=n(203);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=g;var u=n(151);u.inherits=n(58);var c={deprecate:n(979)},h=n(467),d=n(200).Buffer,f=i.Uint8Array||function(){};var p,m=n(468);function v(){}function g(e,t){s=s||n(102),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),w(e,t))}(e,n,r,t,i);else{var a=S(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?l(_,e,n,a,i):_(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(102),!(p.call(y,this)||this instanceof s))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),w(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),w(e,t)}))}function w(e,t){var n=S(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,h),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof g)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return l}(this,i,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||T(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(150),n(977).setImmediate,n(27))},function(e,t,n){var r=n(291),i=n(990),o=n(309),a=n(206),s=r((function(e,t,n){var r=1;if(n.length){var l=a(n,o(s));r|=32}return i(e,r,t,n,l)}));s.placeholder={},e.exports=s},function(e,t,n){var r=n(197),i=n(308);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(299),i=n(204).default,o=n(204).flatten,a=n(483),s=n(198),l={merge:n(46),defaults:n(482)};function u(e,t,n){if(t)"string"==typeof t&&(t=a(t,e._root,n));else{if(!e._root||!e._root.children)return"";t=e._root.children}return r(t,n)}function c(e){if(Array.isArray(e))return!0;if("object"!=typeof e)return!1;if(!e.hasOwnProperty("length"))return!1;if("number"!=typeof e.length)return!1;if(e.length<0)return!1;for(var t=0;t<e.length;){if(!(t in e))return!1;t++}return!0}t.load=function(e,r,a){var u=n(452);r=l.defaults(o(r||{}),i),void 0===a&&(a=!0);var c=s(e,r,a),h=function(e,t,n,i){return this instanceof h?(i=l.defaults(i||{},r),u.call(this,e,t,n||c,i)):new h(e,t,n,i)};return h.prototype=Object.create(u.prototype),h.prototype.constructor=h,h.fn=h.prototype,h.prototype._originalRoot=c,l.merge(h,t),h._root=c,h._options=r,h},t.html=function(e,t){return"[object Object]"!==Object.prototype.toString.call(e)||t||"length"in e||"type"in e||(t=e,e=void 0),u(this,e,t=l.defaults(o(t||{}),this._options,i))},t.xml=function(e){return u(this,e,l.defaults({xml:!0},this._options))},t.text=function(e){e||(e=this.root());for(var n,r="",i=e.length,o=0;o<i;o++)"text"===(n=e[o]).type?r+=n.data:n.children&&"comment"!==n.type&&"script"!==n.tagName&&"style"!==n.tagName&&(r+=t.text(n.children));return r},t.parseHTML=function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t),r=this.load(e,i,!1),n||r("script").remove(),r.root()[0].children.slice()):null},t.root=function(){return this(this._root)},t.contains=function(e,t){if(t===e)return!1;for(;t&&t!==t.parent;)if((t=t.parent)===e)return!0;return!1},t.merge=function(e,t){if(c(e)&&c(t)){for(var n=e.length+t.length,r=0;r<t.length;)e[r+e.length]=t[r],r++;return e.length=n,e}}},function(e,t,n){var r=n(101),i=r.isTag,o=r.getText,a=r.getParent,s=r.getChildren,l=r.getSiblings,u=r.hasAttrib,c=r.getName,h=r.getAttributeValue,d=n(1014),f=n(484).rules.equals,p=n(153),m=p.trueFunc,v=p.falseFunc;function g(e,t){var n={name:e,value:t};return function(e){return f(e,n)}}function y(e){return function(t){return!!a(t)&&e(t)}}var b={contains:function(e,t){return function(n){return e(n)&&o(n).indexOf(t)>=0}},icontains:function(e,t){var n=t.toLowerCase();return function(t){return e(t)&&o(t).toLowerCase().indexOf(n)>=0}},"nth-child":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;a++}return n(a)&&e(t)}},"nth-last-child":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;o++}return n(o)&&e(t)}},"nth-of-type":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=0;a<r.length;a++)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},"nth-last-of-type":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},root:function(e){return function(t){return!a(t)&&e(t)}},scope:function(e,t,n,r){return r&&0!==r.length?1===r.length?function(t){return r[0]===t&&e(t)}:function(t){return r.indexOf(t)>=0&&e(t)}:b.root(e)},checkbox:g("type","checkbox"),file:g("type","file"),password:g("type","password"),radio:g("type","radio"),reset:g("type","reset"),image:g("type","image"),submit:g("type","submit")},_={empty:function(e){return!s(e).some((function(e){return i(e)||"text"===e.type}))},"first-child":function(e){return function(e){for(var t=0;e&&t<e.length;t++)if(i(e[t]))return e[t]}(l(e))===e},"last-child":function(e){for(var t=l(e),n=t.length-1;n>=0;n--){if(t[n]===e)return!0;if(i(t[n]))break}return!1},"first-of-type":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"last-of-type":function(e){for(var t=l(e),n=t.length-1;n>=0;n--)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"only-of-type":function(e){for(var t=l(e),n=0,r=t.length;n<r;n++)if(i(t[n])){if(t[n]===e)continue;if(c(t[n])===c(e))return!1}return!0},"only-child":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])&&t[n]!==e)return!1;return!0},link:function(e){return u(e,"href")},visited:v,selected:function(e){if(u(e,"selected"))return!0;if("option"!==c(e))return!1;var t=a(e);if(!t||"select"!==c(t)||u(t,"multiple"))return!1;for(var n=s(t),r=!1,o=0;o<n.length;o++)if(i(n[o]))if(n[o]===e)r=!0;else{if(!r)return!1;if(u(n[o],"selected"))return!1}return r},disabled:function(e){return u(e,"disabled")},enabled:function(e){return!u(e,"disabled")},checked:function(e){return u(e,"checked")||_.selected(e)},required:function(e){return u(e,"required")},optional:function(e){return!u(e,"required")},parent:function(e){return!_.empty(e)},header:function(e){var t=c(e);return"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t},button:function(e){var t=c(e);return"button"===t||"input"===t&&"button"===h(e,"type")},input:function(e){var t=c(e);return"input"===t||"textarea"===t||"select"===t||"button"===t},text:function(e){var t;return"input"===c(e)&&(!(t=h(e,"type"))||"text"===t.toLowerCase())}};function T(e,t,n){if(null===n){if(e.length>1&&"scope"!==t)throw new SyntaxError("pseudo-selector :"+t+" requires an argument")}else if(1===e.length)throw new SyntaxError("pseudo-selector :"+t+" doesn't have any arguments")}var S=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;e.exports={compile:function(e,t,n,r){var i=t.name,o=t.data;if(n&&n.strict&&!S.test(i))throw SyntaxError(":"+i+" isn't part of CSS3");if("function"==typeof b[i])return T(b[i],i,o),b[i](e,o,n,r);if("function"==typeof _[i]){var a=_[i];return T(a,i,o),e===m?a:function(t){return a(t,o)&&e(t)}}throw new SyntaxError("unmatched pseudo-class :"+i)},filters:b,pseudos:_}},function(e,t,n){var r=n(53).call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;e.exports=function(e,t){if(i)return i(e,t);for(var n in t)r(t,n)&&(e[n]=t[n]);return e}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ITERATOR_SYMBOL=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.getAdapter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,m.default)(e)},t.makeOptions=function(e){var t=(0,f.get)(),n=t.attachTo,r=t.hydrateIn,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["attachTo","hydrateIn"]);y(n,r);var a=e.attachTo,s=e.hydrateIn;y(a,s);var l=s||r||n||a||void 0,u=s||r||void 0,c=(0,o.default)({},l&&{attachTo:l},u&&{hydrateIn:u});return(0,o.default)({},i,e,c)},t.isCustomComponentElement=function(e,t){if(t.isCustomComponentElement)return!!t.isCustomComponentElement(e);return!!e&&t.isValidElement(e)&&"function"==typeof e.type},t.propsOfNode=b,t.typeOfNode=function(e){return e?e.type:null},t.nodeHasType=function(e,t){if(!t||!e)return!1;var n=(0,m.default)();if(n.displayNameOfNode){return n.displayNameOfNode(e)===t}return!!e.type&&("string"==typeof e.type?e.type===t:("function"==typeof e.type?(0,u.default)(e.type)===t:e.type.name===t)||e.type.displayName===t)},t.nodeMatches=x,t.nodeEqual=E,t.containsChildrenSubArray=function(e,t,n){var r=(0,p.childrenOfNode)(t);return r.some((function(t,i){return function(e,t,n){return t.length===n.length&&t.every((function(t,r){return e(t,n[r])}))}(e,r.slice(i,i+n.length),n)}))},t.childrenToSimplifiedArray=O,t.isReactElementAlike=function(e,t){return t.isValidElement(e)||A(e)||Array.isArray(e)},t.withSetStateAllowed=function(t){var n=!1;void 0===e.document&&(n=!0,e.document={});t(),n&&(e.document=void 0,delete e.document)},t.AND=function(e){var t=e.slice().reverse();return function(e){return t.every((function(t){return t(e)}))}},t.displayNameOfNode=function(e){if(!e)return null;var t=e.type;return t?t.displayName||("function"==typeof t?(0,u.default)(t):t.name||t):null},t.sym=function(e){return"function"==typeof Symbol?Symbol.for("enzyme."+String(e)):e},t.privateSet=function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})},t.cloneElement=function(e,t,n){return e.createElement(t.type,(0,o.default)({},t.props,n))},t.spyMethod=function(e,t){var n=void 0,r=e[t],i=(0,c.default)(e,t),o=void 0;i&&(o=Object.getOwnPropertyDescriptor(e,t));return Object.defineProperty(e,t,{configurable:!0,enumerable:!o||!!o.enumerable,value:function(){return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=r.apply(this,t);return n=o,o}}()}),{restore:function(){return function(){i?o?Object.defineProperty(e,t,o):e[t]=r:delete e[t]}}(),getLastReturnValue:function(){return function(){return n}}()}},t.shallowEqual=function(e,t){if((0,s.default)(e,t))return!0;if(!e||!t||"object"!==(void 0===e?"undefined":r(e))||"object"!==(void 0===t?"undefined":r(t)))return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;n.sort(),i.sort();for(var o=0;o<n.length;o+=1)if(!(0,c.default)(t,n[o])||!(0,s.default)(e[n[o]],t[n[o]]))return!1;return!0},t.isEmptyValue=M,t.renderedDive=function e(t){if(M(t))return!0;return[].concat(t).every((function(t){if(t){var n=t.rendered;return M(n)||e(n)}return M(t)}))};var o=v(n(122)),a=v(n(172)),s=v(n(499)),l=v(n(500)),u=v(n(314)),c=v(n(59)),h=v(n(154)),d=v(n(1054)),f=n(315),p=n(156),m=v(n(103));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator;function y(e,t){if(e&&t&&e!==t)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function b(e){return(0,l.default)(e&&e.props||{}).filter((function(e){return void 0!==i(e,2)[1]})).reduce((function(e,t){var n=i(t,2),r=n[0],a=n[1];return(0,o.default)(e,g({},r,a))}),{})}function _(e,t,n,r){var i=r?x:E;if(e===t)return!0;if(!Array.isArray(e)&&!Array.isArray(t))return i(e,t,n);var o=(0,h.default)(e,1/0),a=(0,h.default)(t,1/0);if(o.length!==a.length)return!1;if(0===o.length&&0===a.length)return!0;for(var s=0;s<o.length;s+=1)if(!i(o[s],a[s],n))return!1;return!0}function T(e,t,n){return _(e,t,n,!0)}function S(e,t,n){return _(e,t,n,!1)}function k(e,t){var n=i(t,2),r=n[0],a=n[1],s=null==a?{}:g({},r,a);return(0,o.default)({},e,s)}function w(e,t,n,i){if(e===t)return!0;if(!e||!t)return!1;if(e.type!==t.type)return!1;var o=b(e),s=b(t);i&&(o=(0,l.default)(o).reduce(k,{}),s=(0,l.default)(s).reduce(k,{}));for(var u=Object.keys(o),c=0;c<u.length;c+=1){var h=u[c];if("children"===h);else{if(!(h in s))return!1;if(s[h]===o[h]);else{if(r(s[h])!==r(o[h])||"object"!==r(o[h]))return!1;if(!(0,a.default)(o[h],s[h]))return!1}}}var d="children"in o,f="children"in s;if((d||f)&&!(i?T:S)(O(o.children,i),O(s.children,i),n))return!1;if(!A(e)){var p=Object.keys(s);return n(u.length-d,p.length-f)}return!1}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default;return w(e,t,n,!0)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default;return w(e,t,n,!1)}function C(e){var t=[],n=function(e){null!==e&&!1!==e&&void 0!==e&&t.push(e)};return Array.isArray(e)?e.forEach(n):n(e),t}function O(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=C(e),r=[],i=0;i<n.length;i+=1){var o=n[i],a=r.pop();void 0===a?r.push(o):A(o)&&A(a)?r.push(a+o):(r.push(a),r.push(o))}return t?r.map((function(e){return"string"==typeof e?(0,d.default)(e):e})):r}function A(e){return"string"==typeof e||"number"==typeof e}function M(e){return null===e||!1===e}}).call(this,n(27))},function(e,t,n){"use strict";var r=n(52),i=n(53),o=n(504),a=n(506),s=n(1053),l=i.call(Function.call,o);r(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(){return(0,r.default)({},a)},t.merge=s,t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a={},s(e)};var r=o(n(122)),i=o(n(509));function o(e){return e&&e.__esModule?e:{default:e}}var a={};function s(e){e.adapter&&(0,i.default)(e.adapter),(0,r.default)(a,e)}},function(e,t,n){"use strict";n.r(t);var r=Array.prototype.slice,i=function(e){return e},o=1e-6;function a(e){return"translate("+(e+.5)+",0)"}function s(e){return"translate(0,"+(e+.5)+")"}function l(e){return function(t){return+e(t)}}function u(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function c(){return!this.__axis}function h(e,t){var n=[],h=null,d=null,f=6,p=6,m=3,v=1===e||4===e?-1:1,g=4===e||2===e?"x":"y",y=1===e||3===e?a:s;function b(r){var a=null==h?t.ticks?t.ticks.apply(t,n):t.domain():h,s=null==d?t.tickFormat?t.tickFormat.apply(t,n):i:d,b=Math.max(f,0)+m,_=t.range(),T=+_[0]+.5,S=+_[_.length-1]+.5,k=(t.bandwidth?u:l)(t.copy()),w=r.selection?r.selection():r,x=w.selectAll(".domain").data([null]),E=w.selectAll(".tick").data(a,t).order(),C=E.exit(),O=E.enter().append("g").attr("class","tick"),A=E.select("line"),M=E.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(O),A=A.merge(O.append("line").attr("stroke","currentColor").attr(g+"2",v*f)),M=M.merge(O.append("text").attr("fill","currentColor").attr(g,v*b).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),r!==w&&(x=x.transition(r),E=E.transition(r),A=A.transition(r),M=M.transition(r),C=C.transition(r).attr("opacity",o).attr("transform",(function(e){return isFinite(e=k(e))?y(e):this.getAttribute("transform")})),O.attr("opacity",o).attr("transform",(function(e){var t=this.parentNode.__axis;return y(t&&isFinite(t=t(e))?t:k(e))}))),C.remove(),x.attr("d",4===e||2==e?p?"M"+v*p+","+T+"H0.5V"+S+"H"+v*p:"M0.5,"+T+"V"+S:p?"M"+T+","+v*p+"V0.5H"+S+"V"+v*p:"M"+T+",0.5H"+S),E.attr("opacity",1).attr("transform",(function(e){return y(k(e))})),A.attr(g+"2",v*f),M.attr(g,v*b).text(s),w.filter(c).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),w.each((function(){this.__axis=k}))}return b.scale=function(e){return arguments.length?(t=e,b):t},b.ticks=function(){return n=r.call(arguments),b},b.tickArguments=function(e){return arguments.length?(n=null==e?[]:r.call(e),b):n.slice()},b.tickValues=function(e){return arguments.length?(h=null==e?null:r.call(e),b):h&&h.slice()},b.tickFormat=function(e){return arguments.length?(d=e,b):d},b.tickSize=function(e){return arguments.length?(f=p=+e,b):f},b.tickSizeInner=function(e){return arguments.length?(f=+e,b):f},b.tickSizeOuter=function(e){return arguments.length?(p=+e,b):p},b.tickPadding=function(e){return arguments.length?(m=+e,b):m},b}function d(e){return h(1,e)}function f(e){return h(2,e)}function p(e){return h(3,e)}function m(e){return h(4,e)}n.d(t,"axisTop",(function(){return d})),n.d(t,"axisRight",(function(){return f})),n.d(t,"axisBottom",(function(){return p})),n.d(t,"axisLeft",(function(){return m}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewer=t.version=t.getTrackObjectFromHGC=t.mountHGComponent=t.waitForTransitionsFinished=t.waitForTilesLoaded=t.waitForJsonComplete=t.schema=t.tracks=t.trackViewer=t.HiGlassTrackComponent=t.HiGlassComponent=t.ChromosomeInfo=void 0;var r=n(73);Object.defineProperty(t,"ChromosomeInfo",{enumerable:!0,get:function(){return p(r).default}});var i=n(232);Object.defineProperty(t,"HiGlassComponent",{enumerable:!0,get:function(){return p(i).default}});var o=n(1079);Object.defineProperty(t,"HiGlassTrackComponent",{enumerable:!0,get:function(){return p(o).default}}),Object.defineProperty(t,"trackViewer",{enumerable:!0,get:function(){return o.trackViewer}});var a=n(271);Object.defineProperty(t,"schema",{enumerable:!0,get:function(){return p(a).default}});var s=n(10);Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){return s.waitForJsonComplete}}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){return s.waitForTilesLoaded}}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){return s.waitForTransitionsFinished}}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){return s.mountHGComponent}}),Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){return s.getTrackObjectFromHGC}});var l=p(n(1)),u=p(n(42)),c=p(i),h=p(n(80)),d=p(n(79)),f=p(n(260));function p(e){return e&&e.__esModule?e:{default:e}}t.tracks={SVGTrack:h.default,TiledPixiTrack:d.default,HorizontalGeneAnnotationsTrack:f.default},t.version="1.11.11",t.viewer=function(e,t,n){var r=function(e,t,n){var r=l.default.createRef();return u.default.render(l.default.createElement(c.default,{ref:r,options:n||{},viewConfig:t}),e),r.current}(e,t,n);return r.api}},function(e,t,n){var r=n(39),i=n(92),o=n(21)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(49),s=n(522),l=n(163),u=n(108),c=n(23),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,v=0,g={},y="onreadystatechange",b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){b.call(e.data)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},f=function(e){delete g[e]},"process"==n(74)(h)?r=function(e){h.nextTick(a(b,e,1))}:m&&m.now?r=function(e){m.now(a(b,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):r=y in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(39),i=n(33),o=n(219);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(23),i=n(12),o=n(32),a=n(36),s=n(21)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={PIXI:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(325))};t.default=r},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t,n){var i=(0,r.absToChr)(e,n),o=(0,r.absToChr)(t,n);return[i[0],Math.round(i[1]),o[0],Math.round(o[1])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_DEFAULT=t.THEME_DARK=t.THEME_LIGHT=void 0;var r,i=n(225),o=(r=i)&&r.__esModule?r:{default:r};var a=t.THEME_LIGHT=(0,o.default)("Light theme");t.THEME_DARK=(0,o.default)("Dark theme"),t.THEME_DEFAULT=a},function(e,t,n){var r=n(74);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(158),i=n(107).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(60),i=n(48),o=n(93).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){e.exports={default:n(562),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};n(571);t.default=function(){return o.default.createElement("div",{className:"Cross-module_cross-3WYME"})}},function(e,t,n){"use strict";var r=n(32).f,i=n(110),o=n(220),a=n(49),s=n(218),l=n(129),u=n(109),c=n(160),h=n(322),d=n(36),f=n(226).fastKey,p=n(238),m=d?"_s":"size",v=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&l(r,n,e[u],e)}));return o(c.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(p(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return p(this,t)[m]}}),c},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?c(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,c(1))}),n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){"use strict";var r=n(23),i=n(16),o=n(226),a=n(50),s=n(43),l=n(220),u=n(129),c=n(218),h=n(33),d=n(77),f=n(32).f,p=n(580)(0),m=n(36);e.exports=function(e,t,n,v,g,y){var b=r[e],_=b,T=g?"set":"add",S=_&&_.prototype,k={};return m&&"function"==typeof _&&(y||S.forEach&&!a((function(){(new _).entries().next()})))?(_=t((function(t,n){c(t,_,e,"_c"),t._c=new b,null!=n&&u(n,g,t[T],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in S)||y&&"clear"==e||s(_.prototype,e,(function(n,r){if(c(this,_,e),!t&&y&&!h(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),y||f(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,e,g,T),l(_.prototype,n),o.NEED=!0),d(_,e),k[e]=_,i(i.G+i.W+i.F,k),y||v.setStrong(_,e,g),_}},function(e,t,n){var r=n(111),i=n(584);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(16),i=n(92),o=n(49),a=n(129);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return i(this),(t=void 0!==l)&&i(l),null==e?new this:(n=[],t?(r=0,s=o(l,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(172)),s=c(n(340)),l=n(133),u=c(n(593));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return d.call(i),(0,l.autoBindHandlers)(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,a.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,l.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,l.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,l.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);if(s)return this.setState({oldDragItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props.cols,c=(0,l.getLayoutItem)(s,e);if(c){var h={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};s=(0,l.moveElement)(s,c,t,n,!0,this.props.preventCollision,this.compactType(),u),this.props.onDrag(s,a,c,h,i,o),this.setState({layout:(0,l.compact)(s,this.compactType(),u),activeDrag:h})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props,c=u.cols,h=u.preventCollision,d=(0,l.getLayoutItem)(s,e);if(d){s=(0,l.moveElement)(s,d,t,n,!0,h,this.compactType(),c),this.props.onDragStop(s,a,d,null,i,o);var f=(0,l.compact)(s,this.compactType(),c),p=this.state.oldLayout;this.setState({activeDrag:null,layout:f,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,p)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,i){var o=i.e,a=i.node,s=this.state,u=s.layout,c=s.oldResizeItem,h=this.props,d=h.cols,f=h.preventCollision,p=(0,l.getLayoutItem)(u,e);if(p){var m=void 0;if(f){var v=(0,l.getAllCollisions)(u,r({},p,{w:t,h:n})).filter((function(e){return e.i!==p.i}));if(m=v.length>0){var g=1/0,y=1/0;v.forEach((function(e){e.x>p.x&&(g=Math.min(g,e.x)),e.y>p.y&&(y=Math.min(y,e.y))})),Number.isFinite(g)&&(p.w=g-p.x),Number.isFinite(y)&&(p.h=y-p.y)}}m||(p.w=t,p.h=n);var b={w:p.w,h:p.h,x:p.x,y:p.y,static:!0,i:e};this.props.onResize(u,c,p,b,o,a),this.setState({layout:(0,l.compact)(u,this.compactType(),d),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,u=a.oldResizeItem,c=this.props.cols,h=(0,l.getLayoutItem)(s,e);this.props.onResizeStop(s,u,h,null,i,o);var d=(0,l.compact)(s,this.compactType(),c),f=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,f)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,a=t.containerPadding,s=t.rowHeight,l=t.maxRows,c=t.useCSSTransforms;return i.default.createElement(u.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,useCSSTransforms:c},i.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,l.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,o=n.cols,a=n.margin,s=n.containerPadding,c=n.rowHeight,h=n.maxRows,d=n.isDraggable,f=n.isResizable,p=n.useCSSTransforms,m=n.draggableCancel,v=n.draggableHandle,g=this.state.mounted,y=Boolean(!t.static&&d&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&f&&(t.isResizable||null==t.isResizable));return i.default.createElement(u.default,{containerWidth:r,cols:o,margin:a,containerPadding:s||a,maxRows:h,rowHeight:c,cancel:m,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:y,isResizable:b,useCSSTransforms:p&&g,usePercentages:!g,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,a=(0,s.default)("react-grid-layout",n),l=r({height:this.containerHeight()},o);return i.default.createElement("div",{className:a,style:l},i.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),this.placeholder())},t}(i.default.Component);h.displayName="ReactGridLayout",h.propTypes={className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,l.validateLayout)(t,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,children:function(e,t){var n=e[t],r={};i.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))}},h.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop};var d=function(){this.state={activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=h},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o=i,a=function(e){};function s(e,t,n,r,i,o,s,l){if(a(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,l],h=0;(u=new Error(t.replace(/%s/g,(function(){return c[h++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var l=s,u=o,c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};u=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];c.apply(void 0,[t].concat(r))}};var h=u,d=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function m(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function v(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var g=v()?Object.assign:function(e,t){for(var n,r,i=m(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))f.call(n,a)&&(i[a]=n[a]);if(d){r=d(n);for(var s=0;s<r.length;s++)p.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",b=l,_=h,T=y,S={};function k(e,t,n,r,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{b("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,T)}catch(e){a=e}if(_(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in S)){S[a.message]=!0;var s=i?i():"";_(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}var w=k,x=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";function i(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}var a="<<anonymous>>",s={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:p(),arrayOf:m,element:v(),instanceOf:b,node:k(),objectOf:T,oneOf:_,oneOfType:S,shape:x,exact:E};function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function c(e){this.message=e,this.stack=""}function d(e){var n={},r=0;function i(i,o,s,u,d,f,p){if(u=u||a,f=f||s,p!==y)if(t)l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var m=u+":"+s;!n[m]&&r<3&&(h(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,u),n[m]=!0,r++)}return null==o[s]?i?null===o[s]?new c("The "+d+" `"+f+"` is marked as required in `"+u+"`, but its value is `null`."):new c("The "+d+" `"+f+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(o,s,u,d,f)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function f(e){function t(t,n,r,i,o,a){var s=t[n];return A(s)!==e?new c("Invalid "+i+" `"+o+"` of type `"+M(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return d(t)}function p(){return d(o.thatReturnsNull)}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new c("Invalid "+i+" `"+o+"` of type `"+A(a)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<a.length;s++){var l=e(a,s,r,i,o+"["+s+"]",y);if(l instanceof Error)return l}return null}return d(t)}function v(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new c("Invalid "+i+" `"+o+"` of type `"+A(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return d(t)}function b(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var s=e.name||a;return new c("Invalid "+i+" `"+o+"` of type `"+I(t[n])+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}return null}return d(t)}function _(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new c("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return d(t)}function T(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=A(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var u=e(a,l,r,i,o+"."+l,y);if(u instanceof Error)return u}return null}return d(t)}function S(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return h(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",P(n),t),o.thatReturnsNull}function r(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,y))return null;return new c("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return d(r)}function k(){function e(e,t,n,r,i){return C(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}function x(e){function t(t,n,r,i,o){var a=t[n],s=A(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var u=e[l];if(u){var h=u(a,l,r,i,o+"."+l,y);if(h)return h}}return null}return d(t)}function E(e){function t(t,n,r,i,o){var a=t[n],s=A(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var l=g({},t[n],e);for(var u in l){var h=e[u];if(!h)return new c("Invalid "+i+" `"+o+"` key `"+u+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=h(a,u,r,i,o+"."+u,y);if(d)return d}return null}return d(t)}function C(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(C);if(null===t||e(t))return!0;var n=i(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!C(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!C(a[1]))return!1}return!0;default:return!1}}function O(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function A(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":O(t,e)?"symbol":t}function M(e){if(null==e)return""+e;var t=A(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function P(e){var t=M(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function I(e){return e.constructor&&e.constructor.name?e.constructor.name:a}return c.prototype=Error.prototype,s.checkPropTypes=w,s.PropTypes=s,s},E=n((function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,n=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},r=!0;e.exports=x(n,r)})),C=n((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function O(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function A(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function M(e){return"number"==typeof e&&!isNaN(e)}function P(e){return parseInt(e,10)}function I(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var L=["Moz","Webkit","O","ms"];function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<L.length;n++)if(D(e,L[n])in t)return L[n];return""}function D(e,t){return t?""+t+N(e):e}function N(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}var j=R(),H=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},U=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},G=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y="";function W(e,t){return Y||(Y=O(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return A(e[t])}))),!!A(e[Y])&&e[Y](t)}function q(e,t,n){var r=e;do{if(W(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function X(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function K(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function $(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=P(n.borderTopWidth),t+=P(n.borderBottomWidth)}function Z(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=P(n.borderLeftWidth),t+=P(n.borderRightWidth)}function Q(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=P(n.paddingTop),t-=P(n.paddingBottom)}function J(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=P(n.paddingLeft),t-=P(n.paddingRight)}function ee(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function te(e){var t=e.x,n=e.y;return F({},D("transform",j),"translate("+t+"px,"+n+"px)")}function ne(e){return"translate("+e.x+","+e.y+")"}function re(e,t){return e.targetTouches&&O(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&O(e.changedTouches,(function(e){return t===e.identifier}))}function ie(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function oe(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&le(e.body,"react-draggable-transparent-selection")}}function ae(e){try{e&&e.body&&ue(e.body,"react-draggable-transparent-selection"),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}}function se(){return z({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function le(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function ue(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}function ce(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:ge(r);var i=ye(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a.getComputedStyle(i),u=a.getComputedStyle(s);r={left:-i.offsetLeft+P(u.paddingLeft)+P(l.marginLeft),top:-i.offsetTop+P(u.paddingTop)+P(l.marginTop),right:J(s)-Z(i)-i.offsetLeft+P(u.paddingRight)-P(l.marginRight),bottom:Q(s)-$(i)-i.offsetTop+P(u.paddingBottom)-P(l.marginBottom)}}return M(r.right)&&(t=Math.min(t,r.right)),M(r.bottom)&&(n=Math.min(n,r.bottom)),M(r.left)&&(t=Math.max(t,r.left)),M(r.top)&&(n=Math.max(n,r.top)),[t,n]}function he(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function de(e){return"both"===e.props.axis||"x"===e.props.axis}function fe(e){return"both"===e.props.axis||"y"===e.props.axis}function pe(e,t,n){var r="number"==typeof t?re(e,t):null;if("number"==typeof t&&!r)return null;var i=ye(n);return ee(r||e,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function me(e,t,n){var r=e.state,i=!M(r.lastX),o=ye(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function ve(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ge(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function ye(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}function be(){}var _e={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Te=_e.mouse,Se=function(n){function r(){var t,n,i;H(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=U(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof r.defaultView.Node)||i.props.handle&&!q(t.target,i.props.handle,n)||i.props.cancel&&q(t.target,i.props.cancel,n))){var o=ie(t);i.setState({touchIdentifier:o});var a=pe(t,o,i);if(null!=a){var s=a.x,l=a.y,u=me(i,s,l);be("calling",i.props.onStart),!1!==i.props.onStart(t,u)&&(i.props.enableUserSelectHack&&oe(r),i.setState({dragging:!0,lastX:s,lastY:l}),X(r,Te.move,i.handleDrag),X(r,Te.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=pe(e,i.state.touchIdentifier,i);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=he(i.props.grid,o,a),l=G(s,2);if(o=l[0],a=l[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var u=me(i,n,r);if(!1!==i.props.onDrag(e,u))i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(e){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}}},i.handleDragStop=function(t){if(i.state.dragging){var n=pe(t,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=me(i,r,o),s=e.findDOMNode(i);s&&i.props.enableUserSelectHack&&ae(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,a),s&&(K(s.ownerDocument,Te.move,i.handleDrag),K(s.ownerDocument,Te.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return Te=_e.mouse,i.handleDragStart(e)},i.onMouseUp=function(e){return Te=_e.mouse,i.handleDragStop(e)},i.onTouchStart=function(e){return Te=_e.touch,i.handleDragStart(e)},i.onTouchEnd=function(e){return Te=_e.touch,i.handleDragStop(e)},U(i,n)}return V(r,n),B(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;K(n,_e.mouse.move,this.handleDrag),K(n,_e.touch.move,this.handleDrag),K(n,_e.mouse.stop,this.handleDragStop),K(n,_e.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&ae(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:se(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);Se.displayName="DraggableCore",Se.propTypes={allowAnyClick:E.bool,disabled:E.bool,enableUserSelectHack:E.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:E.arrayOf(E.number),scale:E.number,handle:E.string,cancel:E.string,onStart:E.func,onDrag:E.func,onStop:E.func,onMouseDown:E.func,className:I,style:I,transform:I},Se.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var ke=function(n){function r(e){H(this,r);var t=U(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,ve(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=ve(t,n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=ce(t,i.x,i.y),l=G(s,2),u=l[0],c=l[1];i.x=u,i.y=c,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,ve(t,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return V(r,n),B(r,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n={},r=null,i=!Boolean(this.props.position)||this.state.dragging,o=this.props.position||this.props.defaultPosition,a={x:de(this)&&i?this.state.x:o.x,y:fe(this)&&i?this.state.y:o.y};this.state.isElementSVG?r=ne(a):n=te(a);var s=this.props,l=s.defaultClassName,u=s.defaultClassNameDragging,c=s.defaultClassNameDragged,h=t.Children.only(this.props.children),d=C(h.props.className||"",l,(F(e={},u,this.state.dragging),F(e,c,this.state.dragged),e));return t.createElement(Se,z({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(h,{className:d,style:z({},h.props.style,n),transform:r}))}}]),r}(t.Component);return ke.displayName="Draggable",ke.propTypes=z({},Se.propTypes,{axis:E.oneOf(["both","x","y","none"]),bounds:E.oneOfType([E.shape({left:E.number,right:E.number,top:E.number,bottom:E.number}),E.string,E.oneOf([!1])]),defaultClassName:E.string,defaultClassNameDragging:E.string,defaultClassNameDragged:E.string,defaultPosition:E.shape({x:E.number,y:E.number}),position:E.shape({x:E.number,y:E.number}),className:I,style:I,transform:I}),ke.defaultProps=z({},Se.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),ke.default=ke,ke.DraggableCore=Se,ke}(n(42),n(1))},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=n(341),s=l(n(595));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,e.call.apply(e,[this].concat(o))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;e=(t=e/o)*o}if(!r&&!i)return[e,t];var a=e,s=t,l=this.state,u=l.slackW,c=l.slackH;return e+=u,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),c+=s-t,(u+=a-e)===this.state.slackW&&c===this.state.slackH||this.setState({slackW:u,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e,t){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY,l=("both"===n.props.axis||"x"===n.props.axis)&&-1===["n","s"].indexOf(t),u=("both"===n.props.axis||"y"===n.props.axis)&&-1===["e","w"].indexOf(t);l&&"w"===t[t.length-1]&&(a=-a),u&&"n"===t[0]&&(s=-s);var c=n.state.width+(l?a:0),h=n.state.height+(u?s:0),d=c!==n.state.width,f=h!==n.state.height;if("onResize"!==e||d||f){var p=n.runConstraints(c,h);c=p[0],h=p[1];var m={};if("onResizeStart"===e)m.resizing=!0;else if("onResizeStop"===e)m.resizing=!1,m.slackW=m.slackH=0;else{if(c===n.state.width&&h===n.state.height)return;m.width=c,m.height=h}"function"==typeof n.props[e]?("function"==typeof r.persist&&r.persist(),n.setState(m,(function(){return n.props[e](r,{node:o,size:{width:c,height:h},handle:t})}))):n.setState(m)}}},t.prototype.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:i.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.draggableOpts,l=(t.width,t.height,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),c=u.className?u.className+" react-resizable":"react-resizable";return(0,s.default)(n,r({},u,{className:c,children:[n.props.children,l.map((function(t){return i.default.createElement(a.DraggableCore,r({},o,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))}))]}))},t}(i.default.Component);h.propTypes={children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object},h.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]},t.default=h},function(e,t,n){"use strict";t.__esModule=!0,t.getBreakpointFromWidth=function(e,t){for(var n=i(e),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,o,a,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[o],u=i(t),c=u.slice(u.indexOf(n)),h=0,d=c.length;h<d;h++){var f=c[h];if(e[f]){l=e[f];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},t.sortBreakpoints=i;var r=n(133);function i(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},function(e,t,n){e.exports={ResizeSensor:n(345),ElementQueries:n(599)}},function(e,t,n){"use strict";var r,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(r=function(){if("undefined"==typeof window)return null;var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function n(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}var r=function(i,o){function a(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function s(t,r){if(t)if(t.resizedAttached)t.resizedAttached.add(r);else{t.resizedAttached=new a,t.resizedAttached.add(r),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var i="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",o="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=i,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor);var s=window.getComputedStyle(t),l=s?s.getPropertyValue("position"):null;"absolute"!==l&&"relative"!==l&&"fixed"!==l&&(t.style.position="relative");var u,c,h=t.resizeSensor.childNodes[0],d=h.childNodes[0],f=t.resizeSensor.childNodes[1],p=n(t),m=p.width,v=p.height,g=!0,y=0,b=function(){var e=t.offsetWidth,n=t.offsetHeight;d.style.width=e+10+"px",d.style.height=n+10+"px",h.scrollLeft=e+10,h.scrollTop=n+10,f.scrollLeft=e+10,f.scrollTop=n+10},_=function(){if(g){if(0===t.offsetWidth&&0===t.offsetHeight)return void(y||(y=e((function(){y=0,_()}))));g=!1}b()};t.resizeSensor.resetSensor=_;var T=function(){c=0,u&&(m=p.width,v=p.height,t.resizedAttached&&t.resizedAttached.call(p))},S=function(){p=n(t),(u=p.width!==m||p.height!==v)&&!c&&(c=e(T)),_()},k=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};k(h,"scroll",S),k(f,"scroll",S),e(_)}}t(i,(function(e){s(e,o)})),this.detach=function(e){r.detach(i,e)},this.reset=function(){i.resizeSensor.resetSensor()}};if(r.reset=function(e){t(e,(function(e){e.resizeSensor.resetSensor()}))},r.detach=function(e,n){t(e,(function(e){e&&(e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!=typeof MutationObserver){var i=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,i=0;i<n.length;i++)n[i].resizeSensor&&r.reset(n[i])}));document.addEventListener("DOMContentLoaded",(function(e){i.observe(document.body,{childList:!0,subtree:!0})}))}return r})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){e.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=h(n(115)),c=n(11);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.pMain=o.pMobile,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){var t=e.graphics;e.textGraphics=new c.GLOBALS.PIXI.Graphics,e.text=new c.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e)}},{key:"destroyTile",value:function(e){}},{key:"drawTile",value:function(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileX,a=i.tileWidth,l=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));e.text.scale.x=l,n.clear();var u=this.dimensions[1],c=this._refXScale(o+a)-this._refXScale(o);e.textGraphics.position.x=this._refXScale(o)+c/2,e.textGraphics.position.y=u/2;var h=this._refXScale(o);n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(h,0),n.lineTo(h,u),n.moveTo(h+c,0),n.lineTo(h+c,u),n.lineStyle(0,255,1),n.drawRect(h,0,c,u)}}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,e.text.rotation=-Math.PI/2,t.addChild(e.textGraphics),this.drawTile(e,t)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileY,a=i.tileHeight,l=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=l,n.clear(),n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5;var u=this.dimensions[0],c=this._refYScale(o+a)-this._refYScale(o);e.textGraphics.position.x=u/2,e.textGraphics.position.y=this._refYScale(o)+c/2,n.drawRect(0,this._refYScale(o),u,c)}}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[1],tilePos:n.slice(2,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),t}(c(n(349)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=h(n(255)),c=n(24);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"calculateZoomLevel",value:function(){var e=c.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(e,this.maxZoom)}},{key:"relevantScale",value:function(){return this._yScale}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n);var i=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),o=this.position[0],a=n(0)+this.position[1]-this._refYScale(1)*i;this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=1,this.pMain.scale.y=i}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(316);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisTop)(o._xScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+String(e[1])+")")}},{key:"draw",value:function(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}}]),t}(c(n(80)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(316);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisLeft)(o._yScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+String(e[0])+",0)")}},{key:"draw",value:function(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}}]),t}(c(n(80)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=O(n(94)),i=O(n(25)),o=O(n(55)),a=O(n(30)),s=O(n(18)),l=O(n(63)),u=O(n(19)),c=O(n(37)),h=O(n(17)),d=O(n(34)),f=O(n(5)),p=O(n(3)),m=O(n(4)),v=O(n(6)),g=O(n(14)),y=O(n(7)),b=O(n(180)),_=n(8),T=n(28),S=O(n(355)),k=n(157),w=O(n(115)),x=n(24),E=n(10),C=n(11);function O(e){return e&&e.__esModule?e:{default:e}}var A=5e3,M={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2},P=function(e){function t(e,n){(0,p.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e,n));return r.valueScaleTransform=k.zoomIdentity,r}return(0,y.default)(t,e),(0,m.default)(t,[{key:"initialize",value:function(){if(!this.initialized){var e=[1,1,0];this.prevK=e[0],this.vertK=e[1],this.vertY=e[2],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=(0,E.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=C.HEATED_OBJECT_MAP),this.initialized=!0}}},{key:"initTile",value:function(e){var t=this;e.texts={},e.rectGraphics=new C.GLOBALS.PIXI.Graphics,e.textGraphics=new C.GLOBALS.PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics);var n=[],r=[];if(e.tileData&&e.tileData.length){if(e.tileData.sort((function(e,t){return t.importance-e.importance})),this.options&&this.options.valueColumn)n=[e.tileData.map((function(e){return{value:e}}))];else{var i=e.tileData.map((function(e){var t=+e.chrOffset;return{from:+e.fields[1]+t,to:+e.fields[2]+t,value:e,text:e.fields[3],strand:e.fields.length>=6&&"-"===e.fields[5]?"-":"+"}}));n=(0,E.segmentsToRows)(i.filter((function(e){return"+"===e.strand}))),r=(0,E.segmentsToRows)(i.filter((function(e){return"-"===e.strand})))}e.plusStrandRows=n,e.minusStrandRows=r,this.options.showTexts&&e.tileData.forEach((function(n,r){var i=n.fields;if(n.importance||(n.importance=Math.random()),e.textWidths={},e.textHeights={},!(r>=(+t.options.maxTexts||50))){var o=new C.GLOBALS.PIXI.Text(i[3],(0,d.default)({},M,{fontSize:+t.options.fontSize||M.fontSize}));t.flipText&&(o.scale.x=-1),o.anchor.x=.5,o.anchor.y=.5,e.texts[n.uid]=o,e.textGraphics.addChild(o)}}))}e.initialized=!0}},{key:"removeTileRects",value:function(e){var t=this,n=+e.tileId.split(".")[0];e.rectGraphics.clear(),e.rendered=!1,e.tileData&&e.tileData.length&&e.tileData.forEach((function(r,i){t.drawnRects[n]&&t.drawnRects[n][r.uid]&&t.drawnRects[n][r.uid][2]===e.tileId&&delete t.drawnRects[n][r.uid]}))}},{key:"destroyTile",value:function(e){this.removeTileRects(e),e.graphics.removeChild(e.textGraphics),e.graphics.removeChild(e.rectGraphics)}},{key:"removeTiles",value:function(e){(0,g.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"removeTiles",this).call(this,e)}},{key:"drawTile",value:function(e){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}},{key:"rerender",value:function(e,n){(0,g.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"rerender",this).call(this,e,n),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=(0,E.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=C.HEATED_OBJECT_MAP;var r=!0,i=!1,o=void 0;try{for(var a,s=(0,h.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;this.destroyTile(l),this.initTile(l),this.renderTile(l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"updateTile",value:function(e){this.areAllVisibleTilesLoaded()&&this.renderTile(e)}},{key:"allVisibleRects",value:function(){var e={};(0,c.default)(this.fetchedTiles).forEach((function(t){if(t.plusStrandRows){var n=!0,r=!1,i=void 0;try{for(var o,a=(0,h.default)(t.plusStrandRows[0]);!(n=(o=a.next()).done);n=!0){var s=o.value;e[s.value.uid]||(e[s.value.uid]=s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}));for(var t=(0,c.default)(e).sort((function(e,t){return e.from-t.from})),n=0,r=0,i=0;i<t.length;i++)if(void 0!==t[i].staggeredStartPosition){n=i,r=t[i].staggeredStartPosition;break}for(var o=n;o<t.length;o++)t[o].staggeredStartPosition=(r+o-n)%2;for(var a=n;a>=0&&t.length;a--)t[a].staggeredStartPosition=(r+n-a)%2;return e}},{key:"drawSegmentStyle",value:function(e,t,n,r,i,o){var a=.1,s=r+i/2,l=[t,r,t+.2,r,t+.2,s-a,n-.2,s-a,n-.2,r,n,r,n,r+i,n-.2,r+i,n-.2,s+a,t+.2,s+a,t+.2,r+i,t,r+i];return e.rectGraphics.drawPolygon(l),l}},{key:"drawPoly",value:function(e,t,n,r,i,o){var a=null;return"segment"===this.options.annotationStyle?this.drawSegmentStyle(e,t,n,r,i,o):(("+"===o||"-"===o)&&n-t<8?(a=[t,r,t+i/2,r+i/2,t,r+i],"+"===o||(a=[n,r,n-i/2,r+i/2,n,r+i]),e.rectGraphics.drawPolygon(a)):(a="+"===o?[t,r,n-i/2,r,n,r+i/2,n-i/2,r+i,t,r+i]:"-"===o?[t+i/2,r,n,r,n,r+i,t+i/2,r+i,t,r+i/2]:[t,r,n,r,n,r+i,t,r+i],e.rectGraphics.drawPolygon(a)),a)}},{key:"setValueScale",value:function(){if(this.valueScale=null,this.options&&this.options.valueColumn){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);if(this.options.valueColumn){var n=this.makeValueScale(e,this.calculateMedianVisibleValue(+this.options.valueColumn),t),r=(0,u.default)(n,1);this.valueScale=r[0]}}}},{key:"setColorValueScale",value:function(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&"itemRgb"!==this.options.colorEncoding){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=(0,T.scaleLinear)().domain([e,t]).range([0,255])}}},{key:"renderRows",value:function(e,t,n,r,i,o){var a=+e.tileId.split(".")[0],s=l.default;this.initialize();var u=(0,T.scaleBand)().domain((0,_.range)(n)).range([r,i]).paddingInner(.3);this.allVisibleRects();var c=null;this.options.staggered&&(c=this.allVisibleRects());for(var h=0;h<t.length;h++)for(var f=0;f<t[h].length;f++){var p=t[h][f].value,m=p.fields,v=+p.chrOffset,g=+m[1]+v,y=+m[2]+v,b=(g+y)/2,S=u(h)+u.step()/2,k=this.options.annotationHeight||16;if("scaled"===k&&(k=u.bandwidth(),this.options.maxAnnotationHeight&&(k=Math.min(k,+this.options.maxAnnotationHeight))),this.options&&"itemRgb"===this.options.colorEncoding&&p.fields[8])3===p.fields[8].split(",").length&&(o="rgb("+String(p.fields[8])+")");else if(this.colorValueScale){var w=(0,E.valueToColor)(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+m[+this.options.colorEncoding-1]);o="rgba("+String(w.join(","))+")"}if(this.valueScale){var x=+m[+this.options.valueColumn-1];x>s&&(s=x),S=this.valueScale(x)}var C=this.options.fillOpacity||.3;e.rectGraphics.lineStyle(1,(0,E.colorToHex)(o),C),e.rectGraphics.beginFill((0,E.colorToHex)(o),C);var O=S-k/2,A=this._xScale(g),P=this._xScale(y);this.options.staggered&&(c[p.uid].staggeredStartPosition?O-=2.5:O+=2.5);var I=!0;if(!(a in this.drawnRects)||!(p.uid in this.drawnRects[a])){I=!1,this.drawnRects[a]||(this.drawnRects[a]={});var L=this.drawPoly(e,A,P,O*this.prevK,k*this.prevK,m[5]);this.drawnRects[a][p.uid]=[L,{start:g,end:y,value:p,tile:e,fill:o},e.tileId]}if(this.options.showTexts){if(!e.texts)return;if(!(f>=(+this.options.maxTexts||50))&&e.texts[p.uid]){var R=e.texts[p.uid];R.position.x=this._xScale(b),R.position.y=O+k/2,R.nominalY=O+k/2,I&&(R.alreadyDrawn=!0);var D=void 0!==this.options.fontColor?(0,E.colorToHex)(this.options.fontColor):o;if(R.style=(0,d.default)({},M,{fill:D,fontSize:+this.options.fontSize||M.fontSize}),!(m[3]in e.textWidths)){R.updateTransform();var N=R.getBounds().width,j=R.getBounds().height;e.textWidths[m[3]]=N,e.textHeights[m[3]]=j-5}}}}}},{key:"renderTile",value:function(e){var t=e.plusStrandRows?e.plusStrandRows.length:1,n=e.minusStrandRows?e.minusStrandRows.length:1,r=!0,i=!1,o=void 0;try{for(var a,s=(0,h.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;if(!l.initialized)return;(l.plusStrandRows||l.minusStrandRows)&&(t=Math.max(l.plusStrandRows.length,t),n=Math.max(l.minusStrandRows.length,n))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(e.rendered&&this.removeTileRects(e),e.drawnAtScale=this._xScale.copy(),e.rendered=!0,this.setValueScale(),this.setColorValueScale(),e.tileData&&e.tileData.length){var u=this.options.plusStrandColor||this.options.fillColor||"blue",c=this.options.minusStrandColor||this.options.fillColor||"purple",d=0;d=this.options.separatePlusMinusStrands?t*this.dimensions[1]/(t+n)-0:this.dimensions[1],this.renderRows(e,e.plusStrandRows,t,0,d,u),this.renderRows(e,e.minusStrandRows,n,this.options.separatePlusMinusStrands?d+0:0,this.dimensions[1],c)}E.trackUtils.stretchRects(this,[function(e){return e.rectGraphics}])}},{key:"calculateZoomLevel",value:function(){var e=x.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}},{key:"minVisibleValueInTiles",value:function(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.min.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.min.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,A).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===o.default&&(r=null),r}},{key:"maxVisibleValueInTiles",value:function(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.max.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.max.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,A).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===l.default&&(r=null),r}},{key:"calculateMedianVisibleValue",value:function(e){var t,n=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var r=this.visibleAndFetchedIds();0===r.length&&(r=(0,s.default)(this.fetchedTiles));var o=(t=[]).concat.apply(t,(0,i.default)(r.map((function(e){return n.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,A).map((function(t){return+t.fields[e-1]}))})))).filter((function(e){return e>0}));this.medianVisibleValue=(0,_.median)(o)}},{key:"draw",value:function(){var e=this;(0,g.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=function(t){var n=e.fetchedTiles[t];if(n.rectGraphics.scale.y=e.vertK,n.rectGraphics.position.y=e.vertY,!n.drawnAtScale)return{v:void 0};E.trackUtils.stretchRects(e,[function(e){return e.rectGraphics}]);var r=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData&&n.tileData.length&&n.tileData.forEach((function(t){if(n.texts){var i=t.fields,o=i[3],a=n.texts[t.uid];if(a){var s=+t.chrOffset,l=(+i[1]+s+(+i[2]+s))/2;a.position.x=e._xScale(l),a.position.y=a.nominalY*(e.vertK*e.prevK)+e.vertY,r||a.alreadyDrawn?a.visible=!1:(a.visible=!0,e.allBoxes.push([a.position.x-3,a.position.y-n.textHeights[i[3]]/2,a.position.x+n.textWidths[i[3]]+3,a.position.y+n.textHeights[i[3]]/2]),e.allTexts.push({importance:t.importance,text:a,caption:o,strand:i[5]}))}}}))};for(var i in this.fetchedTiles){var o=n(i);if("continue"!==o&&"object"===(void 0===o?"undefined":(0,r.default)(o)))return o.v}this.hideOverlaps(this.allBoxes,this.allTexts)}},{key:"hideOverlaps",value:function(e,t){(0,b.default)(e,(function(e,n){t[e].importance>t[n].importance?t[e].text.visible&&(t[n].text.visible=!1):t[n].text.visible&&(t[e].text.visible=!1)}))}},{key:"setPosition",value:function(e){(0,g.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,u.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"setDimensions",value:function(e){(0,g.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"exportSVG",value:function(){var e=this,n=null,r=null;if((0,g.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"exportSVG",this)){var i=(0,g.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"exportSVG",this).call(this),o=(0,u.default)(i,2);r=o[0],n=o[1]}else n=r=document.createElement("g");var a=document.createElement("g");a.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(a);var s=document.createElement("g"),l=document.createElement("g");a.appendChild(s),a.appendChild(l);var c=function(t){if(!t.tileData.length)return"continue";t.tileData.forEach((function(n){var r=+t.tileId.split(".")[0],i=document.createElement("g");if(i.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+","+String(t.rectGraphics.position.y)+")scale("+String(t.rectGraphics.scale.x)+","+String(t.rectGraphics.scale.y)+")"),s.appendChild(i),e.drawnRects[r]&&n.uid in e.drawnRects[r]){for(var o=e.drawnRects[r][n.uid][0],a=document.createElement("path"),u="M "+String(o[0])+" "+String(o[1]),c=2;c<o.length;c+=2)u+=" L "+String(o[c])+" "+String(o[c+1]);var h=e.drawnRects[r][n.uid][1].fill,d=void 0!==e.options.fontColor?(0,E.colorToHex)(e.options.fontColor):h;if(a.setAttribute("d",u),a.setAttribute("fill",h),a.setAttribute("opacity",.3),a.style.stroke=h,a.style.strokeWidth="1px",i.appendChild(a),t.texts[n.uid]){var f=t.texts[n.uid];if(!f.visible)return;var p=document.createElement("g"),m=document.createElement("text");l.appendChild(p),p.appendChild(m),p.setAttribute("transform","translate("+String(f.x)+","+String(f.y)+")scale("+String(f.scale.x)+",1)"),m.setAttribute("text-anchor","middle"),m.setAttribute("font-family",M.fontFamily),m.setAttribute("font-size",+e.options.fontSize||M.fontSize),m.setAttribute("font-weight","bold"),m.setAttribute("dy","5px"),m.setAttribute("fill",d),m.setAttribute("stroke",M.stroke),m.setAttribute("stroke-width","0.4"),m.setAttribute("text-shadow","0px 0px 2px grey"),m.innerHTML=f.text}}}))},d=!0,p=!1,m=void 0;try{for(var v,y=(0,h.default)(this.visibleAndFetchedTiles());!(d=(v=y.next()).done);d=!0)c(v.value)}catch(e){p=!0,m=e}finally{try{!d&&y.return&&y.return()}finally{if(p)throw m}}return[r,r]}},{key:"movedY",value:function(e){var t=this;(0,c.default)(this.fetchedTiles).forEach((function(n){var r=t.valueScaleTransform,i=r.y,o=r.k,a=t.dimensions[1];i+e/o>-(o-1)*a&&i+e/o<0&&(t.valueScaleTransform=r.translate(0,e/o)),n.rectGraphics.position.y=t.valueScaleTransform.y,t.vertY=t.valueScaleTransform.y})),this.animate()}},{key:"zoomedY",value:function(e,t){var n=this,r=E.trackUtils.zoomedY(e,t,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=r;var i=r.k,o=r.y,a=!1;((i/=this.prevK)>1.5||i<1/1.5)&&(this.prevK*=i,i=1,a=!0),this.vertK=i,this.vertY=o,(0,c.default)(this.fetchedTiles).forEach((function(e){a&&n.renderTile(e),e.rectGraphics.scale.y=i,e.rectGraphics.position.y=o})),this.draw(),this.animate()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=this.calculateZoomLevel(),r=[e,t];if(this.drawnRects[n])for(var i=(0,c.default)(this.drawnRects[n]),o=0;o<i.length;o++){for(var a=i[o][0].slice(0),s=i[o][1].tile.rectGraphics.scale.x,l=i[o][1].tile.rectGraphics.position.x,h=i[o][1].tile.rectGraphics.scale.y,d=i[o][1].tile.rectGraphics.position.y,f=[];a.length;){var p=a.splice(0,2),m=(0,u.default)(p,2),v=m[0],g=m[1];f.push([v*s+l,g*h+d])}if(-1===(0,S.default)(f,r))return i[o][1].value.fields.join(" ")}return""}}]),t}(w.default);t.default=P},function(e,t,n){"use strict";e.exports={init:function(e){var t=i.nextPow2(e);l.length<t&&(r.free(l),l=r.mallocInt32(t));u.length<t&&(r.free(u),u=r.mallocInt32(t));c.length<t&&(r.free(c),c=r.mallocInt32(t));h.length<t&&(r.free(h),h=r.mallocInt32(t));d.length<t&&(r.free(d),d=r.mallocInt32(t));f.length<t&&(r.free(f),f=r.mallocInt32(t));var n=8*t;p.length<n&&(r.free(p),p=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,i,s,d,f,g,y){for(var b=0,_=2*e,T=e-1,S=_-1,k=n;k<r;++k){var w=s[k],x=_*k;p[b++]=i[x+T],p[b++]=-(w+1),p[b++]=i[x+S],p[b++]=w}for(k=d;k<f;++k){w=y[k]+a;var E=_*k;p[b++]=g[E+T],p[b++]=-w,p[b++]=g[E+S],p[b++]=w}var C=b>>>1;o(p,C);var O=0,A=0;for(k=0;k<C;++k){var M=0|p[2*k+1];if(M>=a)m(c,h,A--,M=M-a|0);else if(M>=0)m(l,u,O--,M);else if(M<=-268435456){M=-M-a|0;for(var P=0;P<O;++P){if(void 0!==(I=t(l[P],M)))return I}v(c,h,A++,M)}else{M=-M-1|0;for(P=0;P<A;++P){var I;if(void 0!==(I=t(M,c[P])))return I}v(l,u,O++,M)}}},sweepComplete:function(e,t,n,r,i,a,s,g,y,b){for(var _=0,T=2*e,S=e-1,k=T-1,w=n;w<r;++w){var x=a[w]+1<<1,E=T*w;p[_++]=i[E+S],p[_++]=-x,p[_++]=i[E+k],p[_++]=x}for(w=s;w<g;++w){x=b[w]+1<<1;var C=T*w;p[_++]=y[C+S],p[_++]=1|-x,p[_++]=y[C+k],p[_++]=1|x}var O=_>>>1;o(p,O);var A=0,M=0,P=0;for(w=0;w<O;++w){var I=0|p[2*w+1],L=1&I;if(w<O-1&&I>>1==p[2*w+3]>>1&&(L=2,w+=1),I<0){for(var R=-(I>>1)-1,D=0;D<P;++D){if(void 0!==(N=t(d[D],R)))return N}if(0!==L)for(D=0;D<A;++D){if(void 0!==(N=t(l[D],R)))return N}if(1!==L)for(D=0;D<M;++D){var N;if(void 0!==(N=t(c[D],R)))return N}0===L?v(l,u,A++,R):1===L?v(c,h,M++,R):2===L&&v(d,f,P++,R)}else{R=(I>>1)-1;0===L?m(l,u,A--,R):1===L?m(c,h,M--,R):2===L&&m(d,f,P--,R)}}},scanBipartite:function(e,t,n,r,i,s,c,h,d,f,g,y){var b=0,_=2*e,T=t,S=t+e,k=1,w=1;r?w=a:k=a;for(var x=i;x<s;++x){var E=x+k,C=_*x;p[b++]=c[C+T],p[b++]=-E,p[b++]=c[C+S],p[b++]=E}for(x=d;x<f;++x){E=x+w;var O=_*x;p[b++]=g[O+T],p[b++]=-E}var A=b>>>1;o(p,A);var M=0;for(x=0;x<A;++x){var P=0|p[2*x+1];if(P<0){var I=!1;if((E=-P)>=a?(I=!r,E-=a):(I=!!r,E-=1),I)v(l,u,M++,E);else{var L=y[E],R=_*E,D=g[R+t+1],N=g[R+t+1+e];e:for(var j=0;j<M;++j){var H=l[j],B=_*H;if(!(N<c[B+t+1]||c[B+t+1+e]<D)){for(var F=t+2;F<e;++F)if(g[R+F+e]<c[B+F]||c[B+F+e]<g[R+F])continue e;var z,V=h[H];if(void 0!==(z=r?n(L,V):n(V,L)))return z}}}}else m(l,u,M--,P-k)}},scanComplete:function(e,t,n,r,i,s,u,c,h,d,f){for(var m=0,v=2*e,g=t,y=t+e,b=r;b<i;++b){var _=b+a,T=v*b;p[m++]=s[T+g],p[m++]=-_,p[m++]=s[T+y],p[m++]=_}for(b=c;b<h;++b){_=b+1;var S=v*b;p[m++]=d[S+g],p[m++]=-_}var k=m>>>1;o(p,k);var w=0;for(b=0;b<k;++b){var x=0|p[2*b+1];if(x<0){if((_=-x)>=a)l[w++]=_-a;else{var E=f[_-=1],C=v*_,O=d[C+t+1],A=d[C+t+1+e];e:for(var M=0;M<w;++M){var P=l[M],I=u[P];if(I===E)break;var L=v*P;if(!(A<s[L+t+1]||s[L+t+1+e]<O)){for(var R=t+2;R<e;++R)if(d[C+R+e]<s[L+R]||s[L+R+e]<d[C+R])continue e;var D=n(I,E);if(void 0!==D)return D}}}}else{for(_=x-a,M=w-1;M>=0;--M)if(l[M]===_){for(R=M+1;R<w;++R)l[R-1]=l[R];break}--w}}}};var r=n(257),i=n(258),o=n(619),a=1<<28,s=1024,l=r.mallocInt32(s),u=r.mallocInt32(s),c=r.mallocInt32(s),h=r.mallocInt32(s),d=r.mallocInt32(s),f=r.mallocInt32(s),p=r.mallocDouble(8192);function m(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function v(e,t,n,r){e[n]=r,t[r]=n}},function(e,t,n){"use strict";e.exports=function(e,t){var n="abcdef".split("").concat(t),r=[];e.indexOf("lo")>=0&&r.push("lo=e[k+n]");e.indexOf("hi")>=0&&r.push("hi=e[k+o]");return n.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}},function(e,t,n){e.exports=function(e,t){for(var n=t[0],i=t[1],o=e.length,a=1,s=o,l=0,u=o-1;l<s;u=l++){var c=e[l],h=e[u],d=c[1],f=h[1];if(f<d){if(f<i&&i<d){if(0===(v=r(c,h,t)))return 0;a^=0<v|0}else if(i===d){var p=(m=e[(l+1)%o])[1];if(d<p){if(0===(v=r(c,h,t)))return 0;a^=0<v|0}}}else if(d<f){if(d<i&&i<f){if(0===(v=r(c,h,t)))return 0;a^=v<0|0}else if(i===d){var m=e[(l+1)%o];if((p=m[1])<d){var v;if(0===(v=r(c,h,t)))return 0;a^=v<0|0}}}else if(i===d){var g=Math.min(c[0],h[0]),y=Math.max(c[0],h[0]);if(0===l){for(;u>0;){var b=(u+o-1)%o;if((S=e[b])[1]!==i)break;var _=S[0];g=Math.min(g,_),y=Math.max(y,_),u=b}if(0===u)return g<=n&&n<=y?0:1;s=u+1}for(var T=e[(u+o-1)%o][1];l+1<s;){var S;if((S=e[l+1])[1]!==i)break;_=S[0];g=Math.min(g,_),y=Math.max(y,_),l+=1}if(g<=n&&n<=y)return 0;var k=e[(l+1)%o][1];n<g&&T<i!=k<i&&(a^=1)}}return 2*a-1};var r=n(623)},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=e*t,o=r*e,a=o-(o-e),s=e-a,l=r*t,u=l-(l-t),c=t-u,h=s*c-(i-a*u-s*u-a*c);if(n)return n[0]=h,n[1]=i,n;return[h,i]};var r=+(Math.pow(2,27)+1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(19)),i=f(n(30)),o=f(n(5)),a=f(n(3)),s=f(n(4)),l=f(n(6)),u=f(n(14)),c=f(n(7)),h=f(n(40)),d=n(10);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t,n,r,i,o){i instanceof HTMLElement?function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=o.fill,s=void 0===a?0:a,l=o.fillOpacity,u=void 0===l?0:l,c=o.stroke,h=void 0===c?0:c,f=o.strokeWidth,p=void 0===f?0:f,m=o.strokeOpacity,v=void 0===m?0:m,g=document.createElement("rect");g.setAttribute("x",e),g.setAttribute("y",t),g.setAttribute("width",n),g.setAttribute("height",r),g.setAttribute("fill","#"+String((0,d.decToHexStr)(s))),g.setAttribute("fill-opacity",u),g.setAttribute("stroke","#"+String((0,d.decToHexStr)(h))),g.setAttribute("stroke-opacity",v),g.setAttribute("stroke-width",p),i.appendChild(g)}(e,t,n,r,i,o):function(e,t,n,r,i){i.drawRect(e,t,n,r)}(e,t,n,r,i)},m=function(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=l.isVertical,c=void 0!==u&&u,h=l.svg,d=void 0===h?null:h,f=t,m=n,v=r,g=i,y=2*s.width>r?r/2:s.width,b=2*s.width>i?i/2:s.width,_=d||e,T={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(s.positions&&s.positions.length?(e.lineStyle(1,0,0),e.beginFill(s.color,s.opacity),T.fill=s.color,T.fillOpacity=s.opacity,T.stroke=0,T.strokeOpacity=0,T.strokeWidth=1,s.positions.forEach((function(e){"top"===e&&!c||"left"===e&&c?p(t-y,n-b,r+2*y,b,_,T):"bottom"===e&&!c||"right"===e&&c?p(t-y,n+i,r+2*y,b,_,T):"left"===e&&!c||"top"===e&&c?p(t-y,n-b,y,i+2*b,_,T):("right"===e&&!c||"bottom"===e&&c)&&p(t+r,n-b,y,i+2*b,_,T)}))):s.width>0&&s.opacity>0&&(e.lineStyle(s.width,s.color,s.opacity),e.beginFill(0,0),T.fill=0,T.fillOpacity=0,T.stroke=s.color,T.strokeOpacity=s.opacity,T.strokeWidth=s.width,p(t-y,n-b,r+2*y,i+2*b,_,T)),a.positions&&a.positions.length){e.lineStyle(1,0,0),e.beginFill(a.color,a.opacity);var S=2*a.width>r?r/2:a.width,k=2*a.width>i?i/2:a.width;T.fill=a.color,T.fillOpacity=a.opacity,T.stroke=0,T.strokeOpacity=0,T.strokeWidth=1,a.positions.forEach((function(e){"top"===e&&!c||"left"===e&&c?(p(t,n,r,k,_,T),m+=k,g-=k):"bottom"===e&&!c||"right"===e&&c?(p(t,n+i-k,r,k,_,T),g-=k):"left"===e&&!c||"top"===e&&c?(p(t,n,S,i,_,T),f+=S,v-=S):("right"===e&&!c||"bottom"===e&&c)&&(p(t+r-S,n,S,i,_,T),v-=S)}))}else e.lineStyle(a.width,a.color,a.opacity),T.stroke=a.color,T.strokeOpacity=a.opacity,T.strokeWidth=a.width;e.beginFill(o.color,o.opacity),T.fill=o.color,T.fillOpacity=o.opacity,p(f,m,v,g,_,T)},v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.options=n||{},r.drawnRects={},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"drawHorizontalOverlay",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments[7];if(n&&!(n.length<2)){var l=this.position[0]+t.left+this._xScale(n[0]),u=this.position[1]+t.top,c=t.height,h=this._xScale(n[1])-this._xScale(n[0]);h<r&&(l-=(r-h)/2,h=r),m(e,l,u,h,c,i,o,a,s)}}},{key:"drawVerticalOverlay",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(n&&!(n.length<2)){var l=this.position[0]+t.left,u=this.position[1]+t.top+this._yScale(n.length>=4?n[2]:n[0]),c=this.position[1]+t.top,h=this.position[1]+t.top+t.height;if(!(u>h)){u<c&&(u=c);var d=t.width,f=this._yScale(n.length>=4?n[3]:n[1])-u+t.top+this.position[1];f<0||(u+f>h&&(f+=h-(u+f)),f<r&&(u-=(r-f)/2,f=r),s.isVertical=!0,m(e,l,u,d,f,i,o,a,s))}}}},{key:"draw",value:function(e){var n=this;(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this);var r=this.pMain,a={color:(0,d.colorToHex)(this.options.fill||this.options.fillColor||"blue"),opacity:(0,i.default)(+this.options.fillOpacity)?.3:+this.options.fillOpacity},s={color:(0,d.colorToHex)(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},l={color:(0,d.colorToHex)(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};e&&e.svg||r.clear(),r.lineStyle(s.width,s,+!s.positions*s.opacity),r.beginFill(a.color,a.opacity);var c=Math.max(0,+this.options.minWidth||0),h=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach((function(t){"1d-horizontal"!==t.orientation&&"2d"!==t.orientation||n.options.extent.forEach((function(i){return n.drawHorizontalOverlay(r,t.position,i,c,a,s,l,e)})),"1d-vertical"!==t.orientation&&"2d"!==t.orientation||n.options.extent.forEach((function(i){return n.drawVerticalOverlay(r,t.position,i,h,a,s,l,e)}))}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setDimensions",this).call(this,e),this.draw()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var i=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(i,2);n=a[0],e=a[1]}else e=n=document.createElement("g");var s=document.createElement("g");return e.appendChild(s),this.draw({svg:s}),[n,e]}}]),t}(h.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(19)),i=p(n(17)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=n(28),d=p(n(116)),f=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"initTile",value:function(e){e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,h.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,h.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var l=(0,f.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),u=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,l,1);var c=this.options.pointSize?this.options.pointSize:3,d=(0,f.colorToHex)(this.options.pointColor?this.options.pointColor:"red");t.beginFill(d,1),e.drawnAtScale=this._xScale.copy();for(var p=0;p<o.length;p++){var m=this._xScale(u(p)),v=this.valueScale(o[p]+a);if(e.barXValues[p]=m-c/2/this.pMain.scale.x,e.barYValues[p]=v-c/2/this.pMain.scale.y,e.barWidths[p]=c/this.pMain.scale.x,e.barHeights[p]=c/this.pMain.scale.y,u(p)>this.tilesetInfo.max_pos[0])break;t.drawRect(m-c/2/this.pMain.scale.x,v-c/2/this.pMain.scale.y,c/this.pMain.scale.x,c/this.pMain.scale.y)}}}}}},{key:"draw",value:function(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var a,s=(0,i.default)((0,f.dictValues)(this.fetchedTiles));!(e=(a=s.next()).done);e=!0){var l=a.value,c=(l.drawnAtScale.domain()[1]-l.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),h=this._xScale.domain().map(l.drawnAtScale)[0];l.graphics.scale.x=c,l.graphics.position.x=-h*c}}catch(e){n=!0,r=e}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n)}},{key:"exportSVG",value:function(){var e=null,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1],n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var c=!0,h=!1,d=void 0;try{for(var f,p=(0,i.default)(this.visibleAndFetchedTiles());!(c=(f=p.next()).done);c=!0)for(var m=f.value,v=0;v<m.barXValues.length;v++){var g=document.createElement("rect"),y=this.options.lineStrokeColor||"blue",b=this.options.pointColor||"red";g.setAttribute("fill",b),g.setAttribute("stroke",y),g.setAttribute("stroke-width",0),g.setAttribute("x",m.barXValues[v]),g.setAttribute("y",m.barYValues[v]),g.setAttribute("height",m.barHeights[v]),g.setAttribute("width",m.barWidths[v]),l.appendChild(g)}}catch(e){h=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(h)throw d}}var _=document.createElement("g");if(_.setAttribute("id","axis"),n.appendChild(_),_.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var T=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);_.appendChild(T)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var S=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);_.appendChild(S)}return[n,e]}}]),t}(d.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(30)),i=T(n(37)),o=T(n(94)),a=T(n(18)),s=T(n(34)),l=T(n(35)),u=T(n(5)),c=T(n(3)),h=T(n(4)),d=T(n(6)),f=T(n(14)),p=T(n(7)),m=n(20),v=T(n(135)),g=n(24),y=T(n(139)),b=T(n(628)),_=T(n(181));function T(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e,n){(0,c.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e,n));return r.pMain=r.pMobile,r.continuousScaling=!1,r.updateDataFetcher(n),r}return(0,p.default)(t,e),(0,h.default)(t,[{key:"updateDataFetcher",value:function(e){if(e&&e.selectRows&&"server"===e.selectRowsAggregationMethod){var t=this.pubSub,n=this.dataFetcher,r=n.dataConfig.options,i={aggGroups:e.selectRows,aggFunc:e.selectRowsAggregationMode};if((0,l.default)(r)!==(0,l.default)(i)){var o=(0,s.default)({},n.dataConfig,{options:i});this.dataFetcher=new n.constructor(o,t),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles((0,a.default)(this.fetchedTiles).map((function(e){return{tileId:e,remoteId:e}})))}}}},{key:"rerender",value:function(e,n){this.updateDataFetcher(e),(0,f.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"rerender",this).call(this,e,n),e.selectRows&&(this.selectRowsCumWeights=(0,b.default)(e.selectRows,e.selectRowsAggregationWithRelativeHeight))}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=this.tilesetInfo.shape[1]):(t.width=this.tilesetInfo.tile_size,t.height=1);var n=t.getContext("2d");if(n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height),0!==e.length&&e.length===4*t.width*t.height){var r=new ImageData(e,t.width,t.height);n.putImageData(r,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return t}},{key:"setSpriteProperties",value:function(e,t,n){var r=this.getTilePosAndDimensions(t,n,this.tilesetInfo.tile_size),i=r.tileX,o=i+r.tileWidth;e.width=this._refXScale(o)-this._refXScale(i),e.height=this.dimensions[1],e.x=this._refXScale(i),e.y=0}},{key:"leftTrackZoomed",value:function(e,t,n,r,i){var o=this._xScale(0)-n*this._refXScale(0);this.pMobile.position.x=o+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"zoomed",value:function(e,n,r,i){(0,f.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=this.position[1],this.pMain.scale.x=r,this.pMain.scale.y=1,this.drawColorbar()}},{key:"calculateVisibleTiles",value:function(){var e=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=g.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=g.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);var n=this.xTiles.map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(n)}}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo){var e=this.tilesetInfo.min_pos[0];return this.tilesetInfo.resolutions?g.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e):g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"getTilePosAtPosition",value:function(e,t){if(this.tilesetInfo){var n=this.calculateZoomLevel(),r=g.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r;return[n,Math.floor(i)]}}},{key:"getVisibleData",value:function(e,t){var n=this,r=this.calculateZoomLevel(),a=g.tileProxy.calculateTileWidth(this.tilesetInfo,r,this.tilesetInfo.tile_size),s=this._xScale.invert(e)/a,l=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(l=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));var u=this.tilesetInfo.tile_size*(s-Math.floor(s)),c=t/this.dimensions[1],h=c*l,d=Math.floor(h),f=void 0;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(d=this.selectRowsCumWeights.findIndex((function(e,t){return c<=e&&(t===n.selectRowsCumWeights.length-1||n.selectRowsCumWeights[t+1]>=c)}))),f=this.options.selectRows[d]);var p=this.tileToLocalId([r,Math.floor(s)]),v=this.fetchedTiles[p],b="";if(v){this.tilesetInfo.shape||(u=v.tileData.dense.length*(s-Math.floor(s)));var T=null;if(T=this.tilesetInfo.shape?Array.isArray(f)&&"client"===this.options.selectRowsAggregationMethod?f.map((function(e){return n.tilesetInfo.shape[0]*e+Math.floor(u)})):f&&"client"===this.options.selectRowsAggregationMethod?this.tilesetInfo.shape[0]*f+Math.floor(u):this.tilesetInfo.shape[0]*d+Math.floor(u):v.tileData.dense.length*d+Math.floor(u),Array.isArray(T)){var S=(0,_.default)(this.options.selectRowsAggregationMode),k=T.map((function(e){return v.tileData.dense[e]}));b=(0,m.format)(".3f")(S(k)),b+="<br/>",b+=String(T.length)+"-item "+String(this.options.selectRowsAggregationMode)}else b=(0,m.format)(".3f")(v.tileData.dense[T]),Array.isArray(f)&&(b+="<br/>",b+=String(f.length)+"-item "+String(this.options.selectRowsAggregationMode))}if(this.tilesetInfo.row_infos){b+="<br/>";var w="";this.options.selectRows&&!Array.isArray(f)?w=this.tilesetInfo.row_infos[f]:d>=0&&d<this.tilesetInfo.row_infos.length&&(w=this.tilesetInfo.row_infos[d]),"object"===(void 0===w?"undefined":(0,o.default)(w))?b+=(0,i.default)(w).join("\t"):b+=w}return""+String(b)}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=this.getTilePosAtPosition(e,t),i="";if(this.options&&this.options.heatmapValueScaling&&"categorical"===this.options.heatmapValueScaling&&this.options.colorRange){var o=this.getVisibleData(e,t).split("<br/>"),a=this.options.colorRange[parseInt(o[0],10)-1],s=o[1];if((0,r.default)(a)||"NaN"===a||void 0===a||"undefined"===a)return"";i='<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"\n                 style="fill:'+String(a)+';stroke:black;stroke-width:2;"></svg> '+String(s)}else i+="Data value: "+String(this.getVisibleData(e,t))+"</br>",i+="Zoom level: "+String(n[0])+" tile position: "+String(n[1]);return i}}]),t}(v.default);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=n(28),u=h(n(259)),c=n(10);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"drawTile",value:function(e){this.renderTile(e)}},{key:"renderTile",value:function(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,l.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,l.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var u=(0,c.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),h=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,u,1);var d=this.options.barFillColorTop?this.options.barFillColorTop:"green",f=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",p=(0,c.colorToHex)(d),m=(0,c.colorToHex)(f),v="barOpacity"in this.options?this.options.barOpacity:1;e.drawnAtScale=this._xScale.copy();var g=0;g="log"===this.options.valueScaling?this.valueScale(1):this.valueScale(0),delete e.svgData;for(var y=0;y<o.length;y++){var b=this._xScale(h(y)),_=this.valueScale(o[y]+a),T=this._xScale(h(y+1))-b;if(_>g?(t.beginFill(m,v),this.addSVGInfo(e,b,g,T,_-g,f)):(t.beginFill(p,v),this.addSVGInfo(e,b,_,T,g-_,d)),h(y)>this.tilesetInfo.max_pos[0])break;t.drawRect(b,e.svgData.barYValues[y],T,e.svgData.barHeights[y])}}}}}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(30)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),h=n(28),d=m(n(116)),f=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.setColorScale(n.colorRange),r.opacity=n.opacity||1,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setColorScale",value:function(e){this.colorScale=e?(0,f.colorDomainToRgbaArray)(e):p.HEATED_OBJECT_MAP,this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))}))}},{key:"rerender",value:function(e){e&&e.colorRange&&this.setColorScale(e.colorRange),this.opacity=e.opacity||1,(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e)}},{key:"drawAxis",value:function(){}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),u=(0,i.default)(l,2),c=u[0],d=u[1];if(c.range([254,0]).clamp(!0),this.valueScale=c,t.clear(),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var f=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([o,o+a]);t.lineStyle(0,0,0);for(var m=0;m<s.length;m++)if(!(0,r.default)(s[m])){var v=Math.round(this.valueScale(s[m]+d));if(!(0,r.default)(+v)){var g=this._xScale(f(m)),y=this._xScale(f(m+1))-g,b=this.dimensions[1];e.xValues[m]=g,e.yValues[m]=v;var _=this.colorScale[v],T=p.GLOBALS.PIXI.utils.rgb2hex(_);if(t.beginFill(T,this.opacity),0!==m){if(f(m)>this.tilesetInfo.max_pos[0])break;0!==s[m]&&t.drawRect(g,0,y,b)}}}}}}}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(25)),i=f(n(38)),o=f(n(5)),a=f(n(3)),s=f(n(4)),l=f(n(6)),u=f(n(7)),c=n(28),h=n(8),d=n(10);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.seen=new i.default,r.pMain=r.pMobile,r.rows=[],r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"uid",value:function(e){return e[e.length-2]}},{key:"segmentOverlap",value:function(e,t){}},{key:"drawAll",value:function(e){var t=this;this.pMain.clear();var n=new i.default,r=e.map((function(e){return n.has(t.uid(e))?null:(n.add(t.uid(e)),{from:+e[1],to:+e[2],type:e[4],uid:t.uid(e)})})).filter((function(e){return e})),o=(0,d.segmentsToRows)(r);this.rows=o,this.draw()}},{key:"draw",value:function(){var e=this.rows;if(e){var t=(0,c.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,h.range)(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=e[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),l=t(r),u=s-a,d=l+t.bandwidth()-l;n.drawRect(a,l,u,d)}}}},{key:"allTilesLoaded",value:function(){var e,t=this,n=this.visibleAndFetchedIds().map((function(e){return t.fetchedTiles[e].tileData.discrete})),i=(e=[]).concat.apply(e,(0,r.default)(n));this.drawAll(i)}},{key:"initTile",value:function(e){}},{key:"maxRows",value:function(){return this.rows.length}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){var t=this;e.tileData.discrete.forEach((function(e){var n=e[e.length-2];t.seen.has(n)&&t.seen.delete(n)}))}},{key:"drawTile",value:function(e){}}]),t}(f(n(115)).default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(19)),o=v(n(38)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),h=v(n(7)),d=v(n(134)),f=v(n(79)),p=n(24),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,i,o,a,s,l,u){var c=u?e._xScale(n.yStart):e._xScale(n.xStart),h=u?e._xScale(n.yEnd):e._xScale(n.xEnd),d=u?e._yScale(n.xStart):e._yScale(n.yStart),f=u?e._yScale(n.xEnd):e._yScale(n.yEnd),p=n.uid+u,m=h-c,v=f-d,g={x:c,y:d,width:m,height:v};r&&(m<r||v<r)&&(g={x:c-r/2,y:d-r/2,width:r,height:r}),e.drawnRects[p]=g;var y=g.x+g.width,b=g.y+g.height;(g.x>i&&g.x<o||y>i&&y<o||g.y>a&&g.y<s||b>a&&b<s)&&(g.width>l||g.height>l)&&(t.drawRect(g.x,g.y,g.width,g.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:p,viewPos:[g.x,g.y,g.width,g.height],dataPos:[n.xStart,n.xEnd,n.yStart,n.yEnd],importance:n.importance,info:{patternType:e.options.patternType}}))}var y=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));o.drawnRects={};var l=(0,d.default)(),c=l.publish,h=l.subscribe,f=l.unsubscribe;return o.publish=c,o.subscribe=h,o.unsubscribe=f,o}return(0,h.default)(t,e),(0,l.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.remoteId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}},{key:"initTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"draw",value:function(){this.drawnRects={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){var t=this,n=e.graphics;if(n){n.clear();var r=(0,m.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),i=(0,m.colorToHex)(this.options.rectangleDomainFillColor||"grey");n.lineStyle(void 0!==this.options.rectangleDomainStrokeWidth?this.options.rectangleDomainStrokeWidth:1,r,void 0!==this.options.rectangleDomainStrokeOpacity?this.options.rectangleDomainStrokeOpacity:1),n.beginFill(i,void 0!==this.options.rectangleDomainFillOpacity?this.options.rectangleDomainFillOpacity:.4),n.alpha=this.options.rectangleDomainOpacity||.5;var o=this.options.minSquareSize&&"none"!==this.options.minSquareSize?+this.options.minSquareSize:0,a=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,s=this._xScale.range()[0],l=this._xScale.range()[1],u=this._yScale.range()[0],c=this._yScale.range()[1];e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnRects)})).forEach((function(e){g(t,n,e,o,s,l,u,c,a,"yes"===t.options.flipDiagonal),t.options.flipDiagonal&&"copy"===t.options.flipDiagonal&&g(t,n,e,o,s,l,u,c,a,!0)}))}}},{key:"exportSVG",value:function(){var e=this,n=null,o=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var s=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),l=(0,i.default)(s,2);o=l[0],n=l[1]}else n=o=document.createElement("g");var u=document.createElement("g");u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(u);for(var h=function(t){var n=function(n){if(!n.tileData||!n.tileData.length)return"continue";n.tileData.forEach((function(r){var i=r.uid+t,o=document.createElement("g");if(o.setAttribute("transform","translate("+String(n.graphics.position.x)+","+String(n.graphics.position.y)+")scale("+String(n.graphics.scale.x)+","+String(n.graphics.scale.y)+")"),u.appendChild(o),i in e.drawnRects){var a=e.drawnRects[i],s=document.createElement("rect");s.setAttribute("x",a.x),s.setAttribute("y",a.y),s.setAttribute("width",a.width),s.setAttribute("height",a.height),s.setAttribute("fill",e.options.rectangleDomainFillColor?e.options.rectangleDomainFillColor:"grey"),s.setAttribute("opacity",.3),s.style.stroke="black",s.style.strokeWidth="1px",o.appendChild(s)}}))},i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.visibleAndFetchedTiles());!(i=(s=l.next()).done);i=!0)n(s.value)}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}},d=[!0,!1],f=0;f<d.length;f++)h(d[f]);return[o,o]}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale().domain()[0]===e.domain()[0]&&this.xScale().domain()[1]===e.domain()[1]&&this.yScale().domain()[0]===t.domain()[0]&&this.yScale().domain()[1]===t.domain()[1]||(this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw())}},{key:"leftTrackDraw",value:function(){this.draw()}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),i=g(n(38)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),h=g(n(7)),d=g(n(134)),f=g(n(79)),p=n(11),m=n(24),v=n(10);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.pubSub;r.drawnAnnotations={},r.drawnAnnoGfx={},r.selectedAnno=null,r.options.minSquareSize=+r.options.minSquareSize;var o=(0,d.default)(),l=o.publish,c=o.subscribe,h=o.unsubscribe;return r.publish=l,r.subscribe=c,r.unsubscribe=h,r.sT=0,r.annoSelectedBound=r.annoSelected.bind(r),r.pubSubs.push(i.subscribe("annoSelected",r.annoSelectedBound)),r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"projection",value:function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];return[this._xScale(n),this._yScale(r)]}},{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=m.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=m.tileProxy.calculateZoomLevel(this._yScale,this.minY,this.maxY);return(0,v.min)((0,v.max)(e,t),this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);for(var e=this.zoomLevel,t=[],n=0;n<this.xTiles.length;n++)for(var r=0;r<this.yTiles.length;r++)t.push([e,this.xTiles[n],this.yTiles[r]]);this.setVisibleTiles(t)}}},{key:"draw",value:function(){this.drawnAnnotations={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.graphics){e.graphics.__tile__=e;var i=e.graphics;i.clear(),this.setBorderStyle(i),this.setFill(i),i.alpha=+this.options.rectangleDomainOpacity,e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnAnnotations)||n})).forEach((function(e){var n=t.projection([e.xStart,e.yStart]),a=(0,o.default)(n,2),s=a[0],l=a[1],u=t.projection([e.xEnd,e.yEnd]),c=(0,o.default)(u,2),h=c[0],d=c[1];t.options.exclude&&t.options.exclude.indexOf(e.uid)>=0||t.drawAnnotation(t.prepAnnotation(i,e.uid,s,l,h-s,d-l,e),r)}))}}},{key:"prepAnnotation",value:function(e,t,n,r,i,o,a){var s=void 0;try{s=JSON.parse(a.fields)}catch(e){}return{graphics:e,id:a.id,uid:t,annotation:{x:n,y:r,width:i,height:o},dataPos:[a.xStart,a.xEnd,a.yStart,a.yEnd],importance:a.importance,info:s}}},{key:"drawAnnotation",value:function(e,t){var n=this,r=e.graphics,i=e.id,o=e.uid,a=e.annotation,s=e.dataPos,l=e.importance,u=e.info;this.options.minSquareSize&&(a.width<this.options.minSquareSize||a.height<this.options.minSquareSize)&&(a.x=(a.x+a.width)/2,a.y=(a.y+a.height)/2,a.width=this.options.minSquareSize,a.height=this.options.minSquareSize),this.drawnAnnotations[o]=a;var c=[a.x,a.y,a.width,a.height],h=this.drawnAnnoGfx[o];h||(h=new p.GLOBALS.PIXI.Graphics,this.drawnAnnoGfx[o]=h),-1===r.children.indexOf(h)&&r.addChild(h),this._drawRect(h,c,o),r.interactive=!0,h.interactive=!0,h.buttonMode=!0;var d={id:i,uid:o,dataPos:s,importance:l,info:u,viewPos:[a.x,a.y,a.x+a.width,a.y+a.height]};h.mouseover=function(){return n.hover(h,c,o)},h.mouseout=function(){return n.blur(h,c,o)},h.mousedown=function(){return n.mouseDown()},h.mouseup=function(e){return n.mouseUp(h,c,o,e,d)},t||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:o,annotationId:i,viewPos:c,dataPos:s,importance:l,info:u})}},{key:"_drawRect",value:function(e,t,n){var i=this.options.rectangleDomainStrokeColor,o=this.options.rectangleDomainStrokeWidth,a=this.options.rectangleDomainStrokeOpacity,s=this.options.rectangleDomainFillColor,l=this.options.rectangleDomainFillOpacity;this.hoveredAnno===n&&(i=this.options.hoverColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.hoverColor,l=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===n&&(i=this.options.selectColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.selectColor,l=(0,v.max)(.33,this.options.rectangleDomainFillOpacity)),e.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(e,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(e,s,0),e.drawRect.apply(e,(0,r.default)(t))),this.setBorderStyle(e,i,o,a),this.setFill(e,s,l),e.drawRect.apply(e,(0,r.default)(t)),e.__viewPos__=t}},{key:"context",value:function(e,t,n){return function(r){return r(e,t,n)}}},{key:"click",value:function(e,t,n,r,i){this.select(e,t,n),this.pubSub.publish("app.click",{type:"annotation",event:r,payload:i})}},{key:"mouseDown",value:function(){this.sT=performance.now()}},{key:"mouseUp",value:function(e,t,n,r,i){performance.now()-this.sT<=250&&this.click(e,t,n,r,i)}},{key:"hover",value:function(e,t,n){this.hoveredAnno=n,this._drawRect(e,t,n),this.animate()}},{key:"focus",value:function(e,t,n){this._drawRect(e,t,n),this.animate()}},{key:"blur",value:function(e,t,n){this.hoveredAnno=null,this._drawRect(e,t,n),this.animate()}},{key:"select",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null,o=null;this.selectedAnno&&(i=this.selectedAnno.graphics,o=this.selectedAnno.uid),this.selectedAnno={graphics:e,uid:n},this.focus(e,t,n),this.options.onSelect&&!r&&(window[this.options.onSelect](n),this.pubSub.publish("annoSelected",n)),i&&o&&this.blur(i,i.__viewPos__,o)}},{key:"unselect",value:function(){var e=this.selectedAnno.graphics,t=this.selectedAnno.uid;this.selectedAnno=null,this.blur(e,e.__viewPos__,t)}},{key:"annoSelected",value:function(e){if(!this.selectedAnno||this.selectedAnno.uid!==e){this.selectedAnno&&this.unselect();var t=this.drawnAnnoGfx[e];t&&this.select(t,t.__viewPos__,e,!0)}}},{key:"exportSVG",value:function(){var e=this,n=null,r=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);r=s[0],n=s[1]}else n=r=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.tileData&&e.tileData.length})).map((function(e){return{graphics:e.graphics,td:e.tileData}})).forEach((function(t){var n=t.td,r=t.graphics,i=document.createElement("g");if(i.setAttribute("transform","translate("+String(r.position.x)+","+String(r.position.y)+")scale("+String(r.scale.x)+","+String(r.scale.y)+")"),l.appendChild(i),n.uid in e.drawnAnnotations){var o=e.drawnAnnotations[n.uid],a=document.createElement("rect");a.setAttribute("x",o.x),a.setAttribute("y",o.y),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("fill",e.options.fillColor||"grey"),a.setAttribute("opacity",.3),a.style.stroke=e.options.fillColor||"grey",a.style.strokeWidth="1px",i.appendChild(a)}})),[r,r]}},{key:"setBorderStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainStrokeColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainStrokeWidth,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.rectangleDomainStrokeOpacity;e.lineStyle(void 0!==n?n:1,(0,v.colorToHex)(t||"black"),void 0!==r?r:1)}},{key:"setFill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainFillColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainFillOpacity;e.beginFill((0,v.colorToHex)(t||"grey"),void 0!==n?n:.4)}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"minX",get:function(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}},{key:"maxX",get:function(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}},{key:"minY",get:function(){return this.minX}},{key:"maxY",get:function(){return this.maxX}},{key:"maxSize",get:function(){var e=this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1]);return e||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(37)),i=f(n(5)),o=f(n(3)),a=f(n(4)),s=f(n(6)),l=f(n(14)),u=f(n(7)),c=n(9),h=f(n(40)),d=n(11);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n,r){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return a.pubSub=e.pubSub,a.options=n,a.isVertical=r,a.rects={},a.defaultColor=(0,c.color)("red"),a}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){var e=this,n=void 0!==this.options.minRectWidth?this.options.minRectWidth:10,o=void 0!==this.options.fill?(0,c.color)(this.options.fill):this.defaultColor,a=void 0!==this.options.fillOpacity?+this.options.fillOpacity:.2,s=void 0!==this.options.stroke?(0,c.color)(this.options.stroke):this.defaultColor,u=void 0!==this.options.strokeWidth?+this.options.strokeWidth:1,h=void 0!==this.options.strokeOpacity?+this.options.strokeOpacity:0,f=void 0;this.options.strokePos&&this.options.strokePos.length&&(f=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"draw",this).call(this);var p=this.pMain;p.clear();var m=performance.now();this.options.regions.forEach((function(t){var r=String(t[0])+"-"+String(t[1]);e.rects[r]||(e.rects[r]={graphics:new d.GLOBALS.PIXI.Graphics},p.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=m;var i=(0,c.color)(t[2])||o,l=(0,c.color)(t[3])||s;l||(l=i);var v=d.GLOBALS.PIXI.utils.rgb2hex([i.r/255,i.g/255,i.b/255]),g=d.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);f?(p.lineStyle(1,g,0),p.beginFill(g,+t[5]||h)):(p.lineStyle(u,g,+t[5]||h),p.beginFill(v,+t[4]||a));var y=e.isVertical?e._yScale:e._xScale,b=y(+t[0]),_=y(+t[1]),T=_-b,S=void 0!==t[6]?t[6]:n;T<S&&(b=(b+_)/2-S/2,T=S),f?(p.lineStyle(1,g,0),p.beginFill(g,+t[5]||h),f.forEach((function(t){"top"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b,u,T):p.drawRect(b,0,T,u)),"right"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b,e.dimensions[0],u):p.drawRect(b,0,u,e.dimensions[1])),"bottom"!==t&&"around"!==t||(e.isVertical?p.drawRect(e.dimensions[0]-u,b,u,T):p.drawRect(b,e.dimensions[1]-u,T,u)),"left"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b+T-u,e.dimensions[0],u):p.drawRect(b+T-u,0,u,e.dimensions[1]))}))):p.lineStyle(u,g,+t[5]||h),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,p.beginFill(v,+t[4]||a),e.isVertical?(p.drawRect(0,b,e.dimensions[0],T),e.rects[r].graphics.hitArea=new d.GLOBALS.PIXI.Rectangle(0,b,e.dimensions[0],T)):(p.drawRect(b,0,T,e.dimensions[1]),e.rects[r].graphics.hitArea=new d.GLOBALS.PIXI.Rectangle(b,0,T,e.dimensions[1])),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<d.MAX_CLICK_DELAY&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}})),(0,r.default)(this.rects).filter((function(e){return e.timeStamp!==m})).forEach((function(e){return p.removeChild(e.graphics)}))}},{key:"setPosition",value:function(e){(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(h.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=p(n(79)),d=n(24),f=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r.pMain=r.pMobile,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=d.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=d.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width/Math.pow(2,r),o=[],a=0;a<t.length;a++)for(var s=a;s<n.length;s++)if(!((s-a-2)*(this._xScale(i)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var l=[r,t[a],n[s]];l.mirrored=!1,o.push(l)}this.setVisibleTiles(o)}}},{key:"initTile",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.delayDrawing||this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,f.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),i=(0,f.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(t.lineStyle(1/this.pMain.scale.x,n,1),t.beginFill(i,.4),t.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,e.tileData.sort){var o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(e.tileData);!(o=(l=u.next()).done);o=!0){var c=l.value,h=this._refXScale(c.xStart),d=this._refXScale(c.xEnd),p=this._refYScale(c.yStart),m=this._refYScale(c.yEnd),v=c.uid;this.drawnRects.has(v)||(this.drawnRects.add(v),t.drawRect(h,p,d-h,m-p),t.pivot.x=this._refXScale(0),t.pivot.y=this._refYScale(0),t.scale.x=-1/Math.sqrt(2),t.rotation=-3*Math.PI/4,t.scale.y=1/Math.sqrt(2),t.position.x=this._refXScale(0),t.position.y=0)}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}}}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1]),this.draw()}},{key:"leftTrackDraw",value:function(){this.draw()}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=p(n(79)),d=n(24),f=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=d.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=d.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}},{key:"initTile",value:function(e){}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,f.colorToHex)("green");t.lineStyle(1,255,1),t.beginFill(n,.8),t.alpha=.5;var i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.tileData);!(i=(s=l.next()).done);i=!0){var u=s.value,c=this._xScale(u.xStart),h=this._xScale(u.xEnd),d=this._yScale(u.yStart),p=this._yScale(u.yEnd),m=u.uid;if(!this.drawnRects.has(m)){this.drawnRects.add(m);var v=p-d,g=h-c,y=(c+h)/2,b=(d+p)/2;v<6&&(v=6),g<6&&(g=6),t.drawRect(y-v/2,b-g/2,v,g)}}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(5)),i=m(n(3)),o=m(n(4)),a=m(n(6)),s=m(n(14)),l=m(n(7)),u=m(n(180)),c=m(n(40)),h=m(n(73)),d=m(n(140)),f=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.dataConfig,l=e.animate,u=e.pubSub;o.searchField=null,o.chromInfo=null,o.animate=l;var c=s.server,f=s.tilesetUid,m=String(c)+"/chrom-sizes/?id="+String(f);return(0,h.default)(m,(function(e){o.chromInfo=e,o.searchField=new d.default(o.chromInfo),o.draw(),o.texts=[];for(var t=0;t<o.chromInfo.cumPositions.length;t++){for(var n=[],r=0;r<o.chromInfo.cumPositions.length;r++){var i=String(o.chromInfo.cumPositions[t].chr)+"/"+String(o.chromInfo.cumPositions[r].chr),a=new p.GLOBALS.PIXI.Text(i,{fontSize:"14px",fontFamily:"Arial",fill:"red"});a.anchor.x=.5,a.anchor.y=.5,a.visible=!1,a.hashValue=Math.random(),n.push(a),o.pMain.addChild(a)}o.texts.push(n)}o.draw(),o.animate()}),u),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){var e=[];if(this.texts&&this.searchField){for(var t=(0,f.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,f.absToChr)(this._xScale.domain()[1],this.chromInfo),r=(0,f.absToChr)(this._yScale.domain()[0],this.chromInfo),i=(0,f.absToChr)(this._yScale.domain()[1],this.chromInfo),o=0;o<this.texts.length;o++)for(var a=0;a<this.texts.length;a++)this.texts[o][a].visible=!1;for(var s=t[3];s<=n[3];s++)for(var l=r[3];l<=i[3];l++){var u=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[l],h=u.pos+this.chromInfo.chromLengths[u.chr]/2,d=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(h),m=this._yScale(d),v=this.texts[s][l];v.x=p,v.y=m,v.updateTransform();var g=v.getBounds(),y=g.width/2,b=g.height/2;p+y>this.dimensions[0]?v.x-=p+y-this.dimensions[0]:p-y<0&&(v.x-=p-y),m+b>this.dimensions[1]?v.y-=m+b-this.dimensions[1]:m-b<0&&(v.y-=m-b),v.visible=!0,e.push({importance:this.texts[s][l].hashValue,text:this.texts[s][l],caption:null})}this.hideOverlaps(e)}}},{key:"hideOverlaps",value:function(e){var t;t=e.map((function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]})),(0,u.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0}))}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(c.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(25)),i=v(n(19)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(14)),c=v(n(7)),h=v(n(40)),d=v(n(73)),f=v(n(140)),p=n(10),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.chromInfoPath,s=e.dataConfig,u=e.animate,c=e.pubSub,h=e.orientation,p=void 0===h?"2d":h,v=e.isOverlay,g=void 0!==v&&v;r.searchField=null,r.chromInfo=null,r.animate=u,r.orientation=p,r.isOverlay=g;var y=i;return y||(y=String(s.server)+"/chrom-sizes/?id="+String(s.tilesetUid)),(0,d.default)(y,(function(e){r.chromInfo=e,r.searchField=new f.default(r.chromInfo),r.texts=[],r.lineGraphics=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dH=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dV=new m.GLOBALS.PIXI.Graphics,r.lineGraphics2d=new m.GLOBALS.PIXI.Graphics,r.mask1dH=new m.GLOBALS.PIXI.Graphics,r.mask1dV=new m.GLOBALS.PIXI.Graphics,r.mask2d=new m.GLOBALS.PIXI.Graphics,r.lineGraphics.addChild(r.lineGraphics1dH),r.lineGraphics1dH.addChild(r.mask1dH),r.lineGraphics.addChild(r.lineGraphics1dV),r.lineGraphics1dV.addChild(r.mask1dV),r.lineGraphics.addChild(r.lineGraphics2d),r.lineGraphics2d.addChild(r.mask2d),r.pMain.addChild(r.lineGraphics),r.draw(),r.animate()}),c),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"drawLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.orientation,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.lineGraphics;this.isOverlay&&"1d-horizontal"===e&&(r=this.lineGraphics1dH),this.isOverlay&&"1d-vertical"===e&&(r=this.lineGraphics1dV),this.isOverlay&&"2d"===e&&(r=this.lineGraphics2d);var i=(0,p.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),o=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;r.lineStyle(o,i,1),"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(0)+t,n),r.lineTo(this._xScale(0)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(0)+n),r.lineTo(this.dimensions[0]+t,this._yScale(0)+n));for(var a=0;a<this.chromInfo.cumPositions.length;a++){var s=this.chromInfo.cumPositions[a],l=s.pos+ +this.chromInfo.chromLengths[s.chr]+1;"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(l)+t,n),r.lineTo(this._xScale(l)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(l)+n),r.lineTo(this.dimensions[0]+t,this._yScale(l)+n))}}},{key:"draw",value:function(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(var e=0;e<this.options.orientationsAndPositions.length;e++){var t=this.options.orientationsAndPositions[e].orientation,n=this.options.orientationsAndPositions[e].position,r=n.left,i=n.top,o=n.width,a=n.height;"1d-horizontal"===t&&this.mask1dH.drawRect(r,i,o,a),"1d-vertical"===t&&this.mask1dV.drawRect(r,i,o,a),"2d"===t&&this.mask2d.drawRect(r,i,o,a),this.drawLines(t,r,i)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"createSvgLine",value:function(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",t),a.setAttribute("y1",n),a.setAttribute("y2",r),a.setAttribute("stroke",i),a.setAttribute("stroke-width",o),a}},{key:"drawLinesSvg",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",s=this.options.lineStrokeWidth;if("2d"===t||"1d-vertical"===t){var l=this._yScale(0);l>0&&l<o+r&&e.appendChild(this.createSvgLine(i,n+i,l+o,l+o,a,s))}if("2d"===t||"1d-horizontal"===t){var u=this._xScale(0);u>0&&u<i+n&&e.appendChild(this.createSvgLine(u+i,u+i,o,r+o,a,s))}for(var c=0;c<this.chromInfo.cumPositions.length;c++){var h=this.chromInfo.cumPositions[c],d=h.pos+ +this.chromInfo.chromLengths[h.chr]+1;if("2d"===t||"1d-vertical"===t){var f=this._yScale(d);f>0&&f<o+r&&e.appendChild(this.createSvgLine(i,n+i,f+o,f+o,a,s))}if("2d"===t||"1d-horizontal"===t){var p=this._xScale(d);p>0&&p<i+n&&e.appendChild(this.createSvgLine(p+i,p+i,o,r+o,a,s))}}}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");if(e.appendChild(l),n.setAttribute("id","ChromosomeGrid"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),!this.chromInfo)return[n,e];if(this.isOverlay)for(var c=0;c<this.options.orientationsAndPositions.length;c++){var h=this.options.orientationsAndPositions[c].orientation,d=this.options.orientationsAndPositions[c].position,f=d.left,p=d.top,m=d.width,v=d.height;this.drawLinesSvg(l,h,m,v,f,p)}else this.drawLinesSvg.apply(this,[l,this.orientation].concat((0,r.default)(this.dimensions)));return[n,e]}}]),t}(h.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=n(9),c=f(n(40)),h=f(n(73)),d=n(11);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.chromInfoPath,l=e.pubSub;return o.pubSub=l,o.rects={},(0,h.default)(s,(function(e){o.chromInfo=e,o.draw()}),o.pubSub),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){var e=this;if(this.chromInfo){var n=this.options.minRectWidth?this.options.minRectWidth:10,i=this.options.minRectWidth?this.options.minRectHeight:10;(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this);var o=this.pMain;o.clear();var a=performance.now();this.options.regions.forEach((function(t){var r=t.slice(0,6).join("-");e.rects[r]||(e.rects[r]={graphics:new d.GLOBALS.PIXI.Graphics},o.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=a;var s=(0,u.color)(t[6]),l=(0,u.color)(t[7]);l||(l=s);var c=d.GLOBALS.PIXI.utils.rgb2hex([s.r/255,s.g/255,s.b/255]),h=d.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);o.lineStyle(1,h,l.opacity),o.beginFill(c,s.opacity);var f=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[1]),p=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[2]),m=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[4]),v=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[5]),g=p-f,y=v-m,b=void 0!==t[8]?t[8]:n,_=void 0!==t[9]?t[9]:i;g<b&&(f=(f+p)/2-b/2,g=b),y<_&&(m=(m+v)/2-_/2,y=_),o.drawRect(f,m,g,y),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,e.rects[r].graphics.hitArea=new d.GLOBALS.PIXI.Rectangle(f,m,g,y),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<300&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}}))}}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n(37)),i=S(n(19)),o=S(n(18)),a=S(n(630)),s=S(n(35)),l=S(n(5)),u=S(n(3)),c=S(n(4)),h=S(n(6)),d=S(n(14)),f=S(n(7)),p=S(n(180)),m=n(28),v=n(20),g=S(n(40)),y=S(n(73)),b=S(n(140)),_=n(10),T=n(11);function S(e){return e&&e.__esModule?e:{default:e}}var k=7829367,w=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n)),i=e.dataConfig,o=e.animate,a=e.chromInfoPath,s=e.isShowGlobalMousePosition;r.searchField=null,r.chromInfo=null,r.dataConfig=i,r.pTicks=new T.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.pTicks),r.gTicks={},r.tickTexts={},r.options=n,r.isShowGlobalMousePosition=s,r.textFontSize=12,r.textFontFamily="Arial",r.textFontColor="#808080",r.textStrokeColor=r.getTheme()===T.THEME_DARK?"#000000":"#ffffff",r.pixiTextConfig={fontSize:+r.options.fontSize?+r.options.fontSize+"px":String(r.textFontSize)+"px",fontFamily:r.textFontFamily,fill:r.options.color||r.textFontColor,lineJoin:"round",stroke:r.options.stroke||r.textStrokeColor,strokeThickness:2},r.stroke=(0,_.colorToHex)(r.pixiTextConfig.stroke),r.tickWidth=200,r.tickHeight=6,r.tickTextSeparation=2,r.tickColor=r.options.tickColor?(0,_.colorToHex)(r.options.tickColor):k,r.animate=o,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,_.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition()));var c=a;return c||(c=String(i.server)+"/chrom-sizes/?id="+String(i.tilesetUid)),(0,y.default)(c,(function(e){r.chromInfo=e,r.searchField=new b.default(r.chromInfo),r.rerender(r.options,!0),r.draw(),r.animate()}),r.pubSub),r}return(0,f.default)(t,e),(0,c.default)(t,[{key:"initBoundsTicks",value:function(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new T.GLOBALS.PIXI.Graphics,this.leftBoundTick=new T.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new T.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}},{key:"initChromLabels",value:function(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new T.GLOBALS.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(var e=0;e<this.chromInfo.cumPositions.length;e++){var t=this.chromInfo.cumPositions[e].chr;this.gTicks[t]=new T.GLOBALS.PIXI.Graphics,this.tickTexts[t]||(this.tickTexts[t]=[]);var n=new T.GLOBALS.PIXI.Text(t,this.pixiTextConfig);n.hashValue=Math.random(),this.pTicks.addChild(n),this.pTicks.addChild(this.gTicks[t]),this.texts.push(n)}}}},{key:"rerender",value:function(e,n){var r=(0,s.default)(e);(n||r!==this.prevOptions)&&(this.prevOptions=r,this.options=e,this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=(0,_.colorToHex)(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?(0,_.colorToHex)(this.options.tickColor):k,"ends"===this.options.tickPositions?this.initBoundsTicks():this.initChromLabels(),(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"rerender",this).call(this,e,n),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,_.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"formatTick",value:function(e){var t=this._xScale.domain(),n=t[1]-t[0],r=(0,v.precisionPrefix)(e,n),i=(0,v.format)(","),o=(0,v.formatPrefix)(",."+String(r),n),a=i;return"si"===this.options.tickFormat?a=o:"plain"===this.options.tickFormat?a=i:"ends"===this.options.tickPositions&&(a=o),a(e)}},{key:"drawBoundsTicks",value:function(e,t){var n=this.gBoundTicks;n.clear(),n.lineStyle(1,0);var r=this.options.reverseOrientation?0:this.dimensions[1],i=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;n.moveTo(1,r),n.lineTo(1,i),n.moveTo(this.dimensions[0]-1,r),n.lineTo(this.dimensions[0]-1,i),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.leftBoundTick.text=String(e[0])+": "+String(this.formatTick(e[1])),this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=String(t[0])+": "+String(this.formatTick(t[1])),this.rightBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}},{key:"drawTicks",value:function(e){var t=this.gTicks[e.chr];t.visible=!0,t.clear();var n=+this.chromInfo.chromLengths[e.chr],r=Math.max(this._xScale(e.pos),0),i=Math.min(this._xScale(e.pos+n),this.dimensions[0]),o=(i-r)/this.tickWidth,s=(0,m.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-e.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-e.pos)]).range(r,i).ticks(o).filter((function(e){return(0,a.default)(e)})),l=this.tickTexts[e.chr],u=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,c=this.flipText?-1:1,h=this.options.fontIsLeftAligned?4*c:0,d=this.options.fontIsLeftAligned?0:u+this.tickTextSeparation;for(this.options.reverseOrientation&&(d=this.dimensions[1]-d);l.length<s.length;){var f=new T.GLOBALS.PIXI.Text("",this.pixiTextConfig);l.push(f),this.gTicks[e.chr].addChild(f)}for(;l.length>s.length;){var p=l.pop();this.gTicks[e.chr].removeChild(p)}for(var v=0;v<s.length;){l[v].visible=!0,l[v].anchor.x=this.options.fontIsLeftAligned?0:.5,l[v].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(l[v].scale.x=-1),l[v].x=this._xScale(e.pos+s[v])+h,l[v].y=this.dimensions[1]-d,l[v].text=0===s[v]?String(e.chr)+": 1":String(e.chr)+": "+String(this.formatTick(s[v]));var g=this._xScale(e.pos+s[v]);l[v].tickLine=[g-1,this.dimensions[1],g-1,this.dimensions[1]-u-1];var y=this.options.reverseOrientation?0:this.dimensions[1],b=this.options.reverseOrientation?u:this.dimensions[1]-u;t.lineStyle(1,this.stroke),t.moveTo(g-1,y),t.lineTo(g-1,b-1),this.options.fontIsLeftAligned?(t.lineTo(g+2*c+1*c,b-1),t.lineTo(g+2*c+1*c,b+1),t.lineTo(g+1,b+1)):t.lineTo(g+1,b-1),t.lineTo(g+1,y),t.lineStyle(1,this.tickColor),t.moveTo(g,y),t.lineTo(g,b),this.options.fontIsLeftAligned&&t.lineTo(g+2*c,b),v+=1}for(;v<l.length;)l[v].visible=!1,v+=1;return s.length}},{key:"draw",value:function(){var e=this;if(this.allTexts=[],this.texts&&this.searchField){var t=(0,_.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,_.absToChr)(this._xScale.domain()[1],this.chromInfo);if(t&&n){if("ends"===this.options.tickPositions){if(!this.gBoundTicks)return;return this.gBoundTicks.visible=!0,void this.drawBoundsTicks(t,n)}if(this.pTicks){for(var r=0;r<this.texts.length;r++)this.texts[r].visible=!1,this.gTicks[this.chromInfo.cumPositions[r].chr].visible=!1;var i=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(i=this.dimensions[1]-i),(0,o.default)(this.chromInfo.chrPositions).forEach((function(t){if(e.tickTexts[t])for(var n=0;n<e.tickTexts[t].length;n++)e.tickTexts[t][n].visible=!1}));for(var a=t[3];a<=n[3];a++){var s=this.chromInfo.cumPositions[a],l=s.pos+this.chromInfo.chromLengths[s.chr]/2,u=this._xScale(l),c=this.texts[a];c.anchor.x=this.options.fontIsLeftAligned?0:.5,c.anchor.y=this.options.reverseOrientation?0:1,c.x=u,c.y=this.dimensions[1]-i,c.updateTransform(),this.flipText&&(c.scale.x=-1);var h=this.drawTicks(s);c.visible=h<=0,this.allTexts.push({importance:c.hashValue,text:c,caption:null})}this.hideOverlaps(this.allTexts)}}else console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo)}}},{key:"hideOverlaps",value:function(e){var t;t=e.map((function(e,t){var n=e.text;n.updateTransform();var r=n.getBounds();return[r.x,r.y,r.x+r.width,r.y+r.height]})),(0,p.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=!1:e[t].text.visible=!1}))}},{key:"setPosition",value:function(e){(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"exportSVG",value:function(){var e=this,n=null,o=null;if((0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"exportSVG",this)){var a=(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);o=s[0],n=s[1]}else n=o=document.createElement("g");o.setAttribute("class","chromosome-labels");var u=document.createElement("g");return n.appendChild(u),u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(e){var t=(0,_.pixiTextToSvg)(e.text);u.appendChild(t)})),(0,r.default)(this.tickTexts).forEach((function(t){t.filter((function(e){return e.visible})).forEach((function(t){var n=(0,_.pixiTextToSvg)(t);u.appendChild(n),n=(0,_.svgLine)(t.x,e.options.reverseOrientation?0:e.dimensions[1],t.x,e.options.reverseOrientation?e.tickHeight:e.dimensions[1]-e.tickHeight,1,e.tickColor);var r=document.createElement("line");r.setAttribute("x1",t.tickLine[0]),r.setAttribute("y1",t.tickLine[1]),r.setAttribute("x2",t.tickLine[2]),r.setAttribute("y2",t.tickLine[3]),r.setAttribute("style","stroke: grey"),u.appendChild(n),u.appendChild(r)}))})),[o,n]}}]),t}(g.default);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(17)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),h=m(n(135)),d=n(24),f=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate;return r.pMain=r.pMobile,r.colorScale=p.HEATED_OBJECT_MAP,r.continuousScaling=!1,n&&n.colorRange&&(r.colorScale=(0,f.colorDomainToRgbaArray)(n.colorRange)),r.animate=i,r.options=n,r.pubSubs=[],r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(e,n){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}},{key:"calculateZoomLevel",value:function(){var e=null;if(this.tilesetInfo.resolutions){var t=d.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=d.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.min(t,n)}else{var r=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),i=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.max(r,i),e=Math.min(e,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?e=Math.min(this.options.maxZoom,e):console.error("Invalid maxZoom on track:",this)),e}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();if(e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=d.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=d.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=d.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=d.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=this.tilesetInfo.max_width/Math.pow(2,i),a=[],s=0;s<n.length;s++)for(var l=s;l<r.length;l++)if(!((l-s-2)*(this._xScale(o)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var u=[i,n[s],r[l]];u.mirrored=!1,u.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",a.push(u)}this.setVisibleTiles(a)}}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"setSpriteProperties",value:function(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=o+i.tileWidth,l=a+i.tileHeight;e.width=this._refXScale(s)-this._refXScale(o),e.height=this._refYScale(l)-this._refYScale(a),e.x=this._refXScale(o),e.y=this._refYScale(a)}},{key:"pixDataFunction",value:function(e,t){if(t){var n=e.graphics,r=this.tileDataToCanvas(t.pixData),i="4"===p.GLOBALS.PIXI.VERSION[0]?p.GLOBALS.PIXI.Texture.fromCanvas(r,p.GLOBALS.PIXI.SCALE_MODES.NEAREST):p.GLOBALS.PIXI.Texture.from(r,{scaleMode:p.GLOBALS.PIXI.SCALE_MODES.NEAREST});e.sprite=new p.GLOBALS.PIXI.Sprite(i),e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.pivot.x=this._refXScale(0),n.pivot.y=this._refYScale(0),n.scale.x=-1/Math.sqrt(2),n.rotation=-3*Math.PI/4,n.scale.y=1/Math.sqrt(2),n.position.x=this._refXScale(0),n.position.y=0,n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored);var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1])}},{key:"leftTrackDraw",value:function(){this.draw()}},{key:"exportSVG",value:function(){var e,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,i.default)(a,2);e=s[0],n=s[1];var l=document.createElement("g");n.appendChild(l),l.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var c=!0,h=!1,d=void 0;try{for(var f,p=(0,r.default)(this.visibleAndFetchedTiles());!(c=(f=p.next()).done);c=!0){var m=f.value,v=document.createElement("g"),g=m.graphics,y=180*g.rotation/Math.PI,b="translate("+String(g.position.x)+","+String(g.position.y)+") rotate("+y+") scale("+String(g.scale.x)+","+String(g.scale.y)+") translate("+-g.pivot.x+","+-g.pivot.y+")";v.setAttribute("transform",b);var _=180*m.sprite.rotation/Math.PI,T=document.createElement("g");T.setAttribute("transform","translate("+String(m.sprite.x)+","+String(m.sprite.y)+") rotate("+_+") scale("+String(m.sprite.scale.x)+","+String(m.sprite.scale.y)+")");var S=document.createElement("image");S.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m.canvas.toDataURL()),S.setAttribute("width",256),S.setAttribute("height",256),T.appendChild(S),v.appendChild(T),l.appendChild(v)}}catch(e){h=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(h)throw d}}var k=this.exportColorBarSVG();return n.appendChild(k),[e,e]}}]),t}(h.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(30)),i=m(n(25)),o=m(n(18)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(7)),h=n(28),d=m(n(116)),f=m(n(179)),p=n(10);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n));return r.axis=new f.default(r),r.pBase.addChild(r.axis.pAxis),r}return(0,c.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(e){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(e)}},{key:"drawTile",value:function(e){var t=this;if(e.graphics){var n=e.graphics;n.clear(),this.valueScale=(0,h.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-3,3]);var r=(0,p.colorToHex)("black");n.lineStyle(1,r,.3),n.beginFill(r,.3),this.drawAxis(this.valueScale),e.tileData.forEach((function(e){var r=e.fields,i=+e.chrOffset,o=+r[1]+i,a=+r[2]+i,s=+r[3],l=t._xScale(o),u=t._xScale(a),c=Math.max(u-l,4),h=t.valueScale(s),d=(u+l)/2;n.drawRect(d-c/2,h-3,c,6)}))}}},{key:"minVisibleValueInTiles",value:function(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.min.apply(null,t.map((function(t){return+Math.min.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}},{key:"maxVisibleValueInTiles",value:function(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.max.apply(null,t.map((function(t){return+Math.max.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(14)),l=d(n(7)),u=d(n(26)),c=n(83),h=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,h=e.setDomainsCallback,d=u.default.nice();return o.uid=d,o.options=n,o.hasFromView=!e.projectionXDomain||!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=h,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,c.brush)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),s(d,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=h.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.hasFromView||(this.viewportXDomain=t,this.viewportYDomain=n),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[[this._xScale(this.viewportXDomain[0]),this._yScale(this.viewportYDomain[0])],[this._xScale(this.viewportXDomain[1]),this._yScale(this.viewportYDomain[1])]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0],a=i[1]-i[0];this.brush.extent([[n[0]-o,i[0]-a],[n[1]+o,i[1]+a]]),this.gBrush.call(this.brush),this.draw()}}]),t}(d(n(80)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(14)),l=d(n(7)),u=n(83),c=n(0),h=d(n(26));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,d=h.default.nice();return o.uid=d,o.options=n,o.hasFromView=!e.projectionXDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:[0,0],o.brush=(0,u.brushX)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),s(d,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0]),this._xScale.invert(e[1])],n=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=t),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._xScale(this.viewportXDomain[0]),this._xScale(this.viewportXDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0];this.brush.extent([[n[0]-o,i[0]],[n[1]+o,i[1]]]),this.gBrush.call(this.brush),this.draw()}}]),t}(d(n(80)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(14)),l=d(n(7)),u=n(83),c=n(0),h=d(n(26));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,d=h.default.nice();return o.uid=d,o.options=n,o.hasFromView=!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:[0,0],o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,u.brushY)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),s(d,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=this.viewportXDomain,n=[this._yScale.invert(e[0]),this._yScale.invert(e[1])];this.hasFromView||(this.viewportYDomain=n),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._yScale(this.viewportYDomain[0]),this._yScale(this.viewportYDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=i[1]-i[0];this.brush.extent([[n[0],i[0]-o],[n[1],i[1]+o]]),this.gBrush.call(this.brush),this.draw()}}]),t}(d(n(80)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),h=p(n(40)),d=p(n(261)),f=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.HorizontalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawHorizontalRule",value:function(e){var t=(0,f.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,f.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}}]),t}(e)})),v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.yPosition=e.yPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"mouseMoveHandler",value:function(e){if(this.isWithin(e.x,e.y)&&this.isMouseOverHorizontalLine(e))return this.highlighted=!0,void this.draw();this.highlighted=!1,this.draw()}},{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.animate()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","horizontal-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",0),c.setAttribute("y1",this._yScale(this.yPosition)),c.setAttribute("x2",this.dimensions[0]),c.setAttribute("y2",this._yScale(this.yPosition)),l.appendChild(c),[n,e]}}]),t}((0,c.mix)(h.default).with(d.default,m));t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(19)),i=m(n(5)),o=m(n(3)),a=m(n(4)),s=m(n(6)),l=m(n(14)),u=m(n(7)),c=n(10),h=n(81),d=m(n(40)),f=m(n(261)),p=n(262);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n)),a=e.x,l=e.y;return r.xPosition=a,r.yPosition=l,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.drawVerticalRule(e)}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&(this.isMouseOverHorizontalLine(e)||this.isMouseOverVerticalLine(e)),this.draw()}},{key:"drawHorizontalRule",value:function(e){var t=(0,c.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,c.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this)){var o=(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);n=a[0],e=a[1]}else e=n=document.createElement("g");var s=document.createElement("g");s.setAttribute("class","cross-rule"),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(s);var u=this.options.color||"black",c=document.createElement("line");c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]);var h=document.createElement("line");return h.setAttribute("stroke",u),h.setAttribute("stroke-width",this.strokeWidth),h.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),h.setAttribute("x1",0),h.setAttribute("y1",this._yScale(this.yPosition)),h.setAttribute("x2",this.dimensions[0]),h.setAttribute("y2",this._yScale(this.yPosition)),s.appendChild(c),s.appendChild(h),[n,e]}}]),t}((0,h.mix)(d.default).with(f.default,p.VerticalRuleMixin));t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(254);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initTile",value:function(e){u.initTile.bind(this)(e),this.drawTile(e)}},{key:"drawTile",value:function(e){u.drawTile.bind(this)(e)}},{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}},{key:"draw",value:function(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this)}}]),t}(c(n(141)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.accessToken||(o.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",o.drawError()),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"rerender",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"rerender",this).call(this,e),e.style!==this.style&&(this.style=e.style,this.removeAllTiles(),this.refreshTiles())}},{key:"getTileUrl",value:function(e){var t=this.options&&this.options.style?this.options.style:"streets-v10",n=this.options&&+this.options.tileSize?+this.options.tileSize:256;return"https://api.mapbox.com/styles/v1/mapbox/"+String(t)+"/tiles/"+n+"/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+"?access_token="+String(this.options.accessToken)}}]),t}(u(n(141)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.tileSource||(o.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",o.drawError()),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getTileUrl",value:function(e){var t=this.options.tileSource.replace("{z}",e[0]);return t=(t=t.replace("{x}",e[1])).replace("{y}",e[2])}}]),t}(l(n(141)).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(383)),i=s(n(389)),o=s(n(245)),a=n(11);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var s=n[e.type];return s?new s.dataFetcher(a.AVAILABLE_FOR_PLUGINS,e,t):"genbank"===e.type?new r.default(e,t):"local-tiles"===e.type?new i.default(e,t):new o.default(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(25)),i=f(n(30)),o=f(n(17)),a=f(n(62)),s=f(n(19)),l=f(n(3)),u=f(n(4)),c=f(n(26)),h=f(n(643)),d=f(n(652));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=[];if(!e.length)return[];for(var r=e[0].start,i=e[0].end,o=1;o<e.length;o++)e[o].start<i+5/t?i=Math.max(i,e[o].end):(n.push({type:"filler",start:r,end:i}),r=e[o].start,i=e[o].end);return n.push({start:r,end:i,type:"filler"}),n}var m=function(e){var t=(0,d.default)(e),n=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}(t[0].features.filter((function(e){return"source"!==e.type})).sort((function(e,t){return e.start-t.start})));return[t,n]},v=function(){function e(t){var n=this;if((0,l.default)(this,e),this.dataConfig=t,this.trackUid=c.default.nice(),t.url){var r=".gz"===t.url.slice(t.url.length-3);this.errorTxt="",this.dataPromise=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then((function(e){return r?e.arrayBuffer():e.text()})).then((function(e){var t=r?h.default.inflate(e,{to:"string"}):e,i=m(t),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1]}))}else t.text&&(this.dataPromise=new a.default((function(e,r){var i=m(t.text),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1],e()})))}return(0,u.default)(e,[{key:"tilesetInfo",value:function(e){var t=this;return this.tilesetInfoLoading=!0,this.dataPromise.then((function(){var n;return t.tilesetInfoLoading=!1,n={tile_size:1024,max_zoom:Math.ceil(Math.log(t.gbJson[0].size/1024)/Math.log(2)),max_width:t.gbJson[0].size,min_pos:[0],max_pos:[t.gbJson[0].size]},e&&e(n),n})).catch((function(n){t.tilesetInfoLoading=!1,e&&e({error:"Error parsing genbank: "+String(n)})}))}},{key:"fetchTilesDebounced",value:function(e,t){var n={},r=[],s=[],l=!0,u=!1,c=void 0;try{for(var h,d=(0,o.default)(t);!(l=(h=d.next()).done);l=!0){var f=h.value,p=f.split("."),m=parseInt(p[0],10),v=parseInt(p[1],10);(0,i.default)(v)||(0,i.default)(m)?console.warn("Invalid tile zoom or position:",m,v):(r.push(f),s.push(this.tile(m,v)))}}catch(e){u=!0,c=e}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}return a.default.all(s).then((function(t){for(var i=0;i<t.length;i++){var o=r[i];n[o]=t[i],n[o].tilePositionId=o}e(n)})),n}},{key:"tile",value:function(e,t){var n=this;return this.tilesetInfo().then((function(i){var o=+i.max_width/Math.pow(2,+e),a=i.min_pos[0]+t*o,s=i.min_pos[0]+(t+1)*o,l=n.cdss.filter((function(e){return e.end>a&&e.start<s})),u=1024/Math.pow(2,i.max_zoom-e),h=p(l.filter((function(e){return 1===e.strand})),u),d=p(l.filter((function(e){return 1!==e.strand})),u);h.forEach((function(e){e.strand="+"})),d.forEach((function(e){e.strand="-"}));for(var f=[],m=0;m<n.cdss.length&&!(f.length>=20);m++)n.cdss[m].end>=a&&n.cdss[m].start<=s&&f.push(n.cdss[m]);return(f=[].concat((0,r.default)(f),(0,r.default)(h),(0,r.default)(d))).map((function(e){return n=(t=e).end-t.start,r=1===t.strand?"+":"-",i=c.default.nice(),"filler"===t.type?{xStart:t.start,xEnd:t.end,strand:t.strand,fields:[],type:"filler",uid:i}:{xStart:t.start,xEnd:t.end,strand:r,chrOffset:0,importance:t.end-t.start,uid:i,type:t.type,fields:["chrom",t.start,t.end,t.name,n,r,"","",t.type,t.name,t.start.toString(),t.end.toString(),t.start.toString(),t.end.toString()]};var t,n,r,i}))}))}}]),e}();t.default=v},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(82),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(18)),i=u(n(17)),o=u(n(37)),a=u(n(3)),s=u(n(4)),l=n(182);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,a.default)(this,e),this.dataConfig=t,this.tilesetInfoData=(0,o.default)(this.dataConfig.tilesetInfo)[0]}return(0,s.default)(e,[{key:"tilesetInfo",value:function(e){this.tilesetInfoLoading=!1,e(this.tilesetInfoData)}},{key:"fetchTilesDebounced",value:function(e,t){this.tilesData={};var n=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)((0,r.default)(this.dataConfig.tiles));!(n=(s=u.next()).done);n=!0){var c=s.value,h=c.split("."),d="localtile."+String(h.slice(1).join("."));this.tilesData[d]=this.dataConfig.tiles[c]}}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}var f={},p=t.map((function(e){return"localtile."+String(e)}));(0,l.tileResponseToData)(this.tilesData,"",p);var m=!0,v=!1,g=void 0;try{for(var y,b=(0,i.default)(t);!(m=(y=b.next()).done);m=!0){var _=y.value;f[_]=this.tilesData["localtile."+String(_)]}}catch(e){v=!0,g=e}finally{try{!m&&b.return&&b.return()}finally{if(v)throw g}}e(f)}},{key:"tile",value:function(e,t){}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(1)),u=n(81),c=d(n(663)),h=n(183);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.Mixin)((function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){var e=this;if(this.state.submenuShown){var t=this.state.submenuSourceBbox,n=null;n="left"===this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top};var r=(0,h.getAllTracksAndSubtracks)(this.props.tracks).filter((function(t){return t.uid===e.state.submenuShown.uid}))[0],i=r&&!("whole"===r.position);return l.default.createElement(c.default,{key:"series-list-menu-"+String(r.uid),ref:function(t){e.seriesListMenu=t},closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:i?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){return e.props.onCloseTrack(e.state.submenuShown.uid)},onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:t,position:n,series:this.state.submenuShown,theme:this.props.theme,track:r,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return l.default.createElement("div",null)}}]),t}(e)}));t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(29)),u=f(n(1)),c=f(n(96)),h=f(n(67)),d=n(11);function f(e){return e&&e.__esModule?e:{default:e}}n(68);var p={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},m=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,n="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},r=this.state.submenuShown;return u.default.createElement(t,{menuItems:r.children,orientation:this.state.orientation,parentBbox:e,position:n,theme:this.props.theme})}return u.default.createElement("div",null)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=[],n=function(n){var r=e.props.menuItems[n];t.push(u.default.createElement(h.default,{key:n,onClick:r.handler?r.handler:function(){return null},onMouseEnter:r.children?function(t){return e.handleItemMouseEnter(t,r)}:e.handleOtherMouseEnter.bind(e),onMouseLeave:e.handleMouseLeave},r.name,r.children&&u.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},u.default.createElement("use",{xlinkHref:"#play"}))))};for(var r in this.props.menuItems)n(r);var i="context-menu";return this.props.theme===d.THEME_DARK&&(i+=" context-menu-dark"),u.default.createElement("div",{ref:function(t){e.div=t},style:{left:this.state.left,top:this.state.top},className:(0,l.default)(i,p)},t,this.getSubmenu())}}]),t}(c.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(5)),i=T(n(3)),o=T(n(4)),a=T(n(6)),s=T(n(7)),l=T(n(29)),u=T(n(2)),c=T(n(1)),h=n(83),d=n(0),f=T(n(26)),p=T(n(393)),m=T(n(665)),v=T(n(395)),g=n(10),y=n(11),b=(T(n(669)),T(n(176))),_=T(n(175));function T(e){return e&&e.__esModule?e:{default:e}}var S={styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},k=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,h.brushX)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t):this.props.rangeSelection===e.rangeSelection||(this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,e.rangeSelectionEnd),this.state!==t)}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(d.event.selection))}},{key:"brushStarted",value:function(){this.sourceEvent&&d.event.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,d.event.selection&&d.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(d.event.selection)),d.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}},{key:"moveBrush",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return e.height})).reduce(g.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"horizontal-tiled-plot HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},n&&c.default.createElement("svg",{ref:function(t){e.brushEl=(0,d.select)(t)},style:{height:t,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,S)}),c.default.createElement(p.default,{className:String(b.default.list)+" "+String(b.default.stylizedList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:t,helperClass:b.default.stylizedHelper,itemClass:b.default.stylizedItem,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||f.default.nice(),width:e.props.width,height:t.height,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}},{key:"sourceEvent",get:function(){return d.event&&d.event.sourceEvent}}]),t}(c.default.Component);k.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,width:u.default.number},t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(34)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(7)),u=d(n(2)),c=d(n(1)),h=n(125);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){var n=e.items;(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return r.state={items:n,isSorting:!1},r}return(0,l.default)(t,e),(0,a.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({items:e.items})}},{key:"onSortStart",value:function(e,t){e.node;var n=e.index;e.collection,t.stopImmediatePropagation();var r=this.props.onSortStart;this.setState({isSorting:!0}),r&&r(this.ref),this.sortingIndex=n,this.sortStartTop=t.offsetTop,this.sortStartLeft=t.offsetLeft}},{key:"onSortMove",value:function(){}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,r=this.props.onSortEnd,i=this.state.items;this.setState({items:(0,h.arrayMove)(i,t,n),isSorting:!1}),r&&r(this.state.items),this.sortingIndex=null}},{key:"render",value:function(){var e=this,t=this.props.component,n=this.state,i=n.items,o={isSorting:n.isSorting,items:i,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return c.default.createElement(t,(0,r.default)({},this.props,o,{ref:function(t){e.ref=t}}))}}]),t}(c.default.Component);f.propTypes={axis:u.default.string,className:u.default.string,component:u.default.func,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,height:u.default.number,helperClass:u.default.string,itemClass:u.default.string,itemControlAlignLeft:u.default.bool,itemReactClass:u.default.func,items:u.default.array,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onSortEnd:u.default.func,onSortStart:u.default.func,referenceAncestor:u.default.string,resizeHandles:u.default.object,useDragHandle:u.default.bool,width:u.default.number},f.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=h(n(265)),c=h(n(174));function h(e){return e&&e.__esModule?e:{default:e}}var d={pointerEvents:"all"},f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(e){return l.default.createElement(c.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:d,imgStyleClose:d,imgStyleMove:d,imgStyleSettings:d,isMoveable:this.moveable,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),t}(u.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(34)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n(125).SortableContainer)((function(e){var t=e.className,n=e.items,o=e.itemClass,a=e.itemControlAlignLeft,s=e.sortingIndex,l=e.useDragHandle,u=e.sortableHandlers,c=e.height,h=e.width,d=e.onCloseTrack,f=e.onCloseTrackMenuOpened,p=e.onConfigTrackMenuOpened,m=e.onAddSeries,v=e.handleConfigTrack,g=e.editable,y=e.itemReactClass,b=e.handleResizeTrack,_=e.resizeHandles,T=n.map((function(e,t){return i.default.createElement(y,{key:"sci-"+String(e.uid),className:o,controlAlignLeft:a,sortingIndex:s,index:t,uid:e.uid,height:e.height,width:e.width,item:e,useDragHandle:l,onCloseTrack:d,onCloseTrackMenuOpened:f,onConfigTrackMenuOpened:p,onAddSeries:m,handleConfigTrack:v,editable:g,handleResizeTrack:b,resizeHandles:_})}));return i.default.createElement("div",(0,r.default)({className:t,style:{height:c,width:h,background:"transparent"}},u),T)}));t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=h(n(265)),c=h(n(174));function h(e){return e&&e.__esModule?e:{default:e}}var d={pointerEvents:"all"},f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(e){return l.default.createElement(c.default,{imgStyleAdd:d,imgStyleClose:d,imgStyleMove:d,imgStyleSettings:d,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),t}(u.default);t.default=f},function(e,t,n){"use strict";var r=n(690),i=n(268),o=n(694),a=n(398),s=n(399),l=n(695),u=n(696),c=n(717),h=n(117);e.exports=g,g.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);!0!==n.$async&&(this.errors=n.errors);return i},g.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},g.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return k(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,n,r,!0),this},g.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},g.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(p)?p:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},g.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,l=n.baseId,u=r.call(e,o,s,void 0,l);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:l,validate:u}),u}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},g.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},g.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)},g.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,l=this._cache.get(s);if(l)return l;r=r||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&r&&k(this,u);var c,h=!1!==this._opts.validateSchema&&!t;h&&!(c=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=i.ids.call(this,e),f=new a({id:u,schema:e,localRefs:d,cacheKey:s,meta:n});"#"!=u[0]&&r&&(this._refs[u]=f);this._cache.put(s,f),h&&c&&this.validateSchema(e,!0);return f},g.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},g.prototype.compileAsync=n(718);var d=n(719);g.prototype.addKeyword=d.add,g.prototype.getKeyword=d.get,g.prototype.removeKeyword=d.remove,g.prototype.validateKeyword=d.validate;var f=n(270);g.ValidationError=f.Validation,g.MissingRefError=f.MissingRef,g.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=h.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:w,warn:w,error:w};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return S;case"id":return _;default:return T}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=h.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),function(e){var t;e._opts.$data&&(t=n(721),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=n(405);e._opts.$data&&(r=c(r,v));e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function T(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function S(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function k(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function w(){}},function(e,t,n){"use strict";var r=n(117);e.exports=function(e){r.copy(e,this)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var u=e.level,c=e.dataLevel,h=e.schema[t],d=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m="data"+(c||""),v="valid"+u;if(!1===e.schema){e.isTop?p=!0:r+=" var "+v+" = false; ",(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var g=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+v+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;u=e.level=0,c=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{u=e.level,m="data"+((c=e.dataLevel)||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}v="valid"+u,p=!e.opts.allErrors;var _="",T="",S=e.schema.type,k=Array.isArray(S);if(S&&e.opts.nullable&&!0===e.schema.nullable&&(k?-1==S.indexOf("null")&&(S=S.concat("null")):"null"!=S&&(S=[S,"null"],k=!0)),k&&1==S.length&&(S=S[0],k=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),S){if(e.opts.coerceTypes)var w=e.util.coerceToTypes(e.opts.coerceTypes,S);var x=e.RULES.types[S];if(w||k||!0===x||x&&!Q(x)){d=e.schemaPath+".type",f=e.errSchemaPath+"/type",d=e.schemaPath+".type",f=e.errSchemaPath+"/type";var E=k?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[E](S,m,!0)+") { ",w){var C="dataType"+u,O="coerced"+u;r+=" var "+C+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+C+" == 'object' && Array.isArray("+m+")) "+C+" = 'array'; "),r+=" var "+O+" = undefined; ";var A="",M=w;if(M)for(var P,I=-1,L=M.length-1;I<L;)P=M[I+=1],I&&(r+=" if ("+O+" === undefined) { ",A+="}"),"array"==e.opts.coerceTypes&&"array"!=P&&(r+=" if ("+C+" == 'array' && "+m+".length == 1) { "+O+" = "+m+" = "+m+"[0]; "+C+" = typeof "+m+";  } "),"string"==P?r+=" if ("+C+" == 'number' || "+C+" == 'boolean') "+O+" = '' + "+m+"; else if ("+m+" === null) "+O+" = ''; ":"number"==P||"integer"==P?(r+=" if ("+C+" == 'boolean' || "+m+" === null || ("+C+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==P&&(r+=" && !("+m+" % 1)"),r+=")) "+O+" = +"+m+"; "):"boolean"==P?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+O+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+O+" = true; ":"null"==P?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+O+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(r+=" if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+m+" == null) "+O+" = ["+m+"]; ");r+=" "+A+" if ("+O+" === undefined) {   ",(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",r+=k?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var R=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+O+"; ",c||(r+="if ("+R+" !== undefined)"),r+=" "+R+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+O+"; } "}else{(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",r+=k?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",T+="}");else{var D=e.RULES;if(D)for(var N=-1,j=D.length-1;N<j;)if(Q(x=D[N+=1])){if(x.type&&(r+=" if ("+e.util.checkDataType(x.type,m)+") { "),e.opts.useDefaults)if("object"==x.type&&e.schema.properties){h=e.schema.properties;var H=Object.keys(h);if(H)for(var B,F=-1,z=H.length-1;F<z;){if(void 0!==(G=h[B=H[F+=1]]).default){var V=m+e.util.getProperty(B);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+V;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}}else if("array"==x.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){I=-1;for(var G,Y=U.length-1;I<Y;)if(void 0!==(G=U[I+=1]).default){V=m+"["+I+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+V;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}}var W=x.rules;if(W)for(var q,X=-1,K=W.length-1;X<K;)if(J(q=W[X+=1])){var $=q.code(e,q.keyword,x.type);$&&(r+=" "+$+" ",p&&(_+="}"))}if(p&&(r+=" "+_+" ",_=""),x.type&&(r+=" } ",S&&S===x.type&&!w)){r+=" else { ";var Z;d=e.schemaPath+".type",f=e.errSchemaPath+"/type";(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",r+=k?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}p&&(r+=" if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",T+="}")}}function Q(e){for(var t=e.rules,n=0;n<t.length;n++)if(J(t[n]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return p&&(r+=" "+T+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+v+" = errors === errs_"+u+";",r=e.util.cleanUpCode(r),y&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var f="maximum"==t,p=f?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],v=e.opts.$data&&m&&m.$data,g=f?"<":">",y=f?">":"<",b=void 0;if(v){var _=e.util.getData(m.$data,a,e.dataPathArr),T="exclusive"+o,S="exclType"+o,k="exclIsNumber"+o,w="' + "+(C="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+_+"; ",i+=" var "+T+"; var "+S+" = typeof "+(_="schemaExcl"+o)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ";var x;b=p;(x=x||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var E=i;i=x.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+S+" == 'number' ? ( ("+T+" = "+r+" === undefined || "+_+" "+g+"= "+r+") ? "+h+" "+y+"= "+_+" : "+h+" "+y+" "+r+" ) : ( ("+T+" = "+_+" === true) ? "+h+" "+y+"= "+r+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { var op"+o+" = "+T+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=p,u=e.errSchemaPath+"/"+p,r=_,d=v)}else{w=g;if((k="number"==typeof m)&&d){var C="'"+w+"'";i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+g+"= "+r+" ? "+h+" "+y+"= "+m+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { "}else{k&&void 0===s?(T=!0,b=p,u=e.errSchemaPath+"/"+p,r=m,y+="="):(k&&(r=Math[f?"min":"max"](m,s)),m===(!k||r)?(T=!0,b=p,u=e.errSchemaPath+"/"+p,y+="="):(T=!1,w+="="));C="'"+w+"'";i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+" "+y+" "+r+" || "+h+" !== "+h+") { "}}b=b||t,(x=x||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+C+", limit: "+r+", exclusive: "+T+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+w+" ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";E=i;return i=x.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var f=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var f="maxLength"==t?">":"<";i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+f+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var f=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(27))},function(e,t,n){var r=n(408),i=n(119);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(735)();e.exports=r},function(e,t,n){var r=n(736),i=n(184),o=n(31),a=n(185),s=n(142),l=n(273),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),d=!n&&!c&&!h&&l(e),f=n||c||h||d,p=f?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(143);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(97),i=n(278),o=n(56),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(770),i=n(56);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(771),i=n(417),o=n(774);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var d=l.get(e);if(d&&l.get(t))return d==t;var f=-1,p=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var v=e[f],g=t[f];if(a)var y=u?a(g,v,f,t,e,l):a(v,g,f,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){p=!1;break}}else if(v!==g&&!s(v,g,n,a,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(41).Uint8Array;e.exports=r},function(e,t,n){var r=n(420),i=n(282),o=n(119);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(281),i=n(31);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(99)(n(41),"WeakMap");e.exports=r},function(e,t,n){var r=n(45);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(790),i=n(791);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(99),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){(function(e){var r=n(41),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(173)(e))},function(e,t,n){var r=n(281),i=n(278),o=n(282),a=n(421),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(288);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(197),i=n(278),o=n(186);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(287),i=n(120);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(292),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(45),i=n(837),o=n(436),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,h,d,f,p=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,p=t,h=e.apply(r,n)}function b(e){return p=e,d=setTimeout(T,t),m?y(e):h}function _(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-p>=c}function T(){var e=i();if(_(e))return S(e);d=setTimeout(T,function(e){var n=t-(e-f);return v?s(n,c-(e-p)):n}(e))}function S(e){return d=void 0,g&&l?y(e):(l=u=void 0,h)}function k(){var e=i(),n=_(e);if(l=arguments,u=this,f=e,n){if(void 0===d)return b(f);if(v)return clearTimeout(d),d=setTimeout(T,t),y(f)}return void 0===d&&(d=setTimeout(T,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=f=u=d=void 0},k.flush=function(){return void 0===d?h:S(i())},k}},function(e,t,n){var r=n(45),i=n(194),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),s=u(n(435)),l=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return i})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return a})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return u})),n.d(t,"cyan",(function(){return c})),n.d(t,"teal",(function(){return h})),n.d(t,"green",(function(){return d})),n.d(t,"lightGreen",(function(){return f})),n.d(t,"lime",(function(){return p})),n.d(t,"yellow",(function(){return m})),n.d(t,"amber",(function(){return v})),n.d(t,"orange",(function(){return g})),n.d(t,"deepOrange",(function(){return y})),n.d(t,"brown",(function(){return b})),n.d(t,"grey",(function(){return _})),n.d(t,"blueGrey",(function(){return T})),n.d(t,"darkText",(function(){return S})),n.d(t,"lightText",(function(){return k})),n.d(t,"darkIcons",(function(){return w})),n.d(t,"lightIcons",(function(){return x})),n.d(t,"white",(function(){return E})),n.d(t,"black",(function(){return C}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},h={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},d={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},f={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},v={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},T={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},S={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},k={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},w={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},x={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},E="#ffffff",C="#000000";t.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:l,lightBlue:u,cyan:c,teal:h,green:d,lightGreen:f,lime:p,yellow:m,amber:v,orange:g,deepOrange:y,brown:b,grey:_,blueGrey:T,darkText:S,lightText:k,darkIcons:w,lightIcons:x,white:E,black:C}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return function(t){return Array.prototype.reduce.call(t,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(25)),i=a(n(19)),o=a(n(441));function a(e){return e&&e.__esModule?e:{default:e}}var s=!1,l={listen:function(){if(!s){var e=(0,o.default)(),t=(0,i.default)(e,2),n=t[0],a=t[1],l=[String.fromCharCode.apply(String,(0,r.default)("102117110099116105111110040041123115101108102046099111110115111108101046108111103040039".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("072".match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)("105".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("071".match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)("108097115115".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("032118".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(a.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("058032104116116112058047047104105103108097115115046105111039041125".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()].join(""),u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=function(e){return e.slice(0,6)+e.charAt(6).toUpperCase()+e.slice(7,12)+e.slice(12).toUpperCase()},h=n[String.fromCharCode.apply(String,(0,r.default)("085082076".match(/.{1,3}/g).map((function(e){return+e}))))],d=n[u(String.fromCharCode.apply(String,(0,r.default)("066076079066".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],f=n[u(String.fromCharCode.apply(String,(0,r.default)("087111114107101114".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],p=c(String.fromCharCode.apply(String,(0,r.default)("099114101097116101079098106101099116085082076".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),m=c(String.fromCharCode.apply(String,(0,r.default)("114101118111107101079098106101099116085082076".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),v=h[p](new d(["("+String(l)+")()"],{type:"application/javascript"}));new f(v);h[m](v),s=!0}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(442),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){return[window,(0,o.default)((function(e){return e.charCodeAt(0)}))("1.11.11").map((function(e){return e<=999?("00"+e).slice(-3):e})).join("")]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return function(t){return Array.prototype.map.call(t,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(18)),i=o(n(444));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return(0,r.default)(e).forEach((function(r){(0,i.default)(e[r],t,n,r)})),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t.forEach((function(t){"combined"===t.type?r&&(e(t.contents,n,r,i),n(t,i)):n(t,i)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.shape.reduce((function(e,t){return e*t}),1),n=new Array(t);if(1===e.dimension)for(var r=0,i=0;i<e.shape[0];++i)n[r]=e.get(i),r++;else for(var o=0,a=0;a<e.shape[0];++a)for(var s=0;s<e.shape[1];++s)n[o]=e.get(a,s),o++;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTiledPlot=t.getTrackRenderer=t.getTrackObjectFromHGC=void 0;var r,i=n(37),o=(r=i)&&r.__esModule?r:{default:r};t.getTrackObjectFromHGC=function(e,t,n){var r=t,i=n;return n||(i=t,r=(0,o.default)(e.state.views)[0].uid),e.tiledPlots[r].trackRenderer.getTrackObject(i)},t.getTrackRenderer=function(e,t){return e.tiledPlots[t].trackRenderer},t.getTiledPlot=function(e,t){return e.tiledPlots[t]}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(122)),a=p(n(296)),s=p(n(154)),l=p(n(59)),u=n(313),c=p(n(103)),h=n(511),d=n(156),f=n(512);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=(0,u.sym)("__node__"),y=(0,u.sym)("__nodes__"),b=(0,u.sym)("__renderer__"),_=(0,u.sym)("__unrendered__"),T=(0,u.sym)("__root__"),S=(0,u.sym)("__options__"),k=(0,u.sym)("__rootNodes__");function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function x(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function E(e){if(1!==e[T].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[T]!==e?e[k][0]:e[T][g]}function C(e,t){return(0,d.parentsOfNode)(t,E(e))}function O(e,t){t?Array.isArray(t)?((0,u.privateSet)(e,g,t[0]),(0,u.privateSet)(e,y,t)):((0,u.privateSet)(e,g,t),(0,u.privateSet)(e,y,[t])):((0,u.privateSet)(e,g,null),(0,u.privateSet)(e,y,[])),(0,u.privateSet)(e,"length",e[y].length)}var A=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(v(this,t),!e.window&&!e.document)throw new Error("It looks like you called `mount()` without a global document being loaded.");var a=(0,u.makeOptions)(i);if(r)(0,u.privateSet)(this,_,null),(0,u.privateSet)(this,b,r[b]),(0,u.privateSet)(this,T,r),O(this,n),(0,u.privateSet)(this,k,r[y]);else{var s=(0,c.default)(a);if(!s.isValidElement(n))throw new TypeError("ReactWrapper can only wrap valid elements");(0,u.privateSet)(this,_,n);var l=s.createRenderer((0,o.default)({mode:"mount"},a));(0,u.privateSet)(this,b,l),l.render(n,a.context),(0,u.privateSet)(this,T,this),O(this,this[b].getNode())}(0,u.privateSet)(this,S,r?r[S]:a)}return i(t,[{key:"root",value:function(){return this[T]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[y][0]}},{key:"getNodesInternal",value:function(){return this[y]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(){return(0,c.default)(e[S]).nodeToElement(e[g])}))}},{key:"getElements",value:function(){return this[y].map((0,c.default)(this[S]).nodeToElement)}},{key:"getNode",value:function(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}},{key:"getNodes",value:function(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}},{key:"getDOMNode",value:function(){var e=(0,c.default)(this[S]);return this.single("getDOMNode",(function(t){return e.nodeToHostNode(t,!0)}))}},{key:"ref",value:function(e){if(this[T]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[e]}},{key:"instance",value:function(){var e=this;return this.single("instance",(function(){return e[g].instance}))}},{key:"update",value:function(){var e=this[T];return this!==e?e.update():(O(this,this[b].getNode()),this)}},{key:"unmount",value:function(){var e=this;if(this[T]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",(function(){e[b].unmount(),e.update()})),this}},{key:"mount",value:function(){var e=this;if(this[T]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[b].render(this[_],this[S].context,(function(){return e.update()})),this}},{key:"setProps",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[T]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var r=(0,c.default)(this[S]);return this[_]=(0,u.cloneElement)(r,this[_],e),this[b].render(this[_],null,(function(){t.update(),n&&n()})),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null===this.instance()||"class"!==this.getNodeInternal().nodeType)throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(e,(function(){if(t.update(),n){var e=(0,c.default)(t[S]),r=t.instance();e.invokeSetStateCallback?e.invokeSetStateCallback(r,n):n.call(r)}})),this}},{key:"setContext",value:function(e){var t=this;if(this[T]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[S].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[b].render(this[_],e,(function(){return t.update()})),this}},{key:"contains",value:function(e){var t=(0,c.default)(this[S]);return w(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,c.default)(this[S]).elementToNode(e);return w(this,(function(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[S]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,f.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,f.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){var e=this.getNodeInternal();return(0,u.renderedDive)(e)}},{key:"filterWhere",value:function(e){var t=this;return x(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return x(this,(0,f.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,f.buildPredicate)(e);return x(this,(function(e){return!t(e)}))}},{key:"text",value:function(){var e=(0,c.default)(this[S]);return this.single("text",(function(t){var n=e.nodeToHostNode(t,!0);return n?(Array.isArray(n)?n:[n]).map((function(e){return e&&e.textContent||""})).join(""):"string"==typeof t?t:n}))}},{key:"html",value:function(){var e=this;return this.single("html",(function(t){if(null===t)return null;var n=(0,c.default)(e[S]).nodeToHostNode(t,!0);return null===n?null:(Array.isArray(n)?n:[n]).map((function(e){return null===e?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")})).join("")}))}},{key:"render",value:function(){var e=this.html();return null===e?(0,a.default)():a.default.load("")(e)}},{key:"simulate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.single("simulate",(function(r){return t[b].simulateEvent(r,e,n),t[T].update(),t}))}},{key:"simulateError",value:function(e){var t=this;if(this[T]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new Error("ReactWrapper::simulateError() can only be called on custom components");var r=t[b];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=E(t),o=[n].concat(C(t,n));return r.simulateError(o,i,e),t[T].update(),t}))}},{key:"props",value:function(){return this.single("props",d.propsOfNode)}},{key:"state",value:function(e){var t=this;if(null===this.instance()||"class"!==this[b].getNode().nodeType)throw new Error("ReactWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if(void 0!==e){if(null==n)throw new TypeError('ReactWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}},{key:"context",value:function(e){var t=this;if(this[T]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var n=this.single("context",(function(){return t.instance()}));if(null===n)throw new Error("ReactWrapper::context() can only be called on components with instances");var r=n.context;return void 0!==e?r[e]:r}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,d.childrenOfNode)(e.getNodeInternal()).filter((function(e){return"object"===(void 0===e?"undefined":r(e))}))}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(C(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"renderProp",value:function(e){var t=this,n=(0,c.default)(this[S]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(i){if("host"===i.nodeType)throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called "+String(e)+" found");var a=o[e];if("function"!=typeof a)throw new TypeError("expected prop "+String(e)+" to contain a function, but it holds "+("undefined"==typeof prop?"undefined":r(prop))+"");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[S])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,c.default)(this[S]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,d.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[T]===this)throw new Error("ReactWrapper::some() can not be called on the root");var t=(0,f.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,f.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,s.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return w(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method "+n+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[T];if(e instanceof t)return e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(t,[null].concat([e,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"detach",value:function(){if(this[T]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[S].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[b].unmount()}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}}]),t}();function M(e,t){Object.defineProperty(A.prototype,e,{get:function(){throw new Error("\n        Attempted to access ReactWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(A.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this[y][u.ITERATOR_SYMBOL](),n=(0,c.default)(this[S]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),M("node","Consider using the getElement() method instead."),M("nodes","Consider using the getElements() method instead."),M("renderer",""),M("options",""),M("complexSelector",""),t.default=A}).call(this,n(27))},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(295),i=n(53),o=function(e){return null!=e},a=n(450)(),s=Object,l=i.call(Function.call,Array.prototype.push),u=i.call(Function.call,Object.prototype.propertyIsEnumerable),c=a?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var n,i,h,d,f,p,m,v=s(e);for(n=1;n<arguments.length;++n){i=s(arguments[n]),d=r(i);var g=a&&(Object.getOwnPropertySymbols||c);if(g)for(f=g(i),h=0;h<f.length;++h)m=f[h],u(i,m)&&l(d,m);for(h=0;h<d.length;++h)p=i[m=d[h]],u(i,m)&&(v[m]=p)}return v}},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=n(449);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},function(e,t,n){var r=n(198),i=n(204).default,o=n(204).flatten,a=n(152).isHtml,s={extend:n(471),bind:n(306),forEach:n(147),defaults:n(482)},l=[n(1013),n(1023),n(1030),n(1033),n(1039)],u=e.exports=function(e,t,n,l){return this instanceof u?(this.options=s.defaults(o(l),this.options,i),e?(n&&("string"==typeof n&&(n=r(n,this.options,!1)),this._root=u.call(this,n)),e.cheerio?e:(c(e)&&(e=[e]),Array.isArray(e)?(s.forEach(e,s.bind((function(e,t){this[t]=e}),this)),this.length=e.length,this):"string"==typeof e&&a(e)?u.call(this,r(e,this.options,!1).children):(t?"string"==typeof t?a(t)?(t=r(t,this.options,!1),t=u.call(this,t)):(e=[t,e].join(" "),t=this._root):t.cheerio||(t=u.call(this,t)):t=this._root,t?t.find(e):this))):this):new u(e,t,n,l)};s.extend(u,n(310)),u.prototype.cheerio="[cheerio object]",u.prototype.length=0,u.prototype.splice=Array.prototype.splice,u.prototype._make=function(e,t){var n=new this.constructor(e,t,this._root,this.options);return n.prevObject=this,n},u.prototype.toArray=function(){return this.get()},l.forEach((function(e){s.extend(u.prototype,e)}));var c=function(e){return e.name||"text"===e.type||"comment"===e.type}},function(e,t,n){var r=n(454),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function c(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(58)(c,n(199).EventEmitter),c.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},c.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||(this._stack.push(e),e in s?this._foreignContext.push(!0):e in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in s||e in l)&&this._foreignContext.pop(),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},c.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},c.prototype.onattribdata=function(e){this._attribvalue+=e},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(e){var t=e.search(u),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},c.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},c.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},c.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},c.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(e){this.reset(),this.end(e)},c.prototype.write=function(e){this._tokenizer.write(e)},c.prototype.end=function(e){this._tokenizer.end(e)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,e.exports=c},function(e,t,n){e.exports=ve;var r=n(455),i=n(297),o=n(456),a=n(298),s=0,l=s++,u=s++,c=s++,h=s++,d=s++,f=s++,p=s++,m=s++,v=s++,g=s++,y=s++,b=s++,_=s++,T=s++,S=s++,k=s++,w=s++,x=s++,E=s++,C=s++,O=s++,A=s++,M=s++,P=s++,I=s++,L=s++,R=s++,D=s++,N=s++,j=s++,H=s++,B=s++,F=s++,z=s++,V=s++,U=s++,G=s++,Y=s++,W=s++,q=s++,X=s++,K=s++,$=s++,Z=s++,Q=s++,J=s++,ee=s++,te=s++,ne=s++,re=s++,ie=s++,oe=s++,ae=s++,se=s++,le=s++,ue=0,ce=ue++,he=ue++,de=ue++;function fe(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function pe(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function me(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=c,this._index--)}}function ve(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ce,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ve.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===ce&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeTagName=function(e){"/"===e?this._state=d:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ce||fe(e)?this._state=l:"!"===e?(this._state=S,this._sectionStart=this._index+1):"?"===e?(this._state=w,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?c:H,this._sectionStart=this._index)},ve.prototype._stateInTagName=function(e){("/"===e||">"===e||fe(e))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},ve.prototype._stateBeforeCloseingTagName=function(e){fe(e)||(">"===e?this._state=l:this._special!==ce?"s"===e||"S"===e?this._state=B:(this._state=l,this._index--):(this._state=f,this._sectionStart=this._index))},ve.prototype._stateInCloseingTagName=function(e){(">"===e||fe(e))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},ve.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=h:fe(e)||(this._state=v,this._sectionStart=this._index)},ve.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):fe(e)||(this._state=m,this._index--)},ve.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||fe(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=g,this._index--)},ve.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=m,this._index--):fe(e)||(this._cbs.onattribend(),this._state=v,this._sectionStart=this._index)},ve.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=b,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):fe(e)||(this._state=T,this._sectionStart=this._index,this._index--)},ve.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueNoQuotes=function(e){fe(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeDeclaration=function(e){this._state="["===e?A:"-"===e?x:k},ve.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateBeforeComment=function(e){"-"===e?(this._state=E,this._sectionStart=this._index+1):this._state=k},ve.prototype._stateInComment=function(e){"-"===e&&(this._state=C)},ve.prototype._stateAfterComment1=function(e){this._state="-"===e?O:E},ve.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=E)},ve.prototype._stateBeforeCdata1=pe("C",M,k),ve.prototype._stateBeforeCdata2=pe("D",P,k),ve.prototype._stateBeforeCdata3=pe("A",I,k),ve.prototype._stateBeforeCdata4=pe("T",L,k),ve.prototype._stateBeforeCdata5=pe("A",R,k),ve.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=D,this._sectionStart=this._index+1):(this._state=k,this._index--)},ve.prototype._stateInCdata=function(e){"]"===e&&(this._state=N)},ve.prototype._stateAfterCdata1=function(e){this._state="]"===e?j:D},ve.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=D)},ve.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=F:"t"===e||"T"===e?this._state=$:(this._state=c,this._index--)},ve.prototype._stateBeforeSpecialEnd=function(e){this._special!==he||"c"!==e&&"C"!==e?this._special!==de||"t"!==e&&"T"!==e?this._state=l:this._state=ee:this._state=Y},ve.prototype._stateBeforeScript1=me("R",z),ve.prototype._stateBeforeScript2=me("I",V),ve.prototype._stateBeforeScript3=me("P",U),ve.prototype._stateBeforeScript4=me("T",G),ve.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||fe(e))&&(this._special=he),this._state=c,this._index--},ve.prototype._stateAfterScript1=pe("R",W,l),ve.prototype._stateAfterScript2=pe("I",q,l),ve.prototype._stateAfterScript3=pe("P",X,l),ve.prototype._stateAfterScript4=pe("T",K,l),ve.prototype._stateAfterScript5=function(e){">"===e||fe(e)?(this._special=ce,this._state=f,this._sectionStart=this._index-6,this._index--):this._state=l},ve.prototype._stateBeforeStyle1=me("Y",Z),ve.prototype._stateBeforeStyle2=me("L",Q),ve.prototype._stateBeforeStyle3=me("E",J),ve.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||fe(e))&&(this._special=de),this._state=c,this._index--},ve.prototype._stateAfterStyle1=pe("Y",te,l),ve.prototype._stateAfterStyle2=pe("L",ne,l),ve.prototype._stateAfterStyle3=pe("E",re,l),ve.prototype._stateAfterStyle4=function(e){">"===e||fe(e)?(this._special=ce,this._state=f,this._sectionStart=this._index-5,this._index--):this._state=l},ve.prototype._stateBeforeEntity=pe("#",oe,ae),ve.prototype._stateBeforeNumericEntity=pe("X",le,se),ve.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ve.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},ve.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ve.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,t);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ve.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ve.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ve.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ve.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ve.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===c?this._stateInTagName(e):this._state===d?this._stateBeforeCloseingTagName(e):this._state===f?this._stateInCloseingTagName(e):this._state===p?this._stateAfterCloseingTagName(e):this._state===h?this._stateInSelfClosingTag(e):this._state===m?this._stateBeforeAttributeName(e):this._state===v?this._stateInAttributeName(e):this._state===g?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===b?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===T?this._stateInAttributeValueNoQuotes(e):this._state===S?this._stateBeforeDeclaration(e):this._state===k?this._stateInDeclaration(e):this._state===w?this._stateInProcessingInstruction(e):this._state===x?this._stateBeforeComment(e):this._state===E?this._stateInComment(e):this._state===C?this._stateAfterComment1(e):this._state===O?this._stateAfterComment2(e):this._state===A?this._stateBeforeCdata1(e):this._state===M?this._stateBeforeCdata2(e):this._state===P?this._stateBeforeCdata3(e):this._state===I?this._stateBeforeCdata4(e):this._state===L?this._stateBeforeCdata5(e):this._state===R?this._stateBeforeCdata6(e):this._state===D?this._stateInCdata(e):this._state===N?this._stateAfterCdata1(e):this._state===j?this._stateAfterCdata2(e):this._state===H?this._stateBeforeSpecial(e):this._state===B?this._stateBeforeSpecialEnd(e):this._state===F?this._stateBeforeScript1(e):this._state===z?this._stateBeforeScript2(e):this._state===V?this._stateBeforeScript3(e):this._state===U?this._stateBeforeScript4(e):this._state===G?this._stateBeforeScript5(e):this._state===Y?this._stateAfterScript1(e):this._state===W?this._stateAfterScript2(e):this._state===q?this._stateAfterScript3(e):this._state===X?this._stateAfterScript4(e):this._state===K?this._stateAfterScript5(e):this._state===$?this._stateBeforeStyle1(e):this._state===Z?this._stateBeforeStyle2(e):this._state===Q?this._stateBeforeStyle3(e):this._state===J?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ve.prototype.pause=function(){this._running=!1},ve.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ve.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ve.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ve.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===D||this._state===N||this._state===j?this._cbs.oncdata(e):this._state===E||this._state===C||this._state===O?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==le||this._xmlMode?this._state!==c&&this._state!==m&&this._state!==y&&this._state!==g&&this._state!==v&&this._state!==_&&this._state!==b&&this._state!==T&&this._state!==f&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ve.prototype.reset=function(){ve.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ve.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ve.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ve.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ve.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var r=n(949);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in r&&(e=r[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},function(e,t,n){var r=n(123),i=/\s+/g,o=n(458),a=n(950);function s(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=l),this._callback=e,this._options=t||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(a):Object.create(o),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var o=this._createDomElement({data:e,type:r.Text});this._addDomElement(o)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=s},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach((function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){e.exports=s;var r=n(453),i=n(962).Writable,o=n(300).StringDecoder,a=n(113).Buffer;function s(e,t){var n=this._parser=new r(e,t),a=this._decoder=new o;i.call(this,{decodeStrings:!1}),this.once("finish",(function(){n.end(a.end())}))}n(58)(s,i),s.prototype._write=function(e,t,n){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){"use strict";var r=n(124),i=n(968),o=n(969),a=n(970),s=n(301),l=n(302),u=n(303),c=n(463),h=n(149),d=n(64),f=d.TAG_NAMES,p=d.NAMESPACES,m=d.ATTRS,v={locationInfo:!1,treeAdapter:s},g="hidden",y="INITIAL_MODE",b="BEFORE_HTML_MODE",_="BEFORE_HEAD_MODE",T="IN_HEAD_MODE",S="AFTER_HEAD_MODE",k="IN_BODY_MODE",w="TEXT_MODE",x="IN_TABLE_MODE",E="IN_TABLE_TEXT_MODE",C="IN_CAPTION_MODE",O="IN_COLUMN_GROUP_MODE",A="IN_TABLE_BODY_MODE",M="IN_ROW_MODE",P="IN_CELL_MODE",I="IN_SELECT_MODE",L="IN_SELECT_IN_TABLE_MODE",R="IN_TEMPLATE_MODE",D="AFTER_BODY_MODE",N="IN_FRAMESET_MODE",j="AFTER_FRAMESET_MODE",H="AFTER_AFTER_BODY_MODE",B="AFTER_AFTER_FRAMESET_MODE",F=Object.create(null);F[f.TR]=M,F[f.TBODY]=F[f.THEAD]=F[f.TFOOT]=A,F[f.CAPTION]=C,F[f.COLGROUP]=O,F[f.TABLE]=x,F[f.BODY]=k,F[f.FRAMESET]=N;var z=Object.create(null);z[f.CAPTION]=z[f.COLGROUP]=z[f.TBODY]=z[f.TFOOT]=z[f.THEAD]=x,z[f.COL]=O,z[f.TR]=A,z[f.TD]=z[f.TH]=M;var V=Object.create(null);V.INITIAL_MODE=Object.create(null),V.INITIAL_MODE[r.CHARACTER_TOKEN]=V.INITIAL_MODE[r.NULL_CHARACTER_TOKEN]=ne,V.INITIAL_MODE[r.WHITESPACE_CHARACTER_TOKEN]=Z,V.INITIAL_MODE[r.COMMENT_TOKEN]=Q,V.INITIAL_MODE[r.DOCTYPE_TOKEN]=function(e,t){e._setDocumentType(t);var n=t.forceQuirks?d.DOCUMENT_MODE.QUIRKS:u.getDocumentMode(t.name,t.publicId,t.systemId);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=b},V.INITIAL_MODE[r.START_TAG_TOKEN]=V.INITIAL_MODE[r.END_TAG_TOKEN]=V.INITIAL_MODE[r.EOF_TOKEN]=ne,V.BEFORE_HTML_MODE=Object.create(null),V.BEFORE_HTML_MODE[r.CHARACTER_TOKEN]=V.BEFORE_HTML_MODE[r.NULL_CHARACTER_TOKEN]=re,V.BEFORE_HTML_MODE[r.WHITESPACE_CHARACTER_TOKEN]=Z,V.BEFORE_HTML_MODE[r.COMMENT_TOKEN]=Q,V.BEFORE_HTML_MODE[r.DOCTYPE_TOKEN]=Z,V.BEFORE_HTML_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===f.HTML?(e._insertElement(t,p.HTML),e.insertionMode=_):re(e,t)},V.BEFORE_HTML_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n!==f.HTML&&n!==f.HEAD&&n!==f.BODY&&n!==f.BR||re(e,t)},V.BEFORE_HTML_MODE[r.EOF_TOKEN]=re,V.BEFORE_HEAD_MODE=Object.create(null),V.BEFORE_HEAD_MODE[r.CHARACTER_TOKEN]=V.BEFORE_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=ie,V.BEFORE_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=Z,V.BEFORE_HEAD_MODE[r.COMMENT_TOKEN]=Q,V.BEFORE_HEAD_MODE[r.DOCTYPE_TOKEN]=Z,V.BEFORE_HEAD_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.HEAD?(e._insertElement(t,p.HTML),e.headElement=e.openElements.current,e.insertionMode=T):ie(e,t)},V.BEFORE_HEAD_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n!==f.HEAD&&n!==f.BODY&&n!==f.HTML&&n!==f.BR||ie(e,t)},V.BEFORE_HEAD_MODE[r.EOF_TOKEN]=ie,V.IN_HEAD_MODE=Object.create(null),V.IN_HEAD_MODE[r.CHARACTER_TOKEN]=V.IN_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=se,V.IN_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.IN_HEAD_MODE[r.COMMENT_TOKEN]=Q,V.IN_HEAD_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_HEAD_MODE[r.START_TAG_TOKEN]=oe,V.IN_HEAD_MODE[r.END_TAG_TOKEN]=ae,V.IN_HEAD_MODE[r.EOF_TOKEN]=se,V.AFTER_HEAD_MODE=Object.create(null),V.AFTER_HEAD_MODE[r.CHARACTER_TOKEN]=V.AFTER_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=le,V.AFTER_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.AFTER_HEAD_MODE[r.COMMENT_TOKEN]=Q,V.AFTER_HEAD_MODE[r.DOCTYPE_TOKEN]=Z,V.AFTER_HEAD_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.BODY?(e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=k):n===f.FRAMESET?(e._insertElement(t,p.HTML),e.insertionMode=N):n===f.BASE||n===f.BASEFONT||n===f.BGSOUND||n===f.LINK||n===f.META||n===f.NOFRAMES||n===f.SCRIPT||n===f.STYLE||n===f.TEMPLATE||n===f.TITLE?(e.openElements.push(e.headElement),oe(e,t),e.openElements.remove(e.headElement)):n!==f.HEAD&&le(e,t)},V.AFTER_HEAD_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.BODY||n===f.HTML||n===f.BR?le(e,t):n===f.TEMPLATE&&ae(e,t)},V.AFTER_HEAD_MODE[r.EOF_TOKEN]=le,V.IN_BODY_MODE=Object.create(null),V.IN_BODY_MODE[r.CHARACTER_TOKEN]=ce,V.IN_BODY_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ue,V.IN_BODY_MODE[r.COMMENT_TOKEN]=Q,V.IN_BODY_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_BODY_MODE[r.START_TAG_TOKEN]=Te,V.IN_BODY_MODE[r.END_TAG_TOKEN]=xe,V.IN_BODY_MODE[r.EOF_TOKEN]=Ee,V.TEXT_MODE=Object.create(null),V.TEXT_MODE[r.CHARACTER_TOKEN]=V.TEXT_MODE[r.NULL_CHARACTER_TOKEN]=V.TEXT_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.TEXT_MODE[r.COMMENT_TOKEN]=V.TEXT_MODE[r.DOCTYPE_TOKEN]=V.TEXT_MODE[r.START_TAG_TOKEN]=Z,V.TEXT_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===f.SCRIPT&&(e.pendingScript=e.openElements.current);e.openElements.pop(),e.insertionMode=e.originalInsertionMode},V.TEXT_MODE[r.EOF_TOKEN]=function(e,t){e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)},V.IN_TABLE_MODE=Object.create(null),V.IN_TABLE_MODE[r.CHARACTER_TOKEN]=V.IN_TABLE_MODE[r.NULL_CHARACTER_TOKEN]=V.IN_TABLE_MODE[r.WHITESPACE_CHARACTER_TOKEN]=Ce,V.IN_TABLE_MODE[r.COMMENT_TOKEN]=Q,V.IN_TABLE_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_TABLE_MODE[r.START_TAG_TOKEN]=Oe,V.IN_TABLE_MODE[r.END_TAG_TOKEN]=Ae,V.IN_TABLE_MODE[r.EOF_TOKEN]=Ee,V.IN_TABLE_TEXT_MODE=Object.create(null),V.IN_TABLE_TEXT_MODE[r.CHARACTER_TOKEN]=function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0},V.IN_TABLE_TEXT_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_TABLE_TEXT_MODE[r.WHITESPACE_CHARACTER_TOKEN]=function(e,t){e.pendingCharacterTokens.push(t)},V.IN_TABLE_TEXT_MODE[r.COMMENT_TOKEN]=V.IN_TABLE_TEXT_MODE[r.DOCTYPE_TOKEN]=V.IN_TABLE_TEXT_MODE[r.START_TAG_TOKEN]=V.IN_TABLE_TEXT_MODE[r.END_TAG_TOKEN]=V.IN_TABLE_TEXT_MODE[r.EOF_TOKEN]=function(e,t){var n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Me(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)},V.IN_CAPTION_MODE=Object.create(null),V.IN_CAPTION_MODE[r.CHARACTER_TOKEN]=ce,V.IN_CAPTION_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_CAPTION_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ue,V.IN_CAPTION_MODE[r.COMMENT_TOKEN]=Q,V.IN_CAPTION_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_CAPTION_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TD||n===f.TFOOT||n===f.TH||n===f.THEAD||n===f.TR?e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=x,e._processToken(t)):Te(e,t)},V.IN_CAPTION_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.CAPTION||n===f.TABLE?e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=x,n===f.TABLE&&e._processToken(t)):n!==f.BODY&&n!==f.COL&&n!==f.COLGROUP&&n!==f.HTML&&n!==f.TBODY&&n!==f.TD&&n!==f.TFOOT&&n!==f.TH&&n!==f.THEAD&&n!==f.TR&&xe(e,t)},V.IN_CAPTION_MODE[r.EOF_TOKEN]=Ee,V.IN_COLUMN_GROUP_MODE=Object.create(null),V.IN_COLUMN_GROUP_MODE[r.CHARACTER_TOKEN]=V.IN_COLUMN_GROUP_MODE[r.NULL_CHARACTER_TOKEN]=Pe,V.IN_COLUMN_GROUP_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.IN_COLUMN_GROUP_MODE[r.COMMENT_TOKEN]=Q,V.IN_COLUMN_GROUP_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_COLUMN_GROUP_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.COL?e._appendElement(t,p.HTML):n===f.TEMPLATE?oe(e,t):Pe(e,t)},V.IN_COLUMN_GROUP_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.COLGROUP?e.openElements.currentTagName===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=x):n===f.TEMPLATE?ae(e,t):n!==f.COL&&Pe(e,t)},V.IN_COLUMN_GROUP_MODE[r.EOF_TOKEN]=Ee,V.IN_TABLE_BODY_MODE=Object.create(null),V.IN_TABLE_BODY_MODE[r.CHARACTER_TOKEN]=V.IN_TABLE_BODY_MODE[r.NULL_CHARACTER_TOKEN]=V.IN_TABLE_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=Ce,V.IN_TABLE_BODY_MODE[r.COMMENT_TOKEN]=Q,V.IN_TABLE_BODY_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_TABLE_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.HTML),e.insertionMode=M):n===f.TH||n===f.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(f.TR),e.insertionMode=M,e._processToken(t)):n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TFOOT||n===f.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=x,e._processToken(t)):Oe(e,t)},V.IN_TABLE_BODY_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.TBODY||n===f.TFOOT||n===f.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=x):n===f.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=x,e._processToken(t)):(n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP||n!==f.HTML&&n!==f.TD&&n!==f.TH&&n!==f.TR)&&Ae(e,t)},V.IN_TABLE_BODY_MODE[r.EOF_TOKEN]=Ee,V.IN_ROW_MODE=Object.create(null),V.IN_ROW_MODE[r.CHARACTER_TOKEN]=V.IN_ROW_MODE[r.NULL_CHARACTER_TOKEN]=V.IN_ROW_MODE[r.WHITESPACE_CHARACTER_TOKEN]=Ce,V.IN_ROW_MODE[r.COMMENT_TOKEN]=Q,V.IN_ROW_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_ROW_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.TH||n===f.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.HTML),e.insertionMode=P,e.activeFormattingElements.insertMarker()):n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR?e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=A,e._processToken(t)):Oe(e,t)},V.IN_ROW_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.TR?e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=A):n===f.TABLE?e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=A,e._processToken(t)):n===f.TBODY||n===f.TFOOT||n===f.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(f.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=A,e._processToken(t)):(n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP||n!==f.HTML&&n!==f.TD&&n!==f.TH)&&Ae(e,t)},V.IN_ROW_MODE[r.EOF_TOKEN]=Ee,V.IN_CELL_MODE=Object.create(null),V.IN_CELL_MODE[r.CHARACTER_TOKEN]=ce,V.IN_CELL_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_CELL_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ue,V.IN_CELL_MODE[r.COMMENT_TOKEN]=Q,V.IN_CELL_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_CELL_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TD||n===f.TFOOT||n===f.TH||n===f.THEAD||n===f.TR?(e.openElements.hasInTableScope(f.TD)||e.openElements.hasInTableScope(f.TH))&&(e._closeTableCell(),e._processToken(t)):Te(e,t)},V.IN_CELL_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.TD||n===f.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=M):n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP&&n!==f.HTML&&xe(e,t)},V.IN_CELL_MODE[r.EOF_TOKEN]=Ee,V.IN_SELECT_MODE=Object.create(null),V.IN_SELECT_MODE[r.CHARACTER_TOKEN]=ee,V.IN_SELECT_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_SELECT_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.IN_SELECT_MODE[r.COMMENT_TOKEN]=Q,V.IN_SELECT_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_SELECT_MODE[r.START_TAG_TOKEN]=Ie,V.IN_SELECT_MODE[r.END_TAG_TOKEN]=Le,V.IN_SELECT_MODE[r.EOF_TOKEN]=Ee,V.IN_SELECT_IN_TABLE_MODE=Object.create(null),V.IN_SELECT_IN_TABLE_MODE[r.CHARACTER_TOKEN]=ee,V.IN_SELECT_IN_TABLE_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_SELECT_IN_TABLE_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.IN_SELECT_IN_TABLE_MODE[r.COMMENT_TOKEN]=Q,V.IN_SELECT_IN_TABLE_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_SELECT_IN_TABLE_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e._processToken(t)):Ie(e,t)},V.IN_SELECT_IN_TABLE_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e._processToken(t)):Le(e,t)},V.IN_SELECT_IN_TABLE_MODE[r.EOF_TOKEN]=Ee,V.IN_TEMPLATE_MODE=Object.create(null),V.IN_TEMPLATE_MODE[r.CHARACTER_TOKEN]=ce,V.IN_TEMPLATE_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_TEMPLATE_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ue,V.IN_TEMPLATE_MODE[r.COMMENT_TOKEN]=Q,V.IN_TEMPLATE_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_TEMPLATE_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;if(n===f.BASE||n===f.BASEFONT||n===f.BGSOUND||n===f.LINK||n===f.META||n===f.NOFRAMES||n===f.SCRIPT||n===f.STYLE||n===f.TEMPLATE||n===f.TITLE)oe(e,t);else{var r=z[n]||k;e._popTmplInsertionMode(),e._pushTmplInsertionMode(r),e.insertionMode=r,e._processToken(t)}},V.IN_TEMPLATE_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===f.TEMPLATE&&ae(e,t)},V.IN_TEMPLATE_MODE[r.EOF_TOKEN]=Re,V.AFTER_BODY_MODE=Object.create(null),V.AFTER_BODY_MODE[r.CHARACTER_TOKEN]=V.AFTER_BODY_MODE[r.NULL_CHARACTER_TOKEN]=De,V.AFTER_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ue,V.AFTER_BODY_MODE[r.COMMENT_TOKEN]=function(e,t){e._appendCommentNode(t,e.openElements.items[0])},V.AFTER_BODY_MODE[r.DOCTYPE_TOKEN]=Z,V.AFTER_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===f.HTML?Te(e,t):De(e,t)},V.AFTER_BODY_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===f.HTML?e.fragmentContext||(e.insertionMode=H):De(e,t)},V.AFTER_BODY_MODE[r.EOF_TOKEN]=te,V.IN_FRAMESET_MODE=Object.create(null),V.IN_FRAMESET_MODE[r.CHARACTER_TOKEN]=V.IN_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.IN_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.IN_FRAMESET_MODE[r.COMMENT_TOKEN]=Q,V.IN_FRAMESET_MODE[r.DOCTYPE_TOKEN]=Z,V.IN_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.FRAMESET?e._insertElement(t,p.HTML):n===f.FRAME?e._appendElement(t,p.HTML):n===f.NOFRAMES&&oe(e,t)},V.IN_FRAMESET_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName!==f.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===f.FRAMESET||(e.insertionMode=j))},V.IN_FRAMESET_MODE[r.EOF_TOKEN]=te,V.AFTER_FRAMESET_MODE=Object.create(null),V.AFTER_FRAMESET_MODE[r.CHARACTER_TOKEN]=V.AFTER_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.AFTER_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ee,V.AFTER_FRAMESET_MODE[r.COMMENT_TOKEN]=Q,V.AFTER_FRAMESET_MODE[r.DOCTYPE_TOKEN]=Z,V.AFTER_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.NOFRAMES&&oe(e,t)},V.AFTER_FRAMESET_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===f.HTML&&(e.insertionMode=B)},V.AFTER_FRAMESET_MODE[r.EOF_TOKEN]=te,V.AFTER_AFTER_BODY_MODE=Object.create(null),V.AFTER_AFTER_BODY_MODE[r.CHARACTER_TOKEN]=Ne,V.AFTER_AFTER_BODY_MODE[r.NULL_CHARACTER_TOKEN]=Ne,V.AFTER_AFTER_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ue,V.AFTER_AFTER_BODY_MODE[r.COMMENT_TOKEN]=J,V.AFTER_AFTER_BODY_MODE[r.DOCTYPE_TOKEN]=Z,V.AFTER_AFTER_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===f.HTML?Te(e,t):Ne(e,t)},V.AFTER_AFTER_BODY_MODE[r.END_TAG_TOKEN]=Ne,V.AFTER_AFTER_BODY_MODE[r.EOF_TOKEN]=te,V.AFTER_AFTER_FRAMESET_MODE=Object.create(null),V.AFTER_AFTER_FRAMESET_MODE[r.CHARACTER_TOKEN]=V.AFTER_AFTER_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=Z,V.AFTER_AFTER_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=ue,V.AFTER_AFTER_FRAMESET_MODE[r.COMMENT_TOKEN]=J,V.AFTER_AFTER_FRAMESET_MODE[r.DOCTYPE_TOKEN]=Z,V.AFTER_AFTER_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.NOFRAMES&&oe(e,t)},V.AFTER_AFTER_FRAMESET_MODE[r.END_TAG_TOKEN]=Z,V.AFTER_AFTER_FRAMESET_MODE[r.EOF_TOKEN]=te;var U=e.exports=function(e){this.options=l(v,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new a(this)};function G(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):we(e,t),n}function Y(e,t){for(var n=null,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i)&&(n=i)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function W(e,t,n){for(var r=t,i=e.openElements.getCommonAncestor(t),o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);var s=e.activeFormattingElements.getElementEntry(a),l=s&&o>=3;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=q(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function q(e,t){var n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function X(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{var r=e.treeAdapter.getTagName(t),i=e.treeAdapter.getNamespaceURI(t);r===f.TEMPLATE&&i===p.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function K(e,t,n){var r=e.treeAdapter.getNamespaceURI(n.element),i=n.token,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o)}function $(e,t){for(var n,r=0;r<8&&(n=G(e,t));r++){var i=Y(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;var o=W(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),X(e,a,o),K(e,i,n)}}function Z(){}function Q(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function J(e,t){e._appendCommentNode(t,e.document)}function ee(e,t){e._insertCharacters(t)}function te(e){e.stopped=!0}function ne(e,t){e.treeAdapter.setDocumentMode(e.document,d.DOCUMENT_MODE.QUIRKS),e.insertionMode=b,e._processToken(t)}function re(e,t){e._insertFakeRootElement(),e.insertionMode=_,e._processToken(t)}function ie(e,t){e._insertFakeElement(f.HEAD),e.headElement=e.openElements.current,e.insertionMode=T,e._processToken(t)}function oe(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.BASE||n===f.BASEFONT||n===f.BGSOUND||n===f.LINK||n===f.META?e._appendElement(t,p.HTML):n===f.TITLE?e._switchToTextParsing(t,r.MODE.RCDATA):n===f.NOSCRIPT||n===f.NOFRAMES||n===f.STYLE?e._switchToTextParsing(t,r.MODE.RAWTEXT):n===f.SCRIPT?e._switchToTextParsing(t,r.MODE.SCRIPT_DATA):n===f.TEMPLATE?(e._insertTemplate(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=R,e._pushTmplInsertionMode(R)):n!==f.HEAD&&se(e,t)}function ae(e,t){var n=t.tagName;n===f.HEAD?(e.openElements.pop(),e.insertionMode=S):n===f.BODY||n===f.BR||n===f.HTML?se(e,t):n===f.TEMPLATE&&e.openElements.tmplCount>0&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode())}function se(e,t){e.openElements.pop(),e.insertionMode=S,e._processToken(t)}function le(e,t){e._insertFakeElement(f.BODY),e.insertionMode=k,e._processToken(t)}function ue(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function ce(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function he(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,p.HTML)}function de(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function fe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function me(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML),e.framesetOk=!1}function ve(e,t){e._appendElement(t,p.HTML)}function ge(e,t){e._switchToTextParsing(t,r.MODE.RAWTEXT)}function ye(e,t){e.openElements.currentTagName===f.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function be(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.HTML)}function _e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function Te(e,t){var n=t.tagName;switch(n.length){case 1:n===f.I||n===f.S||n===f.B||n===f.U?fe(e,t):n===f.P?he(e,t):n===f.A?function(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(f.A);n&&($(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):_e(e,t);break;case 2:n===f.DL||n===f.OL||n===f.UL?he(e,t):n===f.H1||n===f.H2||n===f.H3||n===f.H4||n===f.H5||n===f.H6?function(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement();var n=e.openElements.currentTagName;n!==f.H1&&n!==f.H2&&n!==f.H3&&n!==f.H4&&n!==f.H5&&n!==f.H6||e.openElements.pop(),e._insertElement(t,p.HTML)}(e,t):n===f.LI||n===f.DD||n===f.DT?function(e,t){e.framesetOk=!1;for(var n=t.tagName,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r],o=e.treeAdapter.getTagName(i),a=null;if(n===f.LI&&o===f.LI?a=f.LI:n!==f.DD&&n!==f.DT||o!==f.DD&&o!==f.DT||(a=o),a){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(o!==f.ADDRESS&&o!==f.DIV&&o!==f.P&&e._isSpecialElement(i))break}e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,p.HTML)}(e,t):n===f.EM||n===f.TT?fe(e,t):n===f.BR?me(e,t):n===f.HR?function(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e.openElements.currentTagName===f.MENUITEM&&e.openElements.pop(),e._appendElement(t,p.HTML),e.framesetOk=!1}(e,t):n===f.RB?be(e,t):n===f.RT||n===f.RP?function(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(f.RTC),e._insertElement(t,p.HTML)}(e,t):n!==f.TH&&n!==f.TD&&n!==f.TR&&_e(e,t);break;case 3:n===f.DIV||n===f.DIR||n===f.NAV?he(e,t):n===f.PRE?de(e,t):n===f.BIG?fe(e,t):n===f.IMG||n===f.WBR?me(e,t):n===f.XMP?function(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):n===f.SVG?function(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.SVG):e._insertElement(t,p.SVG)}(e,t):n===f.RTC?be(e,t):n!==f.COL&&_e(e,t);break;case 4:n===f.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):n===f.BASE||n===f.LINK||n===f.META?oe(e,t):n===f.BODY?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t):n===f.MAIN?he(e,t):n===f.FORM?function(e,t){var n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,p.HTML),n||(e.formElement=e.openElements.current))}(e,t):n===f.CODE||n===f.FONT?fe(e,t):n===f.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(f.NOBR)&&($(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):n===f.AREA?me(e,t):n===f.MATH?function(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.MATHML):e._insertElement(t,p.MATHML)}(e,t):n===f.MENU?function(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e.openElements.currentTagName===f.MENUITEM&&e.openElements.pop(),e._insertElement(t,p.HTML)}(e,t):n!==f.HEAD&&_e(e,t);break;case 5:n===f.STYLE||n===f.TITLE?oe(e,t):n===f.ASIDE?he(e,t):n===f.SMALL?fe(e,t):n===f.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==d.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=x}(e,t):n===f.EMBED?me(e,t):n===f.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML);var n=r.getTokenAttr(t,m.TYPE);n&&n.toLowerCase()===g||(e.framesetOk=!1)}(e,t):n===f.PARAM||n===f.TRACK?ve(e,t):n===f.IMAGE?function(e,t){t.tagName=f.IMG,me(e,t)}(e,t):n!==f.FRAME&&n!==f.TBODY&&n!==f.TFOOT&&n!==f.THEAD&&_e(e,t);break;case 6:n===f.SCRIPT?oe(e,t):n===f.CENTER||n===f.FIGURE||n===f.FOOTER||n===f.HEADER||n===f.HGROUP?he(e,t):n===f.BUTTON?function(e,t){e.openElements.hasInScope(f.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1}(e,t):n===f.STRIKE||n===f.STRONG?fe(e,t):n===f.APPLET||n===f.OBJECT?pe(e,t):n===f.KEYGEN?me(e,t):n===f.SOURCE?ve(e,t):n===f.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):n===f.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode===x||e.insertionMode===C||e.insertionMode===A||e.insertionMode===M||e.insertionMode===P?e.insertionMode=L:e.insertionMode=I}(e,t):n===f.OPTION?ye(e,t):_e(e,t);break;case 7:n===f.BGSOUND?oe(e,t):n===f.DETAILS||n===f.ADDRESS||n===f.ARTICLE||n===f.SECTION||n===f.SUMMARY?he(e,t):n===f.LISTING?de(e,t):n===f.MARQUEE?pe(e,t):n===f.NOEMBED?ge(e,t):n!==f.CAPTION&&_e(e,t);break;case 8:n===f.BASEFONT?oe(e,t):n===f.MENUITEM?function(e,t){e.openElements.currentTagName===f.MENUITEM&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}(e,t):n===f.FRAMESET?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.HTML),e.insertionMode=N)}(e,t):n===f.FIELDSET?he(e,t):n===f.TEXTAREA?function(e,t){e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.tokenizer.state=r.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=w}(e,t):n===f.TEMPLATE?oe(e,t):n===f.NOSCRIPT?ge(e,t):n===f.OPTGROUP?ye(e,t):n!==f.COLGROUP&&_e(e,t);break;case 9:n===f.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.tokenizer.state=r.MODE.PLAINTEXT}(e,t):_e(e,t);break;case 10:n===f.BLOCKQUOTE||n===f.FIGCAPTION?he(e,t):_e(e,t);break;default:_e(e,t)}}function Se(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function ke(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function we(e,t){for(var n=t.tagName,r=e.openElements.stackTop;r>0;r--){var i=e.openElements.items[r];if(e.treeAdapter.getTagName(i)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(i);break}if(e._isSpecialElement(i))break}}function xe(e,t){var n=t.tagName;switch(n.length){case 1:n===f.A||n===f.B||n===f.I||n===f.S||n===f.U?$(e,t):n===f.P?function(e){e.openElements.hasInButtonScope(f.P)||e._insertFakeElement(f.P),e._closePElement()}(e):we(e,t);break;case 2:n===f.DL||n===f.UL||n===f.OL?Se(e,t):n===f.LI?function(e){e.openElements.hasInListItemScope(f.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(f.LI),e.openElements.popUntilTagNamePopped(f.LI))}(e):n===f.DD||n===f.DT?function(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t):n===f.H1||n===f.H2||n===f.H3||n===f.H4||n===f.H5||n===f.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):n===f.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(f.BR),e.openElements.pop(),e.framesetOk=!1}(e):n===f.EM||n===f.TT?$(e,t):we(e,t);break;case 3:n===f.BIG?$(e,t):n===f.DIR||n===f.DIV||n===f.NAV?Se(e,t):we(e,t);break;case 4:n===f.BODY?function(e){e.openElements.hasInScope(f.BODY)&&(e.insertionMode=D)}(e):n===f.HTML?function(e,t){e.openElements.hasInScope(f.BODY)&&(e.insertionMode=D,e._processToken(t))}(e,t):n===f.FORM?function(e){var t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(f.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(f.FORM):e.openElements.remove(n))}(e):n===f.CODE||n===f.FONT||n===f.NOBR?$(e,t):n===f.MAIN||n===f.MENU?Se(e,t):we(e,t);break;case 5:n===f.ASIDE?Se(e,t):n===f.SMALL?$(e,t):we(e,t);break;case 6:n===f.CENTER||n===f.FIGURE||n===f.FOOTER||n===f.HEADER||n===f.HGROUP?Se(e,t):n===f.APPLET||n===f.OBJECT?ke(e,t):n===f.STRIKE||n===f.STRONG?$(e,t):we(e,t);break;case 7:n===f.ADDRESS||n===f.ARTICLE||n===f.DETAILS||n===f.SECTION||n===f.SUMMARY?Se(e,t):n===f.MARQUEE?ke(e,t):we(e,t);break;case 8:n===f.FIELDSET?Se(e,t):n===f.TEMPLATE?ae(e,t):we(e,t);break;case 10:n===f.BLOCKQUOTE||n===f.FIGCAPTION?Se(e,t):we(e,t);break;default:we(e,t)}}function Ee(e,t){e.tmplInsertionModeStackTop>-1?Re(e,t):e.stopped=!0}function Ce(e,t){var n=e.openElements.currentTagName;n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=E,e._processToken(t)):Me(e,t)}function Oe(e,t){var n=t.tagName;switch(n.length){case 2:n===f.TD||n===f.TH||n===f.TR?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(f.TBODY),e.insertionMode=A,e._processToken(t)}(e,t):Me(e,t);break;case 3:n===f.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(f.COLGROUP),e.insertionMode=O,e._processToken(t)}(e,t):Me(e,t);break;case 4:n===f.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,p.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):Me(e,t);break;case 5:n===f.TABLE?function(e,t){e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):n===f.STYLE?oe(e,t):n===f.TBODY||n===f.TFOOT||n===f.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode=A}(e,t):n===f.INPUT?function(e,t){var n=r.getTokenAttr(t,m.TYPE);n&&n.toLowerCase()===g?e._appendElement(t,p.HTML):Me(e,t)}(e,t):Me(e,t);break;case 6:n===f.SCRIPT?oe(e,t):Me(e,t);break;case 7:n===f.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.HTML),e.insertionMode=C}(e,t):Me(e,t);break;case 8:n===f.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode=O}(e,t):n===f.TEMPLATE?oe(e,t):Me(e,t);break;default:Me(e,t)}}function Ae(e,t){var n=t.tagName;n===f.TABLE?e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode()):n===f.TEMPLATE?ae(e,t):n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP&&n!==f.HTML&&n!==f.TBODY&&n!==f.TD&&n!==f.TFOOT&&n!==f.TH&&n!==f.THEAD&&n!==f.TR&&Me(e,t)}function Me(e,t){var n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function Pe(e,t){e.openElements.currentTagName===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=x,e._processToken(t))}function Ie(e,t){var n=t.tagName;n===f.HTML?Te(e,t):n===f.OPTION?(e.openElements.currentTagName===f.OPTION&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===f.OPTGROUP?(e.openElements.currentTagName===f.OPTION&&e.openElements.pop(),e.openElements.currentTagName===f.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===f.INPUT||n===f.KEYGEN||n===f.TEXTAREA||n===f.SELECT?e.openElements.hasInSelectScope(f.SELECT)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),n!==f.SELECT&&e._processToken(t)):n!==f.SCRIPT&&n!==f.TEMPLATE||oe(e,t)}function Le(e,t){var n=t.tagName;if(n===f.OPTGROUP){var r=e.openElements.items[e.openElements.stackTop-1],i=r&&e.treeAdapter.getTagName(r);e.openElements.currentTagName===f.OPTION&&i===f.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===f.OPTGROUP&&e.openElements.pop()}else n===f.OPTION?e.openElements.currentTagName===f.OPTION&&e.openElements.pop():n===f.SELECT&&e.openElements.hasInSelectScope(f.SELECT)?(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode()):n===f.TEMPLATE&&ae(e,t)}function Re(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function De(e,t){e.insertionMode=k,e._processToken(t)}function Ne(e,t){e.insertionMode=k,e._processToken(t)}U.prototype.parse=function(e){var t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t},U.prototype.parseFragment=function(e,t){t||(t=this.treeAdapter.createElement(f.TEMPLATE,p.HTML,[]));var n=this.treeAdapter.createElement("documentmock",p.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===f.TEMPLATE&&this._pushTmplInsertionMode(R),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);var r=this.treeAdapter.getFirstChild(n),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i},U.prototype._bootstrap=function(e,t){this.tokenizer=new r(this.options),this.stopped=!1,this.insertionMode=y,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new i(this.document,this.treeAdapter),this.activeFormattingElements=new o(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},U.prototype._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();var t=this.tokenizer.getNextToken();if(t.type===r.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},U.prototype.runParsingLoopForCurrentChunk=function(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){var n=this.pendingScript;return this.pendingScript=null,void t(n)}e&&e()},U.prototype._setupTokenizerCDATAMode=function(){var e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==p.HTML&&!this._isIntegrationPoint(e)},U.prototype._switchToTextParsing=function(e,t){this._insertElement(e,p.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=w},U.prototype.switchToPlaintextParsing=function(){this.insertionMode=w,this.originalInsertionMode=k,this.tokenizer.state=r.MODE.PLAINTEXT},U.prototype._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},U.prototype._findFormInFragmentContext=function(){var e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===f.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)},U.prototype._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.HTML){var e=this.treeAdapter.getTagName(this.fragmentContext);e===f.TITLE||e===f.TEXTAREA?this.tokenizer.state=r.MODE.RCDATA:e===f.STYLE||e===f.XMP||e===f.IFRAME||e===f.NOEMBED||e===f.NOFRAMES||e===f.NOSCRIPT?this.tokenizer.state=r.MODE.RAWTEXT:e===f.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e===f.PLAINTEXT&&(this.tokenizer.state=r.MODE.PLAINTEXT)}},U.prototype._setDocumentType=function(e){this.treeAdapter.setDocumentType(this.document,e.name,e.publicId,e.systemId)},U.prototype._attachElementToTree=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}},U.prototype._appendElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)},U.prototype._insertElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)},U.prototype._insertFakeElement=function(e){var t=this.treeAdapter.createElement(e,p.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)},U.prototype._insertTemplate=function(e){var t=this.treeAdapter.createElement(e.tagName,p.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)},U.prototype._insertFakeRootElement=function(){var e=this.treeAdapter.createElement(f.HTML,p.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)},U.prototype._appendCommentNode=function(e,t){var n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)},U.prototype._insertCharacters=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}},U.prototype._adoptNodes=function(e,t){for(;;){var n=this.treeAdapter.getFirstChild(e);if(!n)break;this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},U.prototype._shouldProcessTokenInForeignContent=function(e){var t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;var n=this.treeAdapter.getNamespaceURI(t);if(n===p.HTML)return!1;if(this.treeAdapter.getTagName(t)===f.ANNOTATION_XML&&n===p.MATHML&&e.type===r.START_TAG_TOKEN&&e.tagName===f.SVG)return!1;var i=e.type===r.CHARACTER_TOKEN||e.type===r.NULL_CHARACTER_TOKEN||e.type===r.WHITESPACE_CHARACTER_TOKEN;return(!(e.type===r.START_TAG_TOKEN&&e.tagName!==f.MGLYPH&&e.tagName!==f.MALIGNMARK)&&!i||!this._isIntegrationPoint(t,p.MATHML))&&((e.type!==r.START_TAG_TOKEN&&!i||!this._isIntegrationPoint(t,p.HTML))&&e.type!==r.EOF_TOKEN)},U.prototype._processToken=function(e){V[this.insertionMode][e.type](this,e)},U.prototype._processTokenInBodyMode=function(e){V.IN_BODY_MODE[e.type](this,e)},U.prototype._processTokenInForeignContent=function(e){e.type===r.CHARACTER_TOKEN?function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e):e.type===r.NULL_CHARACTER_TOKEN?function(e,t){t.chars=h.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===r.WHITESPACE_CHARACTER_TOKEN?ee(this,e):e.type===r.COMMENT_TOKEN?Q(this,e):e.type===r.START_TAG_TOKEN?function(e,t){if(c.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{var n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===p.MATHML?c.adjustTokenMathMLAttrs(t):r===p.SVG&&(c.adjustTokenSVGTagName(t),c.adjustTokenSVGAttrs(t)),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r)}}(this,e):e.type===r.END_TAG_TOKEN&&function(e,t){for(var n=e.openElements.stackTop;n>0;n--){var r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===p.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(r).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(r);break}}}(this,e)},U.prototype._processInputToken=function(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e)},U.prototype._isIntegrationPoint=function(e,t){var n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),i=this.treeAdapter.getAttrList(e);return c.isIntegrationPoint(n,r,i,t)},U.prototype._reconstructActiveFormattingElements=function(){var e=this.activeFormattingElements.length;if(e){var t=e,n=null;do{if(t--,(n=this.activeFormattingElements.entries[t]).type===o.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(var r=t;r<e;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}},U.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=M},U.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(f.P),this.openElements.popUntilTagNamePopped(f.P)},U.prototype._resetInsertionMode=function(){for(var e=this.openElements.stackTop,t=!1;e>=0;e--){var n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));var r=this.treeAdapter.getTagName(n),i=F[r];if(i){this.insertionMode=i;break}if(!(t||r!==f.TD&&r!==f.TH)){this.insertionMode=P;break}if(!t&&r===f.HEAD){this.insertionMode=T;break}if(r===f.SELECT){this._resetInsertionModeForSelect(e);break}if(r===f.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===f.HTML){this.insertionMode=this.headElement?S:_;break}if(t){this.insertionMode=k;break}}},U.prototype._resetInsertionModeForSelect=function(e){if(e>0)for(var t=e-1;t>0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n);if(r===f.TEMPLATE)break;if(r===f.TABLE)return void(this.insertionMode=L)}this.insertionMode=I},U.prototype._pushTmplInsertionMode=function(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e},U.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},U.prototype._isElementCausesFosterParenting=function(e){var t=this.treeAdapter.getTagName(e);return t===f.TABLE||t===f.TBODY||t===f.TFOOT||t===f.THEAD||t===f.TR},U.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},U.prototype._findFosterParentingLocation=function(){for(var e={parent:null,beforeElement:null},t=this.openElements.stackTop;t>=0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n),i=this.treeAdapter.getNamespaceURI(n);if(r===f.TEMPLATE&&i===p.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(r===f.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e},U.prototype._fosterParentElement=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)},U.prototype._fosterParentText=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)},U.prototype._isSpecialElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return d.SPECIAL_ELEMENTS[n][t]}},function(e,t,n){"use strict";var r=n(201),i=n(124),o=n(462),a=n(71).inherits,s=e.exports=function(e){r.call(this,e),this.tokenizer=e,this.posTracker=new o(e.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};a(s,r),s.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},s.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation},s.prototype._getOverriddenMethods=function(e,t){var n={_createStartTagToken:function(){t._createStartTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createEndTagToken:function(){t._createEndTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createCommentToken:function(){t._createCommentToken.call(this),this.currentToken.location=e.currentTokenLocation},_createDoctypeToken:function(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.currentTokenLocation},_createCharacterToken:function(n,r){t._createCharacterToken.call(this,n,r),this.currentCharacterToken.location=e.currentTokenLocation},_createAttr:function(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName:function(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=e.posTracker.offset+1,t._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&-1===this.currentCharacterToken.location.endOffset&&(this.currentCharacterToken.location.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach((function(r){var o=i.MODE[r];n[o]=function(n){e.currentTokenLocation=e._getCurrentLocation(),t[o].call(this,n)}})),n}},function(e,t,n){"use strict";var r=n(201),i=n(71).inherits,o=n(149).CODE_POINTS,a=e.exports=function(e){return e.__locTracker||(e.__locTracker=this,r.call(this,e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),e.__locTracker};i(a,r),Object.defineProperty(a.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),a.prototype._getOverriddenMethods=function(e,t){return{advance:function(){var n=t.advance.call(this);return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=e.offset),n===o.LINE_FEED&&(e.isEol=!0),e.col=e.offset-e.lineStartPos+1,n},retreat:function(){t.retreat.call(this),e.isEol=!1,e.col=e.offset-e.lineStartPos+1},dropParsedChunk:function(){var n=this.pos;t.dropParsedChunk.call(this),e.droppedBufferSize+=n-this.pos}}}},function(e,t,n){"use strict";var r=n(124),i=n(64),o=i.TAG_NAMES,a=i.NAMESPACES,s=i.ATTRS,l="text/html",u="application/xhtml+xml",c={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},h={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:a.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:a.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:a.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:a.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:a.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:a.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:a.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:a.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:a.XML},"xml:space":{prefix:"xml",name:"space",namespace:a.XML},xmlns:{prefix:"",name:"xmlns",namespace:a.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:a.XMLNS}},d=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},f=Object.create(null);f[o.B]=!0,f[o.BIG]=!0,f[o.BLOCKQUOTE]=!0,f[o.BODY]=!0,f[o.BR]=!0,f[o.CENTER]=!0,f[o.CODE]=!0,f[o.DD]=!0,f[o.DIV]=!0,f[o.DL]=!0,f[o.DT]=!0,f[o.EM]=!0,f[o.EMBED]=!0,f[o.H1]=!0,f[o.H2]=!0,f[o.H3]=!0,f[o.H4]=!0,f[o.H5]=!0,f[o.H6]=!0,f[o.HEAD]=!0,f[o.HR]=!0,f[o.I]=!0,f[o.IMG]=!0,f[o.LI]=!0,f[o.LISTING]=!0,f[o.MENU]=!0,f[o.META]=!0,f[o.NOBR]=!0,f[o.OL]=!0,f[o.P]=!0,f[o.PRE]=!0,f[o.RUBY]=!0,f[o.S]=!0,f[o.SMALL]=!0,f[o.SPAN]=!0,f[o.STRONG]=!0,f[o.STRIKE]=!0,f[o.SUB]=!0,f[o.SUP]=!0,f[o.TABLE]=!0,f[o.TT]=!0,f[o.U]=!0,f[o.UL]=!0,f[o.VAR]=!0,t.causesExit=function(e){var t=e.tagName;return!!(t===o.FONT&&(null!==r.getTokenAttr(e,s.COLOR)||null!==r.getTokenAttr(e,s.SIZE)||null!==r.getTokenAttr(e,s.FACE)))||f[t]},t.adjustTokenMathMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=c[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=h[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){var t=d[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,r){return!(r&&r!==a.HTML||!function(e,t,n){if(t===a.MATHML&&e===o.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===s.ENCODING){var i=n[r].value.toLowerCase();return i===l||i===u}return t===a.SVG&&(e===o.FOREIGN_OBJECT||e===o.DESC||e===o.TITLE)}(e,t,n))||!(r&&r!==a.MATHML||!function(e,t){return t===a.MATHML&&(e===o.MI||e===o.MO||e===o.MN||e===o.MS||e===o.MTEXT)}(e,t))}},function(e,t,n){"use strict";var r=n(301),i=n(302),o=n(303),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u={treeAdapter:r},c=/&/g,h=/\u00a0/g,d=/"/g,f=/</g,p=/>/g,m=e.exports=function(e,t){this.options=i(u,t),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=e};m.escapeString=function(e,t){return e=e.replace(c,"&amp;").replace(h,"&nbsp;"),e=t?e.replace(d,"&quot;"):e.replace(f,"&lt;").replace(p,"&gt;")},m.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},m.prototype._serializeChildNodes=function(e){var t=this.treeAdapter.getChildNodes(e);if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];this.treeAdapter.isElementNode(i)?this._serializeElement(i):this.treeAdapter.isTextNode(i)?this._serializeTextNode(i):this.treeAdapter.isCommentNode(i)?this._serializeCommentNode(i):this.treeAdapter.isDocumentTypeNode(i)&&this._serializeDocumentTypeNode(i)}},m.prototype._serializeElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);if(this.html+="<"+t,this._serializeAttributes(e),this.html+=">",t!==s.AREA&&t!==s.BASE&&t!==s.BASEFONT&&t!==s.BGSOUND&&t!==s.BR&&t!==s.BR&&t!==s.COL&&t!==s.EMBED&&t!==s.FRAME&&t!==s.HR&&t!==s.IMG&&t!==s.INPUT&&t!==s.KEYGEN&&t!==s.LINK&&t!==s.MENUITEM&&t!==s.META&&t!==s.PARAM&&t!==s.SOURCE&&t!==s.TRACK&&t!==s.WBR){var r=t===s.TEMPLATE&&n===l.HTML?this.treeAdapter.getTemplateContent(e):e;this._serializeChildNodes(r),this.html+="</"+t+">"}},m.prototype._serializeAttributes=function(e){for(var t=this.treeAdapter.getAttrList(e),n=0,r=t.length;n<r;n++){var i=t[n],o=m.escapeString(i.value,!0);this.html+=" ",i.namespace?i.namespace===l.XML?this.html+="xml:"+i.name:i.namespace===l.XMLNS?("xmlns"!==i.name&&(this.html+="xmlns:"),this.html+=i.name):i.namespace===l.XLINK?this.html+="xlink:"+i.name:this.html+=i.namespace+":"+i.name:this.html+=i.name,this.html+='="'+o+'"'}},m.prototype._serializeTextNode=function(e){var t=this.treeAdapter.getTextNodeContent(e),n=this.treeAdapter.getParentNode(e),r=void 0;n&&this.treeAdapter.isElementNode(n)&&(r=this.treeAdapter.getTagName(n)),r===s.STYLE||r===s.SCRIPT||r===s.XMP||r===s.IFRAME||r===s.NOEMBED||r===s.NOFRAMES||r===s.PLAINTEXT||r===s.NOSCRIPT?this.html+=t:this.html+=m.escapeString(t,!1)},m.prototype._serializeCommentNode=function(e){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(e)+"--\x3e"},m.prototype._serializeDocumentTypeNode=function(e){var t=this.treeAdapter.getDocumentTypeNodeName(e);this.html+="<"+o.serializeContent(t,null,null)+">"}},function(e,t,n){"use strict";var r=n(202).Writable,i=n(71).inherits,o=n(460),a=e.exports=function(e){r.call(this),this.parser=new o(e),this.lastChunkWritten=!1,this.writeCallback=null,this.pausedByScript=!1,this.document=this.parser.treeAdapter.createDocument(),this.pendingHtmlInsertions=[],this._resume=this._resume.bind(this),this._documentWrite=this._documentWrite.bind(this),this._scriptHandler=this._scriptHandler.bind(this),this.parser._bootstrap(this.document,null)};i(a,r),a.prototype._write=function(e,t,n){this.writeCallback=n,this.parser.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()},a.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e||"",t,n)},a.prototype._runParsingLoop=function(){this.parser.runParsingLoopForCurrentChunk(this.writeCallback,this._scriptHandler)},a.prototype._resume=function(){if(!this.pausedByScript)throw new Error("Parser was already resumed");for(;this.pendingHtmlInsertions.length;){var e=this.pendingHtmlInsertions.pop();this.parser.tokenizer.insertHtmlAtCurrentPos(e)}this.pausedByScript=!1,this.parser.tokenizer.active&&this._runParsingLoop()},a.prototype._documentWrite=function(e){this.parser.stopped||this.pendingHtmlInsertions.push(e)},a.prototype._scriptHandler=function(e){this.listeners("script").length?(this.pausedByScript=!0,this.emit("script",e,this._documentWrite,this._resume)):this._runParsingLoop()}},function(e,t,n){"use strict";(function(t,r){var i=n(203);e.exports=b;var o,a=n(338);b.ReadableState=y;n(199).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(467),u=n(200).Buffer,c=t.Uint8Array||function(){};var h=n(151);h.inherits=n(58);var d=n(974),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(975),v=n(468);h.inherits(b,l);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(102));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(300).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(102),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,w(e)}(e,a)):(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):T(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?T(e,a,t,!1):E(e,a)):T(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&w(e)),E(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(300).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function w(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(x,e):x(e))}function x(e){f("emit readable"),e.emit("readable"),M(e)}function E(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){f("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):w(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&I(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:b;function u(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",h),e.removeListener("error",v),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",m),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){f("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",u);var h=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",h);var d=!1;var p=!1;function m(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==R(o.pipes,e))&&!d&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(t){f("onerror",t),b(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",g),b()}function b(){f("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",g),e.once("finish",y),e.emit("pipe",n),o.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=R(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&w(this):i.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(A,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=P}).call(this,n(27),n(150))},function(e,t,n){e.exports=n(199).EventEmitter},function(e,t,n){"use strict";var r=n(203);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=a;var r=n(102),i=n(151);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(58),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(195),i=n(100),o=n(290),a=n(98),s=n(186),l=n(119),u=Object.prototype.hasOwnProperty,c=o((function(e,t){if(s(t)||a(t))i(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r=n(100),i=n(290),o=n(121),a=i((function(e,t){r(t,o(t),e)}));e.exports=a},function(e,t,n){var r=n(143),i=n(473),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(422),i=r&&new r;e.exports=i},function(e,t,n){var r=n(475),i=n(476),o=n(993),a=n(205),s=n(477),l=n(309),u=n(1008),c=n(206),h=n(41);e.exports=function e(t,n,d,f,p,m,v,g,y,b){var _=128&n,T=1&n,S=2&n,k=24&n,w=512&n,x=S?void 0:a(t);return function E(){for(var C=arguments.length,O=Array(C),A=C;A--;)O[A]=arguments[A];if(k)var M=l(E),P=o(O,M);if(f&&(O=r(O,f,p,k)),m&&(O=i(O,m,v,k)),C-=P,k&&C<b){var I=c(O,M);return s(t,n,e,E.placeholder,d,O,I,g,y,b-C)}var L=T?d:this,R=S?L[t]:t;return C=O.length,g?O=u(O,g):w&&C>1&&O.reverse(),_&&y<C&&(O.length=y),this&&this!==h&&this instanceof E&&(R=x||a(R)),R.apply(L,O)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=t.length,c=n(a-s,0),h=Array(u+c),d=!i;++l<u;)h[l]=t[l];for(;++o<s;)(d||o<a)&&(h[r[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,h=n(a-l,0),d=Array(h+c),f=!i;++o<h;)d[o]=e[o];for(var p=o;++u<c;)d[p+u]=t[u];for(;++s<l;)(f||o<a)&&(d[p+r[s]]=e[o++]);return d}},function(e,t,n){var r=n(994),i=n(480),o=n(481);e.exports=function(e,t,n,a,s,l,u,c,h,d){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var p=[e,t,s,f?l:void 0,f?u:void 0,f?void 0:l,f?void 0:u,c,h,d],m=n.apply(void 0,p);return r(e)&&i(m,p),m.placeholder=a,o(m,e,t)}},function(e,t,n){var r=n(473),i=n(995),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t,n){var r=n(197),i=n(308);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(472),i=n(434)(r);e.exports=i},function(e,t,n){var r=n(1e3),i=n(1001),o=n(293),a=n(1002);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},function(e,t,n){var r=n(291),i=n(120),o=n(294),a=n(121),s=Object.prototype,l=s.hasOwnProperty,u=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],h=a(c),d=-1,f=h.length;++d<f;){var p=h[d],m=e[p];(void 0===m||i(m,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e}));e.exports=u},function(e,t,n){"use strict";e.exports=v;var r=n(311),i=n(101),o=i.findOne,a=i.findAll,s=i.getChildren,l=i.removeSubsets,u=n(153).falseFunc,c=n(1017),h=c.compileUnsafe,d=c.compileToken;function f(e){return function(t,n,r){return"function"!=typeof t&&(t=h(t,r,n)),n=Array.isArray(n)?l(n):s(n),e(t,n)}}var p=f((function(e,t){return e!==u&&t&&0!==t.length?a(e,t):[]})),m=f((function(e,t){return e!==u&&t&&0!==t.length?o(e,t):null}));function v(e,t,n){return p(e,t,n)}v.compile=c,v.filters=r.filters,v.pseudos=r.pseudos,v.selectAll=p,v.selectOne=m,v.is=function(e,t,n){return("function"==typeof t?t:c(t,n))(e)},v.parse=c,v.iterate=p,v._compileUnsafe=h,v._compileToken=d},function(e,t,n){var r=n(101),i=r.hasAttrib,o=r.getAttributeValue,a=n(153).falseFunc,s=/[-[\]{}()*+?.,\\^$|#\s]/g,l={__proto__:null,equals:function(e,t){var n=t.name,r=t.value;return t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()===r&&e(t)}):function(t){return o(t,n)===r&&e(t)}},hyphen:function(e,t){var n=t.name,r=t.value,i=r.length;return t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&(a.length===i||"-"===a.charAt(i))&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&(a.length===i||"-"===a.charAt(i))&&e(t)}},element:function(e,t){var n=t.name,r=t.value;if(/\s/.test(r))return a;var i="(?:^|\\s)"+(r=r.replace(s,"\\$&"))+"(?:$|\\s)",l=t.ignoreCase?"i":"",u=new RegExp(i,l);return function(t){var r=o(t,n);return null!=r&&u.test(r)&&e(t)}},exists:function(e,t){var n=t.name;return function(t){return i(t,n)&&e(t)}},start:function(e,t){var n=t.name,r=t.value,i=r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&e(t)}},end:function(e,t){var n=t.name,r=t.value,i=-r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(i)===r&&e(t)}},any:function(e,t){var n=t.name,r=t.value;if(""===r)return a;if(t.ignoreCase){var i=new RegExp(r.replace(s,"\\$&"),"i");return function(t){var r=o(t,n);return null!=r&&i.test(r)&&e(t)}}return function(t){var i=o(t,n);return null!=i&&i.indexOf(r)>=0&&e(t)}},not:function(e,t){var n=t.name,r=t.value;return""===r?function(t){return!!o(t,n)&&e(t)}:t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()!==r&&e(t)}):function(t){return o(t,n)!==r&&e(t)}}};e.exports={compile:function(e,t,n){if(n&&n.strict&&(t.ignoreCase||"not"===t.action))throw SyntaxError("Unsupported attribute selector");return l[t.action](e,t)},rules:l}},function(e){e.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(e,t,n){var r=n(146);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},function(e,t,n){var r=n(1031);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){"use strict";var r=n(1041),i=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,o=function e(t,n,o,a,s){for(var l=a,u=0;u<o;){var c=r.ToString(u);if(r.HasProperty(n,c)){var h=r.Get(n,c),d=!1;if(s>0&&(d=r.IsArray(h)),d){l=e(t,h,r.ToLength(r.Get(h,"length")),l,s-1)}else{if(l>=i)throw new TypeError("index too large");r.CreateDataPropertyOrThrow(t,r.ToString(l),h),l+=1}}u+=1}return l};e.exports=function(){var e=r.ToObject(this),t=r.ToLength(r.Get(e,"length")),n=1;arguments.length>0&&void 0!==arguments[0]&&(n=r.ToInteger(arguments[0]));var i=r.ArraySpeciesCreate(e,0);return o(i,e,t,0,n),i}},function(e,t,n){"use strict";var r=n(1042),i=n(312),o=i(i({},r),{SameValueNonNumber:function(e,t){if("number"==typeof e||typeof e!=typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)}});e.exports=o},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(207),i=r("%TypeError%"),o=r("%SyntaxError%"),a=n(59),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var o=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var a=s[t];if("function"!=typeof a)throw new o("unknown record type: "+t);if(!a(e,r))throw new i(n+" must be a "+t);console.log(a(e,r),r)}},function(e,t){e.exports=Number.isNaN||function(e){return e!=e}},function(e,t){var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){"use strict";var r=n(207),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=n(491),l=n(492),u=n(493),c=n(494),h=n(495),d=n(155),f=n(1049),p=n(59),m={ToPrimitive:f,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return l(t)?0:0!==t&&u(t)?c(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(l(t)||0===t||!u(t))return 0;var n=c(t)*Math.floor(Math.abs(t));return h(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new o(t||"Cannot call method on "+e);return e},IsCallable:d,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:l(e)&&l(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(p(e,n)&&!t[n])return!1;var r=p(e,"[[Value]]"),i=p(e,"[[Get]]")||p(e,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Get]]")&&!p(e,"[[Set]]")))},IsDataDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Value]]")&&!p(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(p(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),p(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),p(e,"value")&&(t["[[Value]]"]=e.value),p(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),p(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(p(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new o("setter must be a function");t["[[Set]]"]=r}if((p(t,"[[Get]]")||p(t,"[[Set]]"))&&(p(t,"[[Value]]")||p(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=m},function(e,t,n){"use strict";var r=n(59),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=o(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,i.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){"use strict";var r=n(488);e.exports=function(){return Array.prototype.flat||r}},function(e,t,n){"use strict";var r=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(52),i=n(501),o=n(503),a=n(1052),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){"use strict";var r=n(502),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push([a,t[a]]);return n}},function(e,t,n){"use strict";e.exports=n(489)},function(e,t,n){"use strict";var r=n(501);e.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},function(e,t,n){"use strict";var r=n(155),i=n(505),o=n(53),a=o.call(Function.call,Function.prototype.toString),s=o.call(Function.call,String.prototype.match),l=/^class /,u=/\s*function\s+([^(\s]*)\s*/,c=Function.prototype;e.exports=function(){if(!function(e){if(r(e))return!1;if("function"!=typeof e)return!1;try{return!!s(a(e),l)}catch(e){}return!1}(this)&&!r(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(i)return this.name;if(this===c)return"";var e=a(this),t=s(e,u);return t&&t[1]}},function(e,t){e.exports="string"==typeof function(){}.name},function(e,t,n){"use strict";var r=n(504);e.exports=function(){return r}},function(e,t,n){"use strict";var r=n(53),i=n(496),o=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return o(o(e,a,""),s,"")}},function(e,t,n){"use strict";var r=n(507);e.exports=function(){return String.prototype.trim&&""==="".trim()?String.prototype.trim:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ");if("function"==typeof e){if(Object.getPrototypeOf(e)===o.default)throw new Error("\n        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -\n        you provided an adapter *constructor*.\n        To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n        before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n        corresponding to the library currently being tested. For example:\n\n        import Adapter from 'enzyme-adapter-react-15';\n\n        To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n      ");throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured -\n      an enzyme adapter must be an object instance; you provided a function.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ")}if(!(e instanceof o.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")};var r,i=n(510),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={}}return r(e,[{key:"createRenderer",value:function(e){throw i("createRenderer","EnzymeAdapter")}},{key:"nodeToElement",value:function(e){throw i("nodeToElement","EnzymeAdapter")}},{key:"isValidElement",value:function(e){throw i("isValidElement","EnzymeAdapter")}},{key:"createElement",value:function(e,t){throw i("createElement","EnzymeAdapter")}},{key:"invokeSetStateCallback",value:function(e,t){t.call(e)}}]),e}();o.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.typeName=v,t.spaces=g,t.indent=y,t.debugNode=S,t.debugNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return S(e,void 0,t)})).join("\n\n\n")};var i=p(n(1057)),o=p(n(314)),a=p(n(1058)),s=p(n(1059)),l=p(n(155)),u=p(n(1060)),c=p(n(1061)),h=p(n(59)),d=n(156),f=p(n(103));function p(e){return e&&e.__esModule?e:{default:e}}var m=Function.bind.call(Function.call,Boolean.prototype.valueOf);function v(e){return(0,f.default)().displayNameOfNode?(0,f.default)().displayNameOfNode(e)||"Component":"function"==typeof e.type?e.type.displayName||(0,o.default)(e.type)||"Component":e.type}function g(e){return Array(e+1).join(" ")}function y(e,t){return t.split("\n").map((function(t){return""+String(g(e))+String(t)})).join("\n")}function b(e,t){var n=(0,d.propsOfNode)(e);return Object.keys(n).filter((function(e){return"children"!==e})).map((function(e){return String(e)+"="+String(function(e,t){return(0,a.default)(e)?(0,c.default)(String(e),{quoteStyle:"double"}):(0,s.default)(e)?"{"+String((0,c.default)(Number(e)))+"}":(0,u.default)(e)?"{"+String((0,c.default)(m(e)))+"}":(0,l.default)(e)?"{"+String((0,c.default)(e))+"}":"object"===(void 0===e?"undefined":r(e))?t.verbose?"{"+String((0,c.default)(e))+"}":"{{...}}":"{["+(void 0===e?"undefined":r(e))+"]}"}(n[e],t))})).join(" ")}function _(e,t){return e.length?"\n"+String(e.map((function(e){return y(t,e)})).join("\n"))+"\n":""}function T(e){return(0,h.default)(e,"nodeType")&&"string"==typeof e.nodeType&&(0,h.default)(e,"type")&&(0,h.default)(e,"key")&&(0,h.default)(e,"ref")&&(0,h.default)(e,"instance")&&(0,h.default)(e,"rendered")}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e||"number"==typeof e)return(0,i.default)(e);if("function"==typeof e){var r=(0,o.default)(e);return"[function"+(r?" "+String(r):"")+"]"}if(!e)return"";var a=(0,f.default)();if(!a.isValidElement(e)&&!T(e))return"{"+String((0,c.default)(e))+"}";var s=(0,d.childrenOfNode)(e).map((function(e){return S(e,t,n)})).filter(Boolean),l=v(e),u=n.ignoreProps?"":b(e,n),h=u?" ":"",p=s.length?">":" ",m=_(s,t),g=s.length?"</"+String(l)+">":"/>";return"<"+String(l)+h+String(u)+p+String(m)+g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.buildPredicate=w,t.reduceTreeBySelector=A,t.reduceTreesBySelector=function(e,t){var n=t.map((function(t){return A(e,t)}));return y((0,s.default)(n,1))};var o=n(1063),a=p(n(1069)),s=p(n(154)),l=p(n(499)),u=p(n(59)),c=p(n(1071)),h=n(156),d=n(313),f=p(n(103));function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,o.createParser)(),v="selector",g="attributePresenceSelector";function y(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Set(e)))}function b(e,t){return y(t.reduce(e,[]))}function _(e){try{return m.parse(e)}catch(t){throw new Error("Failed to parse selector: "+String(e))}}function T(e,t){var n=t.operator,r=t.value,i=t.name,o=(0,d.propsOfNode)(e),a=Object.getOwnPropertyDescriptor(o,i);if(a&&a.get)return!1;var s=o[i];if(void 0===s)return!1;if(t.type===g)return(0,u.default)(o,t.name);if(("string"!=typeof s||"string"!=typeof r)&&"="!==n)return!1;switch(n){case"=":return(0,l.default)(s,r);case"~=":return-1!==s.split(" ").indexOf(r);case"|=":return s===r||s.startsWith(String(r)+"-");case"^=":return""!==r&&s.slice(0,r.length)===r;case"$=":return""!==r&&s.slice(-r.length)===r;case"*=":return""!==r&&-1!==s.indexOf(r);default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(n)+'"')}}function S(e,t,n){if(null===e||"string"==typeof e)return!1;switch(t.type){case"universalSelector":return!0;case"classSelector":return(0,h.hasClassName)(e,t.name);case"typeSelector":return(0,d.nodeHasType)(e,t.name);case"idSelector":return(0,h.nodeHasId)(e,t.name);case g:case"attributeValueSelector":return T(e,t);case"pseudoElementSelector":case"pseudoClassSelector":return function(e,t,n){var r=t.name,o=t.parameters;if("not"===r)return o.every((function(t){return 0===A(t,e).length}));if("empty"===r)return 0===(0,h.treeFilter)(e,(function(t){return t!==e})).length;if("first-child"===r){var a=(0,h.findParentNode)(n,e).rendered;return i(a,1)[0]===e}if("last-child"===r){var s=(0,h.findParentNode)(n,e).rendered;return s[s.length-1]===e}if("focus"===r){if("undefined"==typeof document)throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');var l=(0,f.default)();return document.activeElement&&l.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}(e,t,n);default:throw new Error("Unknown token type: "+String(t.type))}}function k(e,t){return function(n){return e.body.every((function(e){return S(n,e,t)}))}}function w(e){if("string"==typeof e){var t=_(e);if(function(e){return e.some((function(e){return e.type!==v}))}(t))throw new TypeError("This method does not support complex CSS selectors");return k(t[0])}var n=(0,f.default)();if(n.isValidElementType?n.isValidElementType(e):"function"==typeof e)return function(t){return t&&t.type===e};if("object"===(void 0===e?"undefined":r(e))){if(!Array.isArray(e)&&null!==e&&Object.keys(e).length>0){if((0,a.default)(e).some((function(e){return void 0===e})))throw new TypeError("Enzyme::Props cant have `undefined` values. Try using findWhere() instead.");return function(t){return(0,h.nodeMatchesObjectProps)(t,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function x(e,t,n){return e.reduce((function(e,r){var i=(0,h.findParentNode)(n,r);if(!i)return e;var o=(0,h.childrenOfNode)(i),a=o.indexOf(r),s=o[a+1];return s?(t(s)&&e.push(s),e):e}),[])}function E(e,t,n){return b((function(e,r){var i=(0,h.findParentNode)(n,r);if(!i)return e;var o=(0,h.childrenOfNode)(i),a=o.indexOf(r),s=o.slice(a+1);return e.concat(s.filter(t))}),e)}function C(e,t){return b((function(e,n){return e.concat((0,h.childrenOfNode)(n).filter(t))}),e)}function O(e,t){return b((function(e,n){return e.concat((0,h.treeFilter)(n,t))}),(0,s.default)(e.map(h.childrenOfNode)))}function A(e,t){if("string"!=typeof e){var n=(0,c.default)(e);if(n.length>0)return(0,s.default)(n.map((function(e){return A(e.tag,t)})))}if("function"==typeof e||"object"===(void 0===e?"undefined":r(e)))return(0,h.treeFilter)(t,w(e));var i=[];if("string"!=typeof e)throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");for(var o=_(e),a=0;a<o.length;){var l=o[a];if(l.type===v){var u=k(l,t);i=i.concat((0,h.treeFilter)(t,u))}else{var d=l.type,f=k(o[a+=1],t);switch(d){case"adjacentSiblingCombinator":i=x(i,f,t);break;case"generalSiblingCombinator":i=E(i,f,t);break;case"childCombinator":i=C(i,f);break;case"descendantCombinator":i=O(i,f);break;default:throw new Error("Unknown combinator selector: "+String(d))}}a+=1}return i}},function(e,t,n){"use strict";var r=n(502),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push(t[a]);return n}},function(e,t,n){"use strict";var r=n(513);e.exports=function(){return"function"==typeof Object.values?Object.values:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=p(n(122)),a=p(n(154)),s=p(n(296)),l=p(n(59)),u=n(313),c=p(n(103)),h=n(511),d=n(156),f=n(512);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,u.sym)("__node__"),b=(0,u.sym)("__nodes__"),_=(0,u.sym)("__renderer__"),T=(0,u.sym)("__unrendered__"),S=(0,u.sym)("__root__"),k=(0,u.sym)("__options__"),w=(0,u.sym)("__setState__"),x=(0,u.sym)("__rootNodes__"),E=(0,u.sym)("__childContext__");function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function O(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function A(e){var t=e.lifecycleExperimental,n=e.disableLifecycleMethods,r=e.enableComponentDidUpdateOnSetState,i=e.supportPrevContextArgumentOfComponentDidUpdate,o=e.lifecycles;if(void 0!==t&&"boolean"!=typeof t)throw new Error("lifecycleExperimental must be either true or false if provided");if(void 0!==n&&"boolean"!=typeof n)throw new Error("disableLifecycleMethods must be either true or false if provided");if(null!=t&&null!=n&&t===n)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(void 0!==r&&o.componentDidUpdate&&o.componentDidUpdate.onSetState!==r)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(void 0!==i&&o.componentDidUpdate&&o.componentDidUpdate.prevContext!==i)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function M(e){var t=e.options,n=t.lifecycles,r=void 0===n?{}:n,i=t.enableComponentDidUpdateOnSetState,a=t.supportPrevContextArgumentOfComponentDidUpdate,s=void 0!==i,l=void 0!==a,u=s||l?(0,o.default)({},s&&{onSetState:!!i},l&&{prevContext:!!a}):null;return(0,o.default)({},r,{setState:(0,o.default)({},r.setState),getChildContext:(0,o.default)({calledByRenderer:!0},r.getChildContext)},u&&{componentDidUpdate:u})}function P(e){return"host"===e.nodeType?e:e.rendered}function I(e){if(1!==e[S].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[S]!==e?e[x][0]:e[S][y]}function L(e,t){return(0,d.parentsOfNode)(t,I(e))}function R(e,t){Array.isArray(t)?((0,u.privateSet)(e,y,t[0]),(0,u.privateSet)(e,b,t)):((0,u.privateSet)(e,y,t),(0,u.privateSet)(e,b,[t])),(0,u.privateSet)(e,"length",e[b].length)}function D(e,t,n,r){return!(0,u.shallowEqual)(e,t)||!(0,u.shallowEqual)(n,r)}function N(e){return e&&e.isPureReactComponent}function j(e,t){return(0,u.isCustomComponentElement)(e,t)&&e.type.prototype&&"function"==typeof e.type.prototype.getChildContext?(0,u.spyMethod)(e.type.prototype,"getChildContext"):null}function H(e,t,n,r,o){var a=t[_];if("parent"===e.options.legacyContextMode)if(o)(0,u.privateSet)(t,E,o.getLastReturnValue()),o.restore();else if("function"==typeof n.getChildContext){var s=function(e,t,n){var r=e.instance,o=e.type,a=(0,u.displayNameOfNode)(e);if("object"!==i(o.childContextTypes))return console.warn(String(a)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var s=r.getChildContext();return Object.keys(s).forEach((function(e){if(!(e in o.childContextTypes))throw new Error(String(a)+'.getChildContext(): key "'+String(e)+'" is not defined in childContextTypes.')})),"function"==typeof n.checkPropTypes&&n.checkPropTypes(o.childContextTypes,s,"child context",t),s}(r,[t[y]].concat(L(t,t[y])),a);(0,u.privateSet)(t,E,s)}else(0,u.privateSet)(t,E,null)}var B=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,e),A(i);var a=(0,u.makeOptions)(i),s=(0,c.default)(a),l=M(s);if(n)(0,u.privateSet)(this,S,n),(0,u.privateSet)(this,T,null),(0,u.privateSet)(this,_,n[_]),R(this,t),(0,u.privateSet)(this,k,n[k]),(0,u.privateSet)(this,x,n[b]);else{if(!s.isValidElement(t))throw new TypeError("ShallowWrapper can only wrap valid elements");var h=l.getChildContext.calledByRenderer?j(t,s):null;(0,u.privateSet)(this,S,this),(0,u.privateSet)(this,T,t);var d=s.createRenderer((0,o.default)({mode:"shallow"},a));(0,u.privateSet)(this,_,d),this[_].render(t,a.context);var f=this[_].getNode();R(this,P(f)),(0,u.privateSet)(this,k,a);var p=f.instance;p&&!a.disableLifecycleMethods&&(l.componentDidUpdate.onSetState&&!p[w]&&((0,u.privateSet)(p,w,p.setState),p.setState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.setState.apply(r,v(null==t?[e]:[e,t]))}),"function"==typeof p.componentDidMount&&this[_].batchedUpdates((function(){p.componentDidMount()})),H(s,this,p,f,h))}}return r(e,[{key:"root",value:function(){return this[S]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[S]===this&&this.update(),this[y]}},{key:"getNodesInternal",value:function(){return this[S]===this&&1===this.length&&this.update(),this[b]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(t){return(0,c.default)(e[k]).nodeToElement(t)}))}},{key:"getElements",value:function(){return this.getNodesInternal().map((0,c.default)(this[k]).nodeToElement)}},{key:"getNode",value:function(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}},{key:"getNodes",value:function(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}},{key:"instance",value:function(){if(this[S]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[_].getNode().instance}},{key:"update",value:function(){if(this[S]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(1!==this.length)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return R(this,P(this[_].getNode())),this}},{key:"unmount",value:function(){return this[_].unmount(),this}},{key:"rerender",value:function(e,t){var n=this,r=(0,c.default)(this[k]);return this.single("rerender",(function(){(0,u.withSetStateAllowed)((function(){var i=n[_].getNode(),a=i.instance||{},s=a.state,l=a.props||n[T].props,c=a.context||n[k].context,h=t||c;t&&(n[k]=(0,o.default)({},n[k],{context:h})),n[_].batchedUpdates((function(){var t=M(r),d=!0,f=void 0,p=void 0;if(!n[k].disableLifecycleMethods&&a&&("function"==typeof a.shouldComponentUpdate&&(f=(0,u.spyMethod)(a,"shouldComponentUpdate")),t.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(p=(0,u.spyMethod)(a,"getChildContext"))),!f&&N(a)&&(d=D(l,e,s,a.state)),e&&(n[T]=(0,u.cloneElement)(r,n[T],e)),n[_].render(n[T],h),f&&(d=f.getLastReturnValue(),f.restore()),d&&!n[k].disableLifecycleMethods&&a)if(H(r,n,a,i,p),t.getSnapshotBeforeUpdate){var m=void 0;"function"==typeof a.getSnapshotBeforeUpdate&&(m=a.getSnapshotBeforeUpdate(l,s)),!t.componentDidUpdate||"function"!=typeof a.componentDidUpdate||s&&!(0,u.shallowEqual)(s,n.instance().state)||a.componentDidUpdate(l,s,m)}else t.componentDidUpdate&&"function"==typeof a.componentDidUpdate&&(t.componentDidUpdate.prevContext?a.componentDidUpdate(l,s,c):s&&!(0,u.shallowEqual)(n.instance().state,s)||a.componentDidUpdate(l,s));else(0,u.shallowEqual)(e,a.props)||(a.props=(Object.freeze||Object)((0,o.default)({},a.props,e)));n.update()}))}))})),this}},{key:"setProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[S]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof t)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(e),t&&t(),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[S]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",(function(){(0,u.withSetStateAllowed)((function(){var r=(0,c.default)(t[k]),i=M(r),o=t[_].getNode(),a=o.instance,s=a.props,l=a.state,h=a.context,d="function"==typeof e?e.call(a,l,s):e,f=!i.setState.skipsComponentDidUpdateOnNullish||null!=d,p=void 0,m=void 0,v=!0;if(!t[k].disableLifecycleMethods&&a&&(i.componentDidUpdate&&i.componentDidUpdate.onSetState&&"function"==typeof a.shouldComponentUpdate&&(p=(0,u.spyMethod)(a,"shouldComponentUpdate")),i.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(m=(0,u.spyMethod)(a,"getChildContext"))),!p&&N(a)&&(v=D(s,a.props,l,d)),a[w]?a[w](d):a.setState(d),p&&(v=p.getLastReturnValue(),p.restore()),f&&v&&!t[k].disableLifecycleMethods&&(H(r,t,a,o,m),i.componentDidUpdate&&i.componentDidUpdate.onSetState))if(i.getSnapshotBeforeUpdate&&"function"==typeof a.getSnapshotBeforeUpdate){var g=a.getSnapshotBeforeUpdate(s,l);"function"==typeof a.componentDidUpdate&&a.componentDidUpdate(s,l,g)}else"function"==typeof a.componentDidUpdate&&(i.componentDidUpdate.prevContext?a.componentDidUpdate(s,l,h):a.componentDidUpdate(s,l));t.update(),n&&(r.invokeSetStateCallback?r.invokeSetStateCallback(a,n):n.call(a))}))})),this}},{key:"setContext",value:function(e){if(this[S]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[k].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,e)}},{key:"contains",value:function(e){var t=(0,c.default)(this[k]);if(!(0,u.isReactElementAlike)(e,t))throw new Error("ShallowWrapper::contains() can only be called with ReactElement (or array of them), string or number as argument.");return C(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,c.default)(this[k]).elementToNode(e);return C(this,(function(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[k]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,f.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,f.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){return this.getNodesInternal().every((function(e){return(0,u.isEmptyValue)(e)}))}},{key:"filterWhere",value:function(e){var t=this;return O(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return O(this,(0,f.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,f.buildPredicate)(e);return O(this,(function(e){return!t(e)}))}},{key:"text",value:function(){return this.single("text",d.getTextFromNode)}},{key:"html",value:function(){var e=this;return this.single("html",(function(t){if(null===e.type())return null;var n=(0,c.default)(e[k]);return n.createRenderer((0,o.default)({},e[k],{mode:"string"})).render(n.nodeToElement(t))}))}},{key:"render",value:function(){return null===this.type()?(0,s.default)():s.default.load("")(this.html())}},{key:"simulate",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.single("simulate",(function(n){var i;return(i=t[_]).simulateEvent.apply(i,[n,e].concat(r)),t[S].update(),t}))}},{key:"simulateError",value:function(e){var t=this;return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var r=t[_];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=I(t),o=[n].concat(L(t,n));return r.simulateError(o,i,e),t}))}},{key:"props",value:function(){return this.single("props",d.propsOfNode)}},{key:"state",value:function(e){var t=this;if(this[S]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if(void 0!==e){if(null==n)throw new TypeError('ShallowWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}},{key:"context",value:function(e){var t=this;if(this[S]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[k].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(null===this.instance())throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var n=this.single("context",(function(){return t.instance().context}));return e?n[e]:n}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,d.childrenOfNode)(e.getNodeInternal())}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(L(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"shallow",value:function(e){var t=this;return this.single("shallow",(function(n){return t.wrap((0,c.default)(t[k]).nodeToElement(n),null,e)}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"renderProp",value:function(e){var t=this,n=(0,c.default)(this[k]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(r){if("host"===r.nodeType)throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called "+String(e)+" found");var a=o[e];if("function"!=typeof a)throw new TypeError("expected prop "+String(e)+" to contain a function, but it holds "+("undefined"==typeof prop?"undefined":i(prop))+"");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[k])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,c.default)(this[k]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,d.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[S]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var t=(0,f.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,f.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,a.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return C(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method "+n+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[S];if(t instanceof e)return t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e,[null].concat([t,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"dive",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.default)(this[k]),r="dive";return this.single(r,(function(i){if(i&&"host"===i.nodeType)throw new TypeError("ShallowWrapper::"+r+"() can not be called on Host Components");var a=(0,c.default)(e[k]).nodeToElement(i);if(!(0,u.isCustomComponentElement)(a,n))throw new TypeError("ShallowWrapper::"+r+"() can only be called on components");return e.wrap(a,null,(0,o.default)({},e[k],t,{context:t.context||(0,o.default)({},e[k].context,e[S][E])}))}))}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}}]),e}();function F(e,t){Object.defineProperty(B.prototype,e,{get:function(){throw new Error("\n        Attempted to access ShallowWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(B.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this.getNodesInternal()[u.ITERATOR_SYMBOL](),n=(0,c.default)(this[k]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),F("node","Consider using the getElement() method instead."),F("nodes","Consider using the getElements() method instead."),F("renderer",""),F("options",""),F("complexSelector",""),t.default=B},function(e,t,n){e.exports={default:n(517),__esModule:!0}},function(e,t,n){n(76),n(61),e.exports=n(518)},function(e,t,n){var r=n(111),i=n(21)("iterator"),o=n(51);e.exports=n(12).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(62),o=(r=i)&&r.__esModule?r:{default:r},a=n(104),s=n(10);var l={},u=function(e,t){return l[e]?o.default.resolve(l[e]):t(e)},c=function(e){return fetch(e,{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(e){return function(e){if(0===e.length)return null;var t=(0,a.tsvParseRows)(e);return(0,s.parseChromsizesRows)(t)}(e)})).catch((function(e){console.error("Could not retrieve or parse chrom info.",e)}))},h={get:function(e){return u(t=e,c).then((function(e){return l[t]=e,l[t]}));var t}};t.default=h},function(e,t,n){n(164),n(61),n(76),n(521),n(525),n(526),e.exports=n(12).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(75),l=n(23),u=n(49),c=n(111),h=n(16),d=n(33),f=n(92),p=n(218),m=n(129),v=n(318),g=n(319).set,y=n(523)(),b=n(219),_=n(320),T=n(524),S=n(321),k="Promise",w=l.TypeError,x=l.process,E=x&&x.versions,C=E&&E.v8||"",O=l.Promise,A="process"==c(x),M=function(){},P=i=b.f,I=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(21)("species")]=function(e){e(M,M)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==C.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?u(w("Promise-chain cycle")):(o=L(n))?o.call(n,l,u):l(n)):u(r)}catch(e){c&&!a&&c.exit(),u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){g.call(l,(function(){var t,n,r,i=e._v,o=N(e);if(o&&(t=_((function(){A?x.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=A||N(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){g.call(l,(function(){var t;A?x.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},H=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=L(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(B,r,1),u(H,r,1))}catch(e){H.call(r,e)}})):(n._v=e,n._s=1,R(n,!1))}catch(e){H.call({_w:n,_d:!1},e)}}};I||(O=function(e){p(this,O,k,"_h"),f(e),r.call(this);try{e(u(B,this,1),u(H,this,1))}catch(e){H.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(220)(O.prototype,{then:function(e,t){var n=P(v(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(B,e,1),this.reject=u(H,e,1)},b.f=P=function(e){return e===O||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!I,{Promise:O}),n(77)(O,k),n(322)(k),a=n(12).Promise,h(h.S+h.F*!I,k,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!I),k,{resolve:function(e){return S(s&&this===a?O:this,e)}}),h(h.S+h.F*!(I&&n(167)((function(e){O.all(e).catch(M)}))),k,{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(23),i=n(319).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(74)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var h=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(23).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(16),i=n(12),o=n(23),a=n(318),s=n(321);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(16),i=n(219),o=n(320);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){if(!t||!t.cumPositions||!t.cumPositions.length)return null;var n=(0,r.chromInfoBisector)(t.cumPositions,e),i=t.cumPositions[t.cumPositions.length-1].chr,o=t.chromLengths[i];n-=n>0&&1;var a=Math.floor(e-t.cumPositions[n].pos),s=0;return a<0&&(s=a-1,a=1),n===t.cumPositions.length-1&&a>o&&(s=a-o,a=o),[t.cumPositions[n].chr,a,s,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return function(n){return n%e*t+Math.floor(n/e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return e.map((function(e,r){return e+t[n(r)]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(221),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if("http://www.w3.org/2000/svg"===e.namespaceURI){if(!(0,o.default)(e,t)){var n=e.getAttribute("class")||"";e.setAttribute("class",String(n)+" "+String(t))}}else e.classList?e.classList.add(t):(0,o.default)(e,t)||(e.className+=" "+String(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(62),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=document.createElement("canvas");return new o.default((function(i,o){var a=new window.Image;a.onload=function(){r.width=t||a.width,r.height=n||a.height,r.getContext("2d").drawImage(a,0,0),i(r)},a.onerror=function(){o(new Error("Could not convert base64 to canvas"))},a.src="data:image/png;base64,"+String(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n(8).bisector)((function(e){return e.pos})).left;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){return n.chrPositions[e].pos+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n(8),o=n(9);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(t,n){return n*(255/(e.length-1))})),a=(0,r.scaleLinear)().domain(n).range(e),s=t?255:254,l=(0,i.range)(s,-1,-1).map(a).map((function(e){var t=(0,o.rgb)(e);return[t.r,t.g,t.b,255*t.opacity]}));return l.length<256&&l.push([255,255,255,0]),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9),o=n(324),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=(0,i.color)(e);return a.default.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.default=function(e){if("transparent"===e)return[255,255,255,0];var t=(0,r.color)(e);return[t.r,t.g,t.b,255]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.debounce=function e(t,n,r){var i=void 0;return e.cancel=function(){clearTimeout(i),i=null},function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=function(){i=null,r||t.apply(void 0,o)},l=r&&!i;clearTimeout(i),i=setTimeout(s,n),l&&t.apply(void 0,o)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(e+Math.pow(16,6)).toString(16).substr(-6)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t={};return e.forEach((function(e){t[e[0]]=e[1]})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},function(e,t,n){"use strict";function r(e,t){var n="string"==typeof t?new Blob([t],{type:"application/octet-stream"}):t;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}}Object.defineProperty(t,"__esModule",{value:!0}),t.download=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(34),o=(r=i)&&r.__esModule?r:{default:r},a=n(11);t.default=function(e){return e.center=e.center||[],e.left=e.left||[],e.right=e.right||[],e.top=e.top||[],e.bottom=e.bottom||[],e.whole=e.whole||[],e.gallery=e.gallery||[],["top","bottom","gallery"].map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=a.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},r=e.options?(0,o.default)({},n,e.options):n;void 0!==r.minHeight&&void 0===e.height&&(e.height=r.minHeight),void 0===e.height&&(e.height=t&&t.defaultHeight||a.MIN_HORIZONTAL_HEIGHT)}))})),["left","right","gallery"].map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=a.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},r=e.options?(0,o.default)({},n,e.options):n;void 0!==r.minWidth&&void 0===e.width&&(e.width=r.minWidth),void 0===e.width&&(e.width=t&&t.defaultWidth||a.MIN_VERTICAL_WIDTH)}))})),e}},function(e,t,n){n(546),n(164),n(549),n(550),e.exports=n(12).Symbol},function(e,t,n){"use strict";var r=n(23),i=n(47),o=n(36),a=n(16),s=n(161),l=n(226).KEY,u=n(50),c=n(106),h=n(77),d=n(91),f=n(21),p=n(168),m=n(227),v=n(547),g=n(328),y=n(39),b=n(33),_=n(48),T=n(127),S=n(66),k=n(110),w=n(548),x=n(228),E=n(32),C=n(60),O=x.f,A=E.f,M=w.f,P=r.Symbol,I=r.JSON,L=I&&I.stringify,R=f("_hidden"),D=f("toPrimitive"),N={}.propertyIsEnumerable,j=c("symbol-registry"),H=c("symbols"),B=c("op-symbols"),F=Object.prototype,z="function"==typeof P,V=r.QObject,U=!V||!V.prototype||!V.prototype.findChild,G=o&&u((function(){return 7!=k(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=O(F,t);r&&delete F[t],A(e,t,n),r&&e!==F&&A(F,t,r)}:A,Y=function(e){var t=H[e]=k(P.prototype);return t._k=e,t},W=z&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},q=function(e,t,n){return e===F&&q(B,t,n),y(e),t=T(t,!0),y(n),i(H,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=k(n,{enumerable:S(0,!1)})):(i(e,R)||A(e,R,S(1,{})),e[R][t]=!0),G(e,t,n)):A(e,t,n)},X=function(e,t){y(e);for(var n,r=v(t=_(t)),i=0,o=r.length;o>i;)q(e,n=r[i++],t[n]);return e},K=function(e){var t=N.call(this,e=T(e,!0));return!(this===F&&i(H,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(H,e)||i(this,R)&&this[R][e])||t)},$=function(e,t){if(e=_(e),t=T(t,!0),e!==F||!i(H,t)||i(B,t)){var n=O(e,t);return!n||!i(H,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(_(e)),r=[],o=0;n.length>o;)i(H,t=n[o++])||t==R||t==l||r.push(t);return r},Q=function(e){for(var t,n=e===F,r=M(n?B:_(e)),o=[],a=0;r.length>a;)!i(H,t=r[a++])||n&&!i(F,t)||o.push(H[t]);return o};z||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(B,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),G(this,e,S(1,n))};return o&&U&&G(F,e,{configurable:!0,set:t}),Y(e)},s(P.prototype,"toString",(function(){return this._k})),x.f=$,E.f=q,n(329).f=w.f=Z,n(93).f=K,n(130).f=Q,o&&!n(75)&&s(F,"propertyIsEnumerable",K,!0),p.f=function(e){return Y(f(e))}),a(a.G+a.W+a.F*!z,{Symbol:P});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)f(J[ee++]);for(var te=C(f.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=P(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?k(e):X(k(e),t)},defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),I&&a(a.S+a.F*(!z||u((function(){var e=P();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!W(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,L.apply(I,r)}}),P.prototype[D]||n(43)(P.prototype,D,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){var r=n(60),i=n(130),o=n(93);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(48),i=n(329).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(227)("asyncIterator")},function(e,t,n){n(227)("observable")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATATYPE_TO_TRACK_TYPE=void 0;var r=n(11),i=t.DATATYPE_TO_TRACK_TYPE=function(e){var t={};return r.TRACKS_INFO.filter((function(t){return t.orientation===e||!("1d-vertical"!==e||"1d-horizontal"!==t.orientation||!t.rotatable)})).forEach((function(e){var n=e.datatype;Array.isArray(e.datatype)||(n=[n]),n.forEach((function(n){n in t||(t[n]=[]),t[n].push(e)}))})),t.none=[],t};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]];t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_TRACK_RANGE_SELECTABLE=void 0;var r=n(10),i=t.IS_TRACK_RANGE_SELECTABLE=function e(t){switch(t.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return t.contents.map((function(t){return e(t)})).reduce(r.or,!1);default:return!1}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONS_INFO=void 0;var r=c(n(19)),i=c(n(37)),o=c(n(17)),a=c(n(34)),s=c(n(44)),l=n(20),u=c(n(557));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){if(!e.header)return[];for(var t=e.header.split("\t"),n=[],r=0;r<t.length;r++)n.push({name:t[r],value:r+1});return n},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.reduce((function(e,r){return e[r]={name:""+r*n+String(t),value:r},e}),{})},f={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},p={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},m=d([1,2,3,5,8,13,21]),v=(0,s.default)(m,{none:{name:"none",value:"none"}}),g=d([0,2,4,8,16,32,64,128,256]),y=d([0,.2,.4,.6,.8,1],"%",100),b=d([.2,.4,.6,.8,1],"%",100),_=t.OPTIONS_INFO={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:g},labelRightMargin:{name:"Label Right Margin",inlineOptions:g},labelTopMargin:{name:"Label Top Margin",inlineOptions:g},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:g},labelShowResolution:{name:"Label Show Resolution",inlineOptions:f},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:f},lineStrokeWidth:{name:"Stroke Width",inlineOptions:m},strokeWidth:{name:"Stroke Width",inlineOptions:m},trackBorderWidth:{name:"Track Border Width",inlineOptions:m},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:f},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:f},showTexts:{name:"Show texts",inlineOptions:f},staggered:{name:"Staggered",inlineOptions:f},minSquareSize:{name:"Minimum size",inlineOptions:v},pointSize:{name:"Point Size",inlineOptions:m},pointColor:{name:"Point Color",inlineOptions:p},trackBorderColor:{name:"Track Border Color",inlineOptions:p},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:p},plusStrandColor:{name:"+ Strand Color",inlineOptions:p},lineStrokeColor:{name:"Stroke color",inlineOptions:p},projectionStrokeColor:{name:"Stroke color",inlineOptions:p},projectionFillColor:{name:"Fill color",inlineOptions:p},stroke:{name:"Stroke Color",inlineOptions:p},strokeColor:{name:"Stroke color",inlineOptions:p},fill:{name:"Fill Color",inlineOptions:p},color:{name:"Color",inlineOptions:p},fontColor:{name:"Font color",inlineOptions:p},fillColor:{name:"Fill color",inlineOptions:p},barFillColor:{name:"Fill color",inlineOptions:p},barFillColorTop:{name:"Top Fill color",inlineOptions:p},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:p},barOpacity:{name:"Bar opacity",inlineOptions:y},zeroLineVisible:{name:"Zero line visible",inlineOptions:f},zeroLineColor:{name:"Zero line color",inlineOptions:p},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:b},fillOpacity:{name:"Fill Opacity",inlineOptions:y},strokeOpacity:{name:"Stroke Opacity",inlineOptions:y},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:f},scaledHeight:{name:"Scaled height",inlineOptions:f},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:p},rectangleDomainFillColor:{name:"Fill color",inlineOptions:p},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:y},rectangleDomainOpacity:{name:"Opacity",inlineOptions:y},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:f},showTooltip:{name:"Show Tooltip",inlineOptions:f},fontSize:{name:"Font Size",inlineOptions:d([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:h},fontIsAligned:{name:"Left-Align Font",inlineOptions:f},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:d([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:p},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:y},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:(0,a.default)({},p,{use_stroke:{name:"Glyph color",value:"[glyph-color]"}})},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:y},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:p},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:y},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:u.default,"horizontal-heatmap":u.default}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:f},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(e){var t=[];if(e.transforms){var n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(e.transforms);!(n=(a=s.next()).done);n=!0){var l=a.value;t.push({name:l.name,value:l.value})}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}return t}},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:function(e){var t=[];return e.aggregationModes?(0,i.default)(e.aggregationModes).forEach((function(e){var n=e.name,r=e.value;t.push({name:n,value:r})})):t.push({name:"Default",value:"default"}),t}},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(e){if(e.maxZoom){for(var t=[],n=0;n<=e.maxZoom;n++){var i=e.maxWidth,o=e.binsPerDimension,a=e.maxZoom,s=1,u=1;if(e.resolutions){var c=e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));s=(0,r.default)(c,1)[0],u=c[n]}else u=e.maxWidth/(Math.pow(2,n)*e.binsPerDimension),s=i/(Math.pow(2,a)*o);var h=(0,l.precisionPrefix)(s,u),d=(0,l.formatPrefix)("."+String(h),u)(u);t.push({name:d,value:n.toString()})}return t}return[]}},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:h},zeroValueColor:{name:"Zero Value Color",inlineOptions:p}};t.default=_},function(e,t,n){n(556),e.exports=n(12).Object.values},function(e,t,n){var r=n(16),i=n(330)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(44)),i=m(n(35)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(7)),c=m(n(2)),h=m(n(1)),d=m(n(169)),f=m(n(232)),p=m(n(730));function m(e){return e&&e.__esModule?e:{default:e}}n(879);var v=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={colors:e.track.options.colorRange.slice()},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"handleColorsChanged",value:function(e){this.setState({colors:e})}},{key:"handleSubmit",value:function(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}},{key:"handleAddColor",value:function(){this.setState((function(e){return{colors:e.colors.concat(e.colors[e.colors.length-1])}}))}},{key:"handleRemoveColor",value:function(e){this.setState((function(t){return{colors:t.colors.slice(0,e).concat(t.colors.slice(e+1))}}))}},{key:"render",value:function(){var e=this,t=JSON.parse((0,i.default)(this.props.track)),n=(0,r.default)(t,{options:{colorRange:this.state.colors}}),o={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+String(this.props.track.uid),initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+String(this.props.track.id)}}]},a=this.state.colors.map((function(t,n){var r=e.state.colors.length>2&&n===e.state.colors.length-1?h.default.createElement("div",{onClick:function(){return e.handleRemoveColor(n)},style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},h.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},h.default.createElement("use",{xlinkHref:"#cross"}))):null;return h.default.createElement("div",{key:"l"+String(n),style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},r,h.default.createElement(p.default,{key:n,color:e.state.colors[n],onChange:function(t){e.setState((function(e){var r=e.colors.slice();return r[n]=t,{colors:r}}),(function(){e.handleColorsChanged(e.state.colors)}))}}))})).reverse(),s=this.state.colors.length<10?h.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},h.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},h.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},h.default.createElement("use",{xlinkHref:"#plus"})))):null;return h.default.createElement(d.default,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},h.default.createElement("table",{className:"table-track-options"},h.default.createElement("thead",null),h.default.createElement("tbody",{style:{verticalAlign:"top"}},h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},h.default.createElement("table",null,h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},"Preview")),h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},h.default.createElement("div",{style:{width:200}},h.default.createElement(f.default,{options:{bounded:!1},viewConfig:o}))))))),h.default.createElement("td",{className:"td-track-options"},h.default.createElement("table",null,h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},"Colors")),h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},s,h.default.createElement("div",{style:{position:"relative"}},a))))))))))}}]),t}(h.default.Component);v.propTypes={handleCancel:c.default.func,onCancel:c.default.func,onSubmit:c.default.func,track:c.default.object,xScale:c.default.object,yScale:c.default.object},t.default=v},function(e,t,n){n(559),e.exports=n(12).Object.getPrototypeOf},function(e,t,n){var r=n(54),i=n(128);n(126)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(561),__esModule:!0}},function(e,t,n){n(61),n(76),e.exports=n(168).f("iterator")},function(e,t,n){n(563),e.exports=n(12).Object.setPrototypeOf},function(e,t,n){var r=n(16);r(r.S,"Object",{setPrototypeOf:n(564).set})},function(e,t,n){var r=n(33),i=n(39),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(49)(Function.call,n(228).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(566),__esModule:!0}},function(e,t,n){n(567);var r=n(12).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(16);r(r.S,"Object",{create:n(110)})},function(e,t,n){"use strict";var r=n(569);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){e.exports={button:"Button-module_button-3YXsQ","button-shortcut":"Button-module_button-shortcut-1zMAn"}},function(e,t,n){e.exports={cross:"Cross-module_cross-3WYME"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(29)),i=u(n(1)),o=u(n(2)),a=u(n(170)),s=u(n(332)),l=u(n(132));function u(e){return e&&e.__esModule?e:{default:e}}n(573);var c={"../styles/Modal.module.scss":{"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},h=function(e){return i.default.createElement("div",{className:(0,r.default)("modal-background "+(e.hide?"modal-hide":""),c)},i.default.createElement("div",{className:"Modal-module_modal-wrap-1HWNn"},i.default.createElement("div",{className:(0,r.default)("modal-window "+(e.maxHeight?"modal-window-max-height":""),c)},e.closeButton&&i.default.createElement(a.default,{onClick:function(){e.modal.close(),e.onClose&&e.onClose()}},i.default.createElement(s.default,null)),i.default.createElement("div",{className:"Modal-module_modal-content-2xb_x"},e.children))))};h.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},h.propTypes={children:o.default.element.isRequired,closeButton:o.default.bool,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,onClose:o.default.func},t.default=(0,l.default)(h)},function(e,t,n){e.exports={"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},function(e,t,n){e.exports={"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},function(e,t,n){e.exports={default:n(576),__esModule:!0}},function(e,t,n){n(577),e.exports=n(12).Object.entries},function(e,t,n){var r=n(16),i=n(330)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){n(164),n(61),n(76),n(579),n(583),n(585),n(586),e.exports=n(12).Set},function(e,t,n){"use strict";var r=n(333),i=n(238);e.exports=n(334)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(49),i=n(105),o=n(54),a=n(88),s=n(581);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h,f=t||s;return function(t,s,p){for(var m,v,g=o(t),y=i(g),b=r(s,p,3),_=a(y.length),T=0,S=n?f(t,_):l?f(t,0):void 0;_>T;T++)if((d||T in y)&&(v=b(m=y[T],T,g),e))if(n)S[T]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return T;case 2:S.push(m)}else if(c)return!1;return h?-1:u||c?c:S}}},function(e,t,n){var r=n(582);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(33),i=n(328),o=n(21)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(16);r(r.P+r.R,"Set",{toJSON:n(335)("Set")})},function(e,t,n){var r=n(129);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(336)("Set")},function(e,t,n){n(337)("Set")},function(e,t,n){(function(e){var r=n(590);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return r.v4(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=r.v4(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(this,n(113).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),l=0,c=a>0?r-4:r,h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[l++]=255&t);1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(c(e,s,s+a>l?l:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*m}},function(e,t,n){for(var r=n(591),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var l=r(),u=[1|l[0],l[1],l[2],l[3],l[4],l[5]],c=16383&(l[6]<<8|l[7]),h=0,d=0;function f(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||s(o)}var p=f;p.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:d+1,f=a-h+(l-d)/1e4;if(f<0&&void 0===e.clockseq&&(o=o+1&16383),(f<0||a>h)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=a,d=l,c=o;var p=(1e4*(268435455&(a+=122192928e5))+l)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var v=e.node||u,g=0;g<6;g++)i[r+g]=v[g];return t||s(i)},p.v4=f,p.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=o[e])}));i<16;)t[r+i++]=0;return t},p.unparse=s,e.exports=p},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(27))},function(e,t,n){e.exports=n(339).default,e.exports.utils=n(133),e.exports.Responsive=n(597).default,e.exports.Responsive.utils=n(343),e.exports.WidthProvider=n(598).default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=n(341),s=n(594),l=n(133),u=c(n(340));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;h(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.state={resizing:null,dragging:null,className:""},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,l=o.rowHeight,u=this.calcColWidth(),c={left:Math.round((u+a[0])*e+s[0]),top:Math.round((l+a[1])*t+s[1]),width:n===1/0?n:Math.round(u*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(l*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(c.width=Math.round(i.resizing.width),c.height=Math.round(i.resizing.height)),i&&i.dragging&&(c.top=Math.round(i.dragging.top),c.left=Math.round(i.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,l=n.maxRows,u=this.calcColWidth(),c=Math.round((t-r[0])/(u+r[0])),h=Math.round((e-r[1])/(o+r[1]));return{x:c=Math.max(Math.min(c,i-a),0),y:h=Math.max(Math.min(h,l-s),0)}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,l=r.x,u=r.y,c=this.calcColWidth(),h=Math.round((n+i[0])/(c+i[0])),d=Math.round((t+i[1])/(s+i[1]));return{w:h=Math.max(Math.min(h,a-l),0),h:d=Math.max(Math.min(d,o-u),0)}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=void 0;return t.useCSSTransforms?i=(0,l.setTransform)(e):(i=(0,l.setTopLeft)(e),n&&(i.left=(0,l.perc)(e.left/r),i.width=(0,l.perc)(e.width/r))),i},t.prototype.mixinDraggable=function(e){return i.default.createElement(a.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,o=n.x,a=n.minW,l=n.minH,u=n.maxW,c=n.maxH,h=this.calcPosition(0,0,r-o,0).width,d=this.calcPosition(0,0,a,l),f=this.calcPosition(0,0,u,c),p=[d.width,d.height],m=[Math.min(f.width,h),Math.min(f.height,1/0)];return i.default.createElement(s.Resizable,{width:t.width,height:t.height,minConstraints:p,maxConstraints:m,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var l={top:0,left:0};switch(e){case"onDragStart":var u=i.offsetParent;if(!u)return;var c=u.getBoundingClientRect(),h=i.getBoundingClientRect();l.left=h.left-c.left+u.scrollLeft,l.top=h.top-c.top+u.scrollTop,t.setState({dragging:l});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=t.state.dragging.left+o,l.top=t.state.dragging.top+a,t.setState({dragging:l});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=t.state.dragging.left,l.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var d=t.calcXY(l.top,l.left),f=d.x,p=d.y;return s.call(t,t.props.i,f,p,{e:n,node:i,newPosition:l})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,l=s.cols,u=s.x,c=s.i,h=s.maxW,d=s.minW,f=s.maxH,p=s.minH,m=t.calcWH(o),v=m.w,g=m.h;v=Math.min(v,l-u),v=Math.max(v,1),v=Math.max(Math.min(v,h),d),g=Math.max(Math.min(g,f),p),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,c,v,g,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,o=e.w,a=e.h,s=e.isDraggable,l=e.isResizable,c=e.useCSSTransforms,h=this.calcPosition(t,n,o,a,this.state),d=i.default.Children.only(this.props.children),f=i.default.cloneElement(d,{className:(0,u.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":s,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:c}),style:r({},this.props.style,d.props.style,this.createStyle(h))});return l&&(f=this.mixinResizable(f,h)),s&&(f=this.mixinDraggable(f)),f},t}(i.default.Component);f.propTypes={children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,className:o.default.string,handle:o.default.string,cancel:o.default.string},f.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=f},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(342).default,e.exports.ResizableBox=n(596).default},function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};e.exports=function(e,t){return t.style&&e.props.style&&(t.style=i({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),a.default.cloneElement(e,t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(1)),o=s(n(2)),a=s(n(342));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;l(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=u(this,e.call.apply(e,[this].concat(o))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height;r.props.onResize?(e.persist&&e.persist(),r.setState(n,(function(){return r.props.onResize&&r.props.onResize(e,t)}))):r.setState(n)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),s=e.onResizeStop,l=e.draggableOpts,u=e.minConstraints,c=e.maxConstraints,h=e.lockAspectRatio,d=e.axis,f=(e.width,e.height,e.resizeHandles),p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return i.default.createElement(a.default,{handle:t,handleSize:n,width:this.state.width,height:this.state.height,onResizeStart:o,onResize:this.onResize,onResizeStop:s,draggableOpts:l,minConstraints:u,maxConstraints:c,lockAspectRatio:h,axis:d,resizeHandles:f},i.default.createElement("div",r({style:{width:this.state.width+"px",height:this.state.height+"px"}},p)))},t}(i.default.Component);c.propTypes={height:o.default.number,width:o.default.number},c.defaultProps={handleSize:[20,20]},t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(172)),s=n(133),l=n(343),u=c(n(339));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){return Object.prototype.toString.call(e)},p=function(e){function t(){var n,i;h(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=d(this,e.call.apply(e,[this].concat(a))),i.state=i.generateInitialState(),i.onLayoutChange=function(e){var t;i.props.onLayoutChange(e,r({},i.props.layouts,((t={})[i.state.breakpoint]=e,t)))},d(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,l.getBreakpointFromWidth)(n,t),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,a.default)(e.breakpoints,this.props.breakpoints)&&(0,a.default)(e.cols,this.props.cols)){if(!(0,a.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,l.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,s.cloneLayout)(this.state.layout));var u=(0,l.getColsFromBreakpoint)(o,n),c=(0,l.findOrGenerateResponsiveLayout)(r,t,o,a,u,i);c=(0,s.synchronizeLayoutWithChildren)(c,e.children,u,i),r[o]=c,this.props.onLayoutChange(c,r),this.props.onBreakpointChange(o,u),this.props.onWidthChange(e.width,e.margin,u,e.containerPadding),this.setState({breakpoint:o,layout:c,cols:u})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return i.default.createElement(u.default,r({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(i.default.Component);p.propTypes={breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,layouts:function(e,t){if("[object Object]"!==f(e[t]))throw new Error("Layout property must be an object. Received: "+f(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func},p.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop},t.default=p},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t,n;return n=t=function(t){function n(){var e,r;l(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=a.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},u(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["measureBeforeMount"]);return n&&!this.mounted?i.default.createElement("div",{className:this.props.className,style:this.props.style}):i.default.createElement(e,r({},o,this.state))},n}(i.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:o.default.bool},n};var i=s(n(1)),o=s(n(2)),a=s(n(42));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";var r,i,o;"undefined"!=typeof window&&window,i=[n(345)],void 0===(o="function"==typeof(r=function(e){var t=function(){var t,n={},r=[];function i(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function a(e,t){var n=t.split(/\d/),r=n[n.length-1];switch(t=parseFloat(t),r){case"px":default:return t;case"em":return t*i(e);case"rem":return t*i();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===r?"min":"max"])(o,a)}}function s(e,t){var r,i,s,l,u,c,h,d;this.element=e;var f=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in s=o(this.element),c={},n[t])n[t].hasOwnProperty(r)&&(i=n[t][r],l=a(this.element,i.value),u="width"===i.property?s.width:s.height,d=i.mode+"-"+i.property,h="","min"===i.mode&&u>=l&&(h+=i.value),"max"===i.mode&&u<=l&&(h+=i.value),c[d]||(c[d]=""),h&&-1===(" "+c[d]+" ").indexOf(" "+h+" ")&&(c[d]+=" "+h));for(var e in f)f.hasOwnProperty(e)&&(c[f[e]]?this.element.setAttribute(f[e],c[f[e]].substr(1)):this.element.removeAttribute(f[e]))}}function l(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new s(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()}))),t.elementQueriesSetupInformation.call()}function u(e,i,o,a){if(void 0===n[e]){n[e]=[];var s=r.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+s+"px;}",r.push(e)}n[e].push({mode:i,property:o,value:a})}function c(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function h(e){var t=c(e);for(var r in n)if(n.hasOwnProperty(r))for(var i=t(r,e),o=0,a=i.length;o<a;o++)l(i[o],r)}function d(t){var n=[],r=[],i=[],o=0,a=-1,s=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){n.push(t.children[l]);var u=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),c=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");i.push(c);var h={minWidth:u};r.push(h),u?t.children[l].style.display="none":(o=n.length-1,t.children[l].style.display="block")}function d(){var e,l=!1;for(e in n)n.hasOwnProperty(e)&&r[e].minWidth&&t.offsetWidth>r[e].minWidth&&(l=e);if(l||(l=o),a!==l)if(s[l])n[a].style.display="none",n[l].style.display="block",a=l;else{var u=new Image;u.onload=function(){n[l].src=i[l],n[a].style.display="none",n[l].style.display="block",s[l]=!0,a=l},u.src=i[l]}else n[l].src=i[l]}a=o,t.resizeSensorInstance=new e(t,d),d()}function f(){for(var e=c()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)d(e[t])}var p=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function v(e){var t,n,r,i;for(e=e.replace(/'/g,'"');null!==(t=p.exec(e));)for(n=t[1]+t[3],r=t[2];null!==(i=m.exec(r));)u(n,i[1],i[2],i[3])}function g(e){var t="";if(e)if("string"==typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||v(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?v(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||v(t):4===e[n].type?g(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&g(e[n].styleSheet.cssRules)}var y=!1;this.init=function(){var n="animationstart";void 0!==document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?n="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,i=n&&window.getComputedStyle(n,null),o=i&&i.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");a=parseInt(a.replace("px","")),l(t.target,r[a])}})),y||((t=document.createElement("style")).type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),y=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&0===document.styleSheets[i].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[i].href),g(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch(e){}f()},this.findElementQueriesElements=function(e){h(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t})?r.apply(t,i):r)||(e.exports=o)},function(e,t){function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",l=0,u=t?n(t):this.shift;for(l=0;l<i;l++)r[l].search(/<!/)>-1?(s+=u[a]+r[l],o=!0,(r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1||r[l].search(/!DOCTYPE/)>-1)&&(o=!1)):r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1?(s+=r[l],o=!1):/^<\w/.exec(r[l-1])&&/^<\/\w/.exec(r[l])&&/^<[\w:\-\.\,]+/.exec(r[l-1])==/^<\/[\w:\-\.\,]+/.exec(r[l])[0].replace("/","")?(s+=r[l],o||a--):r[l].search(/<\w/)>-1&&-1==r[l].search(/<\//)&&-1==r[l].search(/\/>/)?s=s+=o?r[l]:u[a++]+r[l]:r[l].search(/<\w/)>-1&&r[l].search(/<\//)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\//)>-1?s=s+=o?r[l]:u[--a]+r[l]:r[l].search(/\/>/)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\?/)>-1||r[l].search(/xmlns\:/)>-1||r[l].search(/xmlns\=/)>-1?s+=u[a]+r[l]:s+=r[l];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,l=t?n(t):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=l[o++]+r[s]:/\}/.exec(r[s])?a+=l[--o]+r[s]:(/\*\\/.exec(r[s]),a+=l[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],l=0,u=this.step,c=0,h="",d=0,f=t?n(t):this.shift;for(d=0;d<a;d++)s=d%2?s.concat(r[d]):s.concat(o(r[d],u));for(a=s.length,d=0;d<a;d++){c=i(s[d],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[d])&&(s[d]=s[d].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[d])&&(s[d]=s[d].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[d])?h+=f[++l]+s[d]:/\'/.exec(s[d])?(c<1&&l&&l--,h+=s[d]):(h+=f[l]+s[d],c<1&&l&&l--)}return h=h.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},function(e,t,n){"use strict";(function(t){var r=n(602),i=n(603),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function h(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(e=e||r);if("blob:"===e.protocol)i=new f(unescape(e.pathname),{});else if("string"===a)for(n in i=new f(e,{}),c)delete i[n];else if("object"===a){for(n in e)n in c||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=o.test(e.href))}return i}function d(e){e=l(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function f(e,t,n){if(e=l(e),!(this instanceof f))return new f(e,t,n);var o,a,s,c,p,m,v=u.slice(),g=typeof t,y=this,b=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=h(t),o=!(a=d(e||"")).protocol&&!a.slashes,y.slashes=a.slashes||o&&t.slashes,y.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(v[3]=[/(.*)/,"pathname"]);b<v.length;b++)"function"!=typeof(c=v[b])?(s=c[0],m=c[1],s!=s?y[m]=e:"string"==typeof s?~(p=e.indexOf(s))&&("number"==typeof c[2]?(y[m]=e.slice(0,p),e=e.slice(p+c[2])):(y[m]=e.slice(p),e=e.slice(0,p))):(p=s.exec(e))&&(y[m]=p[1],e=e.slice(0,p.index)),y[m]=y[m]||o&&c[3]&&t[m]||"",c[4]&&(y[m]=y[m].toLowerCase())):e=c(e);n&&(y.query=n(y.query)),o&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(c=y.auth.split(":"),y.username=c[0]||"",y.password=c[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}f.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<u.length;s++){var l=u[s];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},f.extractProtocol=d,f.location=h,f.trimLeft=l,f.qs=i,e.exports=f}).call(this,n(27))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in r||(r[o]=a)}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=z(n(38)),i=z(n(17)),o=z(n(63)),a=z(n(55)),s=z(n(44)),l=z(n(37)),u=z(n(35)),c=z(n(18)),h=z(n(25)),d=z(n(5)),f=z(n(3)),p=z(n(4)),m=z(n(6)),v=z(n(7)),g=n(0),y=z(n(26)),b=z(n(1)),_=z(n(42)),T=z(n(2)),S=n(344),k=z(n(67)),w=z(n(605)),x=z(n(607)),E=z(n(609)),C=z(n(611)),O=z(n(655)),A=z(n(662)),M=z(n(664)),P=z(n(264)),I=z(n(96)),L=z(n(392)),R=z(n(670)),D=z(n(673)),N=z(n(69)),j=z(n(132)),H=z(n(78)),B=n(10),F=n(11);z(n(176)),z(n(346));function z(e){return e&&e.__esModule?e:{default:e}}var V=function(e){function t(e){(0,f.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));n.closing=!1;var r=n.props.tracks;return n.canvasElement=null,n.tracksByUidInit={},[].concat((0,h.default)(n.props.tracks.top||[]),(0,h.default)(n.props.tracks.right||[]),(0,h.default)(n.props.tracks.bottom||[]),(0,h.default)(n.props.tracks.left||[]),(0,h.default)(n.props.tracks.gallery||[]),(0,h.default)(n.props.tracks.center||[])).forEach((function(e){"combined"===e.type?e.contents.forEach((function(e){n.tracksByUidInit[e.uid]=!1})):n.tracksByUidInit[e.uid]=!1})),n.xScale=null,n.yScale=null,n.addUidsToTracks(r),n.trackToReplace=null,n.trackRenderer=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,tracks:r,init:!1,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},n.reset=!0,window.higlassTracksByType&&(0,c.default)(window.higlassTracksByType).forEach((function(e){F.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.handleNoTrackAddedBound=n.handleNoTrackAdded.bind(n),n.handleTracksAddedBound=n.handleTracksAdded.bind(n),n.closeMenusBound=n.closeMenus.bind(n),n.handleAddDivisorBound=n.handleAddDivisor.bind(n),n.handleAddSeriesBound=n.handleAddSeries.bind(n),n.handleChangeTrackDataBound=n.handleChangeTrackData.bind(n),n.handleChangeTrackTypeBound=n.handleChangeTrackType.bind(n),n.handleCloseTrackBound=n.handleCloseTrack.bind(n),n.handleConfigureTrackBound=n.handleConfigureTrack.bind(n),n.handleExportTrackDataBound=n.handleExportTrackData.bind(n),n.handleLockValueScaleBound=n.handleLockValueScale.bind(n),n.handleReplaceTrackBound=n.handleReplaceTrack.bind(n),n.handleTrackOptionsChangedBound=n.handleTrackOptionsChanged.bind(n),n.handleUnlockValueScaleBound=n.handleUnlockValueScale.bind(n),n.onAddTrack=n.handleAddTrack.bind(n),n}return(0,v.default)(t,e),(0,p.default)(t,[{key:"waitForDOMAttachment",value:function(e){var t=this;if(this.mounted){var n=_.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.element=_.default.findDOMNode(this),this.canvasElement=_.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment((function(){S.ElementQueries.listen(),e.resizeSensor=new S.ResizeSensor(e.element.parentNode,e.measureSize.bind(e)),e.measureSize()})),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.addUidsToTracks(e.tracks),this.setState({tracks:e.tracks})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this,r=this.previousPropsStr,i=this.updatablePropsToString(e),o=(0,u.default)(this.state),a=(0,u.default)(t),s=r!==i||o!==a||this.props.chooseTrackHandler!==e.chooseTrackHandler;s&&(this.previousPropsStr=i);var l=this.numTracks;return this.numTracks=0,(0,B.visitPositionedTracks)(this.props.tracks,(function(){return n.numTracks++})),this.reset=this.reset||0===l&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),s}},{key:"UNSAFE_componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.rangeSelection!==this.state.rangeSelection){var r=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every((function(e){return e&&e.length}))&&(r=this.state.rangeSelection.map((function(e){return B.dataToGenomicLoci.apply(void 0,(0,h.default)(e).concat([n.state.defaultChromSizes]))}))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:r})}if(e.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(b.default.createElement(O.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){var i=this.state.addDivisorDialog;this.props.modal.open(b.default.createElement(O.default,{datatype:F.TRACKS_INFO_BY_TYPE[i.type].datatype[0],host:this.state.addTrackHost,onCancel:function(){n.setState({addDivisorDialog:null})},onTracksChosen:function(e){n.handleDivisorChosen(i,e)},trackSourceServers:this.props.trackSourceServers}))}}},{key:"componentWillUnmount",value:function(){var e=this;this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)}))}},{key:"addUidsToTracks",value:function(e){(0,c.default)(e).forEach((function(t){e[t].forEach((function(e){e.uid=e.uid||y.default.nice()}))}))}},{key:"contextMenuHandler",value:function(e){if(this.divTiledPlot){var t=this.divTiledPlot.getBoundingClientRect();if((0,B.isWithin)(e.clientX,e.clientY,t.left,t.left+t.width,t.top,t.top+t.height)){var n=[e.clientX,e.clientY],r=(0,g.clientPoint)(this.divTiledPlot,e),i=this.trackRenderer.zoomedXScale.invert(r[0]),o=this.trackRenderer.zoomedYScale.invert(r[1]),a=null;e.hgCustomItems&&(a=e.hgCustomItems.map((function(e){return b.default.createElement(k.default,{key:e.key,onClick:e.onClick},e.text)}))),this.setState({contextMenuCustomItems:a,contextMenuPosition:{left:n[0],top:n[1],canvasLeft:r[0]+this.trackRenderer.xPositionOffset,canvasTop:r[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:i,contextMenuDataY:o})}}}},{key:"measureSize",value:function(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}},{key:"handleTrackOptionsChanged",value:function(e,t){return this.props.onTrackOptionsChanged(e,t)}},{key:"handleScalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.props.onScalesChanged(e,t)}},{key:"handleTilesetInfoReceived",value:function(e,t){var n=(0,B.getTrackByUid)(this.props.tracks,e);n?(this.tracksByUidInit[n.uid]=!0,this.checkAllTilesetInfoReceived(),n.options||(n.options={}),n.name=t.name,n.maxWidth=t.max_width,n.transforms=t.transforms,n.aggregationModes=t.aggregation_modes,n.header=t.header,n.binsPerDimension=t.bins_per_dimension,t.resolutions?(n.maxZoom=t.resolutions.length-1,n.resolutions=t.resolutions):n.maxZoom=t.max_zoom,n.coordSystem=t.coordSystem,n.datatype=t.datatype):console.warn("Strange, track not found:",e)}},{key:"checkAllTilesetInfoReceived",value:function(){var e=this;if((!this.state.init||this.reset)&&this.trackRenderer&&this.props.zoomToDataExtentOnInit()){var t=(0,c.default)(this.trackRenderer.trackDefObjects).map((function(t){var n=e.trackRenderer.trackDefObjects[t].trackObject;return n.childTracks?n.childTracks:n})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){var t=e.tilesetInfo;return void 0!==t&&!0!==t})),n=(0,l.default)(this.tracksByUidInit).filter((function(e){return e})).length;t.length===n&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(e){e===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}},{key:"handleTrackPositionChosen",value:function(e){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(e.track.uid)}},{key:"handleNoTrackAdded",value:function(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}},{key:"handleAddDivisor",value:function(e){this.setState({addDivisorDialog:e})}},{key:"handleDivisorChosen",value:function(e,t){this.setState({addDivisorDialog:null});var n=e.data?{server:e.data.server,tilesetUid:e.data.tilesetUid}:{server:e.server,tilesetUid:e.tilesetUid},r={server:t[0].server,tilesetUid:t[0].uuid};this.handleChangeTrackData(e.uid,{type:"divided",children:[n,r]})}},{key:"handleDivideSeries",value:function(e){}},{key:"handleAddSeries",value:function(e){var t=(0,B.getTrackPositionByUid)(this.props.tracks,e),n=(0,B.getTrackByUid)(this.props.tracks,e);this.setState({addTrackPosition:t,addTrackHost:n})}},{key:"handleReplaceTrack",value:function(e,t){this.trackToReplace=e,this.handleAddTrack(t)}},{key:"handleAddTrack",value:function(e){this.setState({addTrackPosition:e,addTrackHost:null})}},{key:"handleResizeTrack",value:function(e,t,n){var r=this.state.tracks;for(var i in r){var o=r[i].filter((function(t){return t.uid===e}));o.length>0&&(o[0].width=t,o[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()}),this.props.onResizeTrack()}},{key:"closeMenus",value:function(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}},{key:"handleLockValueScale",value:function(e){this.closeMenus(),this.props.onLockValueScale(e)}},{key:"handleUnlockValueScale",value:function(e){this.closeMenus(),this.props.onUnlockValueScale(e)}},{key:"handleCloseTrack",value:function(e){this.closeMenus(),this.props.onCloseTrack(e)}},{key:"handleChangeTrackType",value:function(e,t){this.closeMenus(),this.props.onChangeTrackType(e,t)}},{key:"handleChangeTrackData",value:function(e,t){this.closeMenus(),this.props.onChangeTrackData(e,t)}},{key:"handleTracksAdded",value:function(e,t,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(e,t,n),this.setState({addTrackPosition:null,addTrackHost:null}),e}},{key:"handleCloseTrackMenuOpened",value:function(e,t){this.setState({closeTrackMenuId:e,closeTrackMenuLocation:t})}},{key:"handleCloseContextMenu",value:function(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}},{key:"handleCloseTrackMenuClosed",value:function(){this.setState({closeTrackMenuId:null})}},{key:"handleConfigTrackMenuOpened",value:function(e,t){this.closeMenus(),this.setState({configTrackMenuId:e,configTrackMenuLocation:t})}},{key:"handleConfigureTrack",value:function(e,t){this.setState({configTrackMenuId:null,trackOptions:{track:e,configComponent:t}}),this.closeMenus()}},{key:"handleSortEnd",value:function(e){this.setState((function(t){for(var n=t.tracks,r={},i=0;i<e.length;i++)r[e[i].uid]=i;for(var o in n){var a=n[o];if(a.length&&a[0].uid in r){for(var s=new Array(a.length),l=0;l<a.length;l++)s[r[a[l].uid]]=a[l];n[o]=s}}return{tracks:n,forceUpdate:Math.random()}}))}},{key:"createTracksAndLocations",value:function(){var e=[],t=this.state.tracks;return F.TRACK_LOCATIONS.forEach((function(n){t[n]&&t[n].forEach((function(t){t.contents&&t.contents.forEach((function(e){e.position=n})),t.position=n,e.push({track:t,location:n})}))})),e}},{key:"calculateTrackPosition",value:function(e,t){var n=this.props.paddingTop,r=this.props.paddingBottom,i=this.props.paddingLeft,o=this.props.paddingRight,a=this.centerWidth,s=e.height,l=0,u=0;switch(t){case"top":i+=this.leftWidth;for(var c=0;c<this.state.tracks.top.length&&this.state.tracks.top[c].uid!==e.uid;c++)n+=this.state.tracks.top[c].height;break;case"bottom":i+=this.leftWidth,n+=this.topHeight+this.centerHeight+this.galleryDim;for(var h=0;h<this.state.tracks.bottom.length&&this.state.tracks.bottom[h].uid!==e.uid;h++)n+=this.state.tracks.bottom[h].height;break;case"left":n+=this.topHeight,a=e.width,s=this.centerHeight;for(var d=0;d<this.state.tracks.left.length&&this.state.tracks.left[d].uid!==e.uid;d++)i+=this.state.tracks.left[d].width;break;case"right":i+=this.leftWidth+this.centerWidth+this.galleryDim,n+=this.topHeight,a=e.width,s=this.centerHeight;for(var f=0;f<this.state.tracks.right.length&&this.state.tracks.right[f].uid!==e.uid;f++)i+=this.state.tracks.right[f].width;break;case"center":i+=this.leftWidth,n+=this.topHeight,s=this.centerHeight;break;case"gallery":i+=this.leftWidthNoGallery,n+=this.topHeightNoGallery,a=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,s=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,l=this.galleryDim,u=this.galleryDim;for(var p=0;p<this.state.tracks.gallery.length&&this.state.tracks.gallery[p].uid!==e.uid;p++)a-=2*this.state.tracks.gallery[p].height,s-=2*this.state.tracks.gallery[p].height,i+=this.state.tracks.gallery[p].height,n+=this.state.tracks.gallery[p].height,l-=this.state.tracks.gallery[p].height,u-=this.state.tracks.gallery[p].height;for(var m=0;m<this.state.tracks.right.length;m++)o+=this.state.tracks.right[m].width;for(var v=0;v<this.state.tracks.bottom.length;v++)r+=this.state.tracks.bottom[v].height;e.offsetX=l,e.offsetY=u,e.offsetTop=n,e.offsetRight=o,e.offsetBottom=r,e.offsetLeft=i;break;default:a=this.leftWidth+this.centerWidth+this.rightWidth,s=this.topHeight+this.centerHeight+this.bottomHeight}return-1===F.TRACK_LOCATIONS.indexOf(t)&&console.warn("Track with unknown position present:",t,e),{left:i,top:n,width:a,height:s,track:e}}},{key:"findCentralHeatmapTrack",value:function(e){for(var t=0;t<e.length;t++){if("combined"===e[t].type)return this.findCentralHeatmapTrack(e[t].contents);if("heatmap"===e[t].type)return e[t]}}},{key:"trackUuidToOrientation",value:function(e){}},{key:"overlayTracks",value:function(e){var t=this;return this.props.overlays?this.props.overlays.filter((function(e){return e.includes&&e.includes.length})).map((function(n){var r=n.type?"overlay-"+String(n.type)+"-track":"overlay-track",i=(0,s.default)({},n,{uid:n.uid||y.default.nice(),includes:n.includes,type:r,options:(0,s.default)(n.options,{orientationsAndPositions:n.includes.map((function(n){var r=(0,B.getTrackByUid)(t.props.tracks,n);if(!r)return console.warn("OverlayTrack included uid ("+String(n)+") not found in the track list"),null;var i=(0,B.getTrackPositionByUid)(t.props.tracks,r.uid),o=void 0;if("top"!==i&&"bottom"!==i||(o="1d-horizontal"),"left"!==i&&"right"!==i||(o="1d-vertical"),"center"===i&&(o="2d"),!o)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;var a=e.filter((function(e){return e.track.uid===n}));return a.length?{orientation:o,position:{left:a[0].left-t.props.paddingLeft,top:a[0].top-t.props.paddingTop,width:a[0].width,height:a[0].height}}:null})).filter((function(e){return e}))})});return{top:t.props.paddingTop,left:t.props.paddingLeft,width:t.leftWidth+t.centerWidth+t.rightWidth,height:t.topHeight+t.centerHeight+t.bottomHeight+t.props.marginTop+t.props.marginBottom,track:i}})):[]}},{key:"positionedTracks",value:function(){var e=this;return this.createTracksAndLocations().map((function(t){var n=t.track,r=t.location;return e.calculateTrackPosition(n,r)}))}},{key:"createTrackPositionTexts",value:function(){var e=this.positionedTracks();return this.createTracksAndLocations(),e.map((function(e){var t=e.track;return b.default.createElement("div",{key:t.uid,style:{left:e.left,top:e.top,width:e.width,height:e.height,position:"absolute"}},t.uid.slice(0,2))}))}},{key:"handleExportTrackData",value:function(e,t){var n=(0,B.getTrackByUid)(this.props.tracks,t);(e!==t?this.trackRenderer.trackDefObjects[e].trackObject.createdTracks[n.uid]:this.trackRenderer.trackDefObjects[e].trackObject).exportData(),this.closeMenus()}},{key:"listTracksAtPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.trackRenderer)return[];for(var i in this.trackRenderer.trackDefObjects){var o=this.trackRenderer.trackDefObjects[i].trackObject;if(o.respondsToPosition(e,t))if(n){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(var a=0;a<this.props.tracks.center.contents.length;a++)this.props.tracks.center.contents[a].uid===i&&(o.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===i&&(o.is2d=!0);r.push(o)}else r.push(this.trackRenderer.trackDefObjects[i].trackDef.track)}return r}},{key:"listAllTrackObjects",value:function(){var e=[];for(var t in this.trackRenderer.trackDefObjects){var n=this.trackRenderer.trackDefObjects[t];if(n.trackObject.createdTracks)for(var r in n.trackObject.createdTracks){var i=n.trackObject.createdTracks[r];e.push(i)}else e.push(n.trackObject)}return e}},{key:"handleZoomToData",value:function(){var e=a.default,t=o.default,n=[e,e],r=[t,t],s=this.listAllTrackObjects(),l=!0,u=!1,c=void 0;try{for(var h,d=(0,i.default)(s);!(l=(h=d.next()).done);l=!0){var f=h.value;if(f.tilesetInfo&&f.tilesetInfo.min_pos)for(var p=0;p<f.tilesetInfo.min_pos.length;p++)f.tilesetInfo.min_pos[p]<n[p]&&(n[p]=f.tilesetInfo.min_pos[p]),f.tilesetInfo.max_pos[p]>r[p]&&(r[p]=f.tilesetInfo.max_pos[p])}}catch(e){u=!0,c=e}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}var m=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth,v=[m,m+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),g=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight,y=[g,g+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),n[0]<a.default&&r[0]>o.default&&(v=[n[0],r[0]]),n[1]<a.default&&r[1]>o.default&&(y=[n[1],r[1]]),this.props.onDataDomainChanged(v,y)}},{key:"resetViewport",value:function(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}},{key:"updatablePropsToString",value:function(e){return(0,u.default)({tracks:e.tracks,overlays:e.overlays,viewOptions:e.viewOptions,uid:e.uid,addTrackPosition:e.addTrackPosition,editable:e.editable,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight,mouseTool:e.mouseTool,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,trackSourceServers:e.trackSourceServers,zoomable:e.zoomable,draggingHappending:e.draggingHappening})}},{key:"getXYScales",value:function(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}},{key:"rangeViewToDataLoci",value:function(e,t){return t?[parseInt(t.invert(e[0]),10),parseInt(t.invert(e[1]),10)]:[null,null]}},{key:"rangeSelectionResetHandler",value:function(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}},{key:"rangeSelection1dEndHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice(),a=t.state.is1dRangeSelection||"y"!==e?0:1,s=t.rangeViewToDataLoci(r,n),l=s[1]-s[0];if(t.props.rangeSelection1dSize[0]>l){var u=s[0]+l/2;s=[u-t.props.rangeSelection1dSize[0]/2,u+t.props.rangeSelection1dSize[0]/2]}else if(t.props.rangeSelection1dSize[1]<l){var c=s[0]+l/2;s=[c-t.props.rangeSelection1dSize[1]/2,c+t.props.rangeSelection1dSize[1]/2]}return o[a]=s,t.props.rangeSelectionToInt&&(o[a]=o[a].map((function(e){return Math.round(e)}))),{rangeSelection:o,rangeSelectionEnd:!0}}))}}},{key:"rangeSelection1dHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice();return o[i.is1dRangeSelection||"y"!==e?0:1]=t.rangeViewToDataLoci(r,n),{rangeSelection:o,rangeSelectionEnd:!1}}))}}},{key:"rangeSelection1dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dHandler",value:function(e){this.xScale&&this.yScale||this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(e[0],this.xScale),this.rangeViewToDataLoci(e[1],this.yScale)],rangeSelectionEnd:!1})}},{key:"rangeSelection2dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dEndHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n=this.rangeViewToDataLoci(e[0],this.xScale),r=this.rangeViewToDataLoci(e[1],this.yScale),i=[n,r],o=[n[1]-n[0],r[1]-r[0]];i.forEach((function(e,n){if(t.props.rangeSelection1dSize[0]>o[n]){var r=e[0]+Math.round(o[n]/2);e[0]=r-t.props.rangeSelection1dSize[0]/2,e[1]=r+t.props.rangeSelection1dSize[0]/2}else if(t.props.rangeSelection1dSize[1]<o[n]){var i=e[0]+Math.round(o[n]/2);e[0]=i-t.props.rangeSelection1dSize[1]/2,e[1]=i+t.props.rangeSelection1dSize[1]/2}})),this.props.rangeSelectionToInt&&(i=i.map((function(e){return e.map((function(e){return Math.round(e)}))}))),this.setState({rangeSelection:i,rangeSelectionEnd:!0})}},{key:"getContextMenu",value:function(){var e=this;if(this.state.contextMenuPosition){var t=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return b.default.createElement(P.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(D.default,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:function(t){e.props.onTracksAdded([t],t.position,null),e.handleCloseContextMenu()},onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:t,trackSourceServers:this.props.trackSourceServers}))}return null}},{key:"getIdealizedTrackPositionsOverlay",value:function(){var e=this,t=this.props.draggingHappening,n=t.datatype;if(n in F.DEFAULT_TRACKS_FOR_DATATYPE||t.defaultTracks){var o={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},a=F.DEFAULT_TRACKS_FOR_DATATYPE[n]||{};if(t.defaultTracks){var s=!0,l=!1,u=void 0;try{for(var h,d=(0,i.default)(t.defaultTracks);!(s=(h=d.next()).done);s=!0){var f=h.value;if(F.TRACKS_INFO_BY_TYPE[f]){var p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)(o[F.TRACKS_INFO_BY_TYPE[f].orientation]);!(p=(g=y.next()).done);p=!0)a[g.value]=f}catch(e){m=!0,v=e}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else console.warn("unknown track type",f)}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}}var _=new r.default(["top","left","right","center","bottom"].filter((function(t){return t in e.state.tracks&&e.state.tracks[t].length}))),T="top"in a,S="left"in a,k="right"in a,w="bottom"in a,E="center"in a,C="center"in a||_.has("left")||_.has("right")||_.has("center"),O="top"in a,A="bottom"in a&&C,M="left"in a&&C,P="right"in a&&C,I=(0,c.default)(a).length&&("center"in a||C),L=b.default.createElement("div",{style:{flexGrow:1}}),R=b.default.cloneElement(L),D=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},O&&(I||M)?L:null,b.default.createElement(x.default,{defaultTrackType:a.top,draggingHappening:this.props.draggingHappening,enabled:T,onTrackDropped:function(t){return e.handleTracksAdded([t],"top")},style:{border:"1px solid black",flexGrow:1}}),O&&(I||M)?R:null),N=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},O&&(I||M)?L:null,b.default.createElement(x.default,{defaultTrackType:a.bottom,draggingHappening:this.props.draggingHappening,enabled:w,onTrackDropped:function(t){return e.handleTracksAdded([t],"bottom")},style:{border:"1px solid black",flexGrow:1}}),O&&(I||M)?R:null),j=b.default.createElement(x.default,{defaultTrackType:a.left,draggingHappening:this.props.draggingHappening,enabled:S,onTrackDropped:function(t){return e.handleTracksAdded([t],"left")},style:{border:"1px solid black",flexGrow:1}}),H=b.default.createElement(x.default,{defaultTrackType:a.center,draggingHappening:this.props.draggingHappening,enabled:E,onTrackDropped:function(t){return e.handleTracksAdded([t],"center")},position:"center",style:{border:"1px solid black",flexGrow:1}}),B=b.default.cloneElement(j,{defaultTrackType:a.right,enabled:k,onTrackDropped:function(t){return e.handleTracksAdded([t],"right")}});return b.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},b.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),b.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},O?D:null,C&&b.default.createElement("div",{style:{display:"flex",height:O||A?"40%":"100%",width:"100%"}},M?j:null,I?H:null,P?B:null),A?N:null))}console.warn("unknown data type:",t.higlassTrack)}},{key:"render",value:function(){var e=this;this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map((function(e){return e.height})).reduce(B.sum,0):0,this.topHeightNoGallery=this.props.tracks.top.map((function(e){return e.height})).reduce(B.sum,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map((function(e){return e.height})).reduce(B.sum,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map((function(e){return e.width})).reduce(B.sum,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map((function(e){return e.width})).reduce(B.sum,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;var t=this.props.paddingTop+this.props.paddingBottom,n=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-t),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-n);var i="none",o=b.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:i,position:"absolute"}},b.default.createElement(L.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===F.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),a=b.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},b.default.createElement(R.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===F.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),s=b.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},b.default.createElement(R.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===F.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),l=b.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:i,position:"absolute"}},b.default.createElement(L.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===F.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),u=b.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:i,position:"absolute"}},b.default.createElement(E.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim})),c=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:i}});this.props.tracks.center.length&&(c=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:i}},b.default.createElement(w.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===F.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var h=this.positionedTracks();h=h.concat(this.overlayTracks(h));var d=null;this.state.sizeMeasured&&(d=b.default.createElement(C.default,{ref:function(t){e.trackRenderer=t,e.checkAllTilesetInfoReceived()},canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===F.MOUSE_TOOL_SELECT,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:h,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},o,a,s,l,u,c));var f=null,p=null;this.state.configTrackMenuId&&(f=b.default.createElement(P.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(A.default,{ref:function(t){e.configTrackMenu=t},closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:(0,B.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId),tracks:[(0,B.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(p=b.default.createElement(P.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},b.default.createElement(I.default,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},b.default.createElement(M.default,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[(0,B.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)]}))));var m=null;this.props.chooseTrackHandler&&(m=h.filter((function(e){return"whole"!==e.track.position})).map((function(t){var n="transparent",r="none";return e.state.mouseOverOverlayUid===t.track.uid&&(n="yellow",r="1px solid black"),b.default.createElement("div",{key:t.track.uid,className:"tiled-plot-track-overlay",onClick:function(){return e.handleTrackPositionChosen(t)},onDragEnter:function(n){e.handleOverlayMouseEnter(t.track.uid),n.preventDefault()},onDragLeave:function(){return e.handleOverlayMouseLeave(t.track.uid)},onDragOver:function(e){return e.preventDefault()},onDrop:function(){return e.handleTrackPositionChosen(t)},onMouseEnter:function(){return e.handleOverlayMouseEnter(t.track.uid)},onMouseLeave:function(){return e.handleOverlayMouseLeave(t.track.uid)},style:{position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height,background:n,opacity:.4,border:r,zIndex:1}})})));var v=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var g=this.state.trackOptions.configComponent,y=this.state.trackOptions.track;v=b.default.createElement(g,{track:y,xScale:this.xScale,yScale:this.yScale,onCancel:function(){e.setState({trackOptions:null})},onTrackOptionsChanged:function(e){return e},onSubmit:function(t){e.handleTrackOptionsChanged(e.state.trackOptions.track.uid,t),e.setState({trackOptions:null})}})}return b.default.createElement("div",{ref:function(t){e.divTiledPlot=t},className:"tiled-plot-div TiledPlot-module_tiled-plot-uFHiB",style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},d,m,f,p,v,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}},{key:"addEventListeners",value:function(){this.eventListeners=[],this.eventListeners.forEach((function(e){return document.addEventListener(e.name,e.callback,!1)}))}},{key:"removeEventListeners",value:function(){this.eventListeners.forEach((function(e){return document.removeEventListener(e.name,e.callback)}))}}]),t}(b.default.Component);V.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},V.propTypes={addTrackPosition:T.default.string,canvasElement:T.default.object,chooseTrackHandler:T.default.func,chromInfoPath:T.default.string,disableTrackMenu:T.default.bool,dragging:T.default.bool,draggingHappening:T.default.bool,editable:T.default.bool,getLockGroupExtrema:T.default.func,initialXDomain:T.default.array,initialYDomain:T.default.array,isShowGlobalMousePosition:T.default.bool,isValueScaleLocked:T.default.func,marginBottom:T.default.number.isRequired,marginLeft:T.default.number.isRequired,marginRight:T.default.number.isRequired,marginTop:T.default.number.isRequired,paddingBottom:T.default.number.isRequired,paddingLeft:T.default.number.isRequired,paddingRight:T.default.number.isRequired,paddingTop:T.default.number.isRequired,metaTracks:T.default.array,modal:T.default.object,mouseTool:T.default.string,onCloseTrack:T.default.func,onChangeTrackData:T.default.func,onChangeTrackType:T.default.func,onDataDomainChanged:T.default.func,onLockValueScale:T.default.func,onMouseMoveZoom:T.default.func,onNewTilesLoaded:T.default.func,onNoTrackAdded:T.default.func,onRangeSelection:T.default.func.isRequired,onScalesChanged:T.default.func,onTrackOptionsChanged:T.default.func,onTrackPositionChosen:T.default.func,onTracksAdded:T.default.func,onUnlockValueScale:T.default.func,onValueScaleChanged:T.default.func,onResizeTrack:T.default.func,overlays:T.default.array,openModal:T.default.func,pixiRenderer:T.default.object,pixiStage:T.default.object,pluginDataFetchers:T.default.object,pluginTracks:T.default.object,pubSub:T.default.object.isRequired,rangeSelection1dSize:T.default.array,rangeSelectionToInt:T.default.bool,registerDraggingChangedListener:T.default.func,removeDraggingChangedListener:T.default.func,setCentersFunction:T.default.func,svgElement:T.default.object,theme:T.default.symbol.isRequired,tracks:T.default.object,trackSourceServers:T.default.array,uid:T.default.string,viewOptions:T.default.object,xDomainLimits:T.default.array,yDomainLimits:T.default.array,zoomable:T.default.bool,zoomLimits:T.default.array,zoomToDataExtentOnInit:T.default.func},t.default=(0,N.default)((0,j.default)((0,H.default)(V)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(29)),u=g(n(2)),c=g(n(1)),h=n(83),d=n(0),f=g(n(174)),p=n(10),m=n(11),v=(g(n(346)),g(n(175)));function g(e){return e&&e.__esModule?e:{default:e}}var y={styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},b={pointerEvents:"all"},_=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={isVisible:!1},n.brushBehaviorX=(0,h.brushX)(!0,!0).on("brush",n.brushedX.bind(n)).on("end",n.brushedXEnded.bind(n)),n.brushBehaviorY=(0,h.brushY)(!0,!0,!0).on("brush",n.brushedY.bind(n)).on("end",n.brushedYEnded.bind(n)),n.brushBehaviorXY=(0,h.brush)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush2d()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){var n=e.rangeSelection[0]||null;this.moveBrushXY([n,e.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==t}if(this.props.rangeSelection!==e.rangeSelection){var r=e.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([r,e.rangeSelection[1]],e.rangeSelectionEnd);var i=this.props.is1dRangeSelection&&!e.is1dRangeSelection&&null===r;return this.state!==t||i}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}},{key:"addBrush1d",value:function(){this.brushElX&&this.brushElY&&(this.brushElXOld!==this.brushElX||this.brushElYOld!==this.brushElY)&&(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),(0,p.resetD3BrushStyle)(this.brushElX,v.default["track-range-selection-group-brush-selection"]),(0,p.resetD3BrushStyle)(this.brushElY,v.default["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}},{key:"addBrush2d",value:function(){this.brushElXY&&this.brushElXYOld!==this.brushElXY&&(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,(0,p.resetD3BrushStyle)(this.brushElXY,v.default["track-range-selection-group-brush-selection"]))}},{key:"brushedX",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(d.event.selection))}},{key:"brushedXEnded",value:function(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(d.event.selection))}},{key:"brushedY",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(d.event.selection))}},{key:"brushedYEnded",value:function(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(d.event.selection))}},{key:"brushedXY",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionXY&&!e&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[d.event.selection[0][0],d.event.selection[1][0]],[d.event.selection[0][1],d.event.selection[1][1]]]))}},{key:"brushedXYEnded",value:function(){if(!this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,d.event.selection&&d.event.sourceEvent&&this.props.onRangeSelectionXY&&!e&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[d.event.selection[0][0],d.event.selection[1][0]],[d.event.selection[0][1],d.event.selection[1][1]]])),d.event.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}}},{key:"brushStarted",value:function(){this.sourceEvent&&this.props.onRangeSelectionStart()}},{key:"moveBrushX",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleX(e[0]),this.props.scaleX(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElX.transition().call(this.brushBehaviorX.move,n):this.brushElX.call(this.brushBehaviorX.move,n)}}},{key:"moveBrushY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleY(e[0]),this.props.scaleY(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElY.transition().call(this.brushBehaviorY.move,n):this.brushElY.call(this.brushBehaviorY.move,n)}}},{key:"moveBrushXY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){var n=[[this.props.scaleX(e[0][0]),this.props.scaleY(e[1][0])],[this.props.scaleX(e[0][1]),this.props.scaleY(e[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElXY.transition().call(this.brushBehaviorXY.move,n):this.brushElXY.call(this.brushBehaviorXY.move,n)}}},{key:"mouseEnterHandler",value:function(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isVisible:!1})}},{key:"removeBrush1d",value:function(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}},{key:"removeBrush2d",value:function(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return(0,m.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(p.or,!1),n=this.props.tracks.some((function(e){return e.contents?e.contents.some((function(e){return"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})):"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})),r="stylesTrack.track-range-selection";this.props.isRangeSelectionActive&&(r+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");var i=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",o=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return c.default.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},t&&c.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,y)},c.default.createElement("g",{ref:function(t){e.brushElX=(0,d.select)(t)},className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(t){e.brushElY=(0,d.select)(t)},className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(t){e.brushElXY=(0,d.select)(t)},className:(0,l.default)(o,y)})),this.props.editable&&c.default.createElement(f.default,{imgStyleAdd:b,imgStyleClose:b,imgStyleMove:b,imgStyleSettings:b,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}},{key:"sourceEvent",get:function(){return d.event&&d.event.sourceEvent}}]),t}(c.default.Component);_.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:u.default.bool,isRangeSelectionActive:!1,scaleX:function(e){return e},scaleY:function(e){return e}},_.propTypes={className:u.default.string,configTrackMenuId:u.default.string,editable:u.default.bool.isRequired,height:u.default.number.isRequired,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func.isRequired,onCloseTrackMenuOpened:u.default.func.isRequired,onConfigTrackMenuOpened:u.default.func.isRequired,onRangeSelectionX:u.default.func.isRequired,onRangeSelectionXEnd:u.default.func.isRequired,onRangeSelectionY:u.default.func.isRequired,onRangeSelectionYEnd:u.default.func.isRequired,onRangeSelectionXY:u.default.func.isRequired,onRangeSelectionXYEnd:u.default.func.isRequired,onRangeSelectionReset:u.default.func.isRequired,onRangeSelectionStart:u.default.func.isRequired,rangeSelection:u.default.array.isRequired,rangeSelectionEnd:u.default.bool,scaleX:u.default.func,scaleY:u.default.func,tracks:u.default.array.isRequired,uid:u.default.string.isRequired,width:u.default.number.isRequired},t.default=_},function(e,t,n){e.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(44)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(29)),c=p(n(2)),h=p(n(1)),d=p(n(26)),f=p(n(69));function p(e){return e&&e.__esModule?e:{default:e}}n(608);var m={"../styles/DragListeningDiv.module.scss":{"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},v=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={dragOnTop:!1},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t="red";this.props.enabled&&this.state.dragOnTop?t="green":this.props.enabled&&(t="blue");var n=this.props.enabled?"drag-listening-div-active":"";return h.default.createElement("div",{onDragEnter:function(){e.setState({dragOnTop:!0})},onDragLeave:function(){e.setState({dragOnTop:!1})},onDragOver:function(e){e.preventDefault()},onDrop:function(){if(e.props.enabled){var t=e.props.draggingHappening,n={type:e.props.defaultTrackType,uid:d.default.nice(),tilesetUid:t.tilesetUid,server:t.server};e.props.onTrackDropped(n),e.props.pubSub.publish("trackDropped",n)}},style:(0,r.default)({background:t,opacity:.6},this.props.style),className:"DragListeningDiv "+(0,u.default)(n,m)})}}]),t}(h.default.Component);v.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:function(){}},v.propTypes={enabled:c.default.bool,style:c.default.object,defaultTrackType:c.default.object,draggingHappening:c.default.object,onTrackDropped:c.default.func,position:c.default.string.isRequired,pubSub:c.default.object.isRequired},t.default=(0,f.default)(v)},function(e,t,n){e.exports={"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(2)),u=h(n(1)),c=h(n(174));h(n(610)),h(n(176)),h(n(175));function h(e){return e&&e.__esModule?e:{default:e}}var d={pointerEvents:"all"},f=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={hovering:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"mouseEnterHandler",value:function(){this.setState({hovering:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"gallery-tracks GalleryTracks-module_gallery-tracks-3tsUO"},this.props.tracks&&this.props.tracks.map((function(t,n){return u.default.createElement("div",{key:t.uid||n,onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height*n,right:t.height*n,bottom:t.height*n,left:t.height*n},className:"GalleryTracks-module_gallery-track-eGKoq"},u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,bottom:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{right:0,bottom:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,bottom:0,left:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height,right:t.height,bottom:t.height,left:t.height},className:"GalleryTracks-module_gallery-invisible-track-1hMJp"}),e.props.editable&&u.default.createElement(c.default,{configMenuVisible:!0,imgStyleAdd:d,imgStyleClose:d,imgStyleMove:d,imgStyleSettings:d,isMoveable:!1,isVisible:e.state.hovering,onCloseTrackMenuOpened:e.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.props.onConfigTrackMenuOpened,uid:t.uid||n}))})))}}]),t}(u.default.Component);f.propTypes={editable:l.default.bool.isRequired,onCloseTrackMenuOpened:l.default.func.isRequired,onConfigTrackMenuOpened:l.default.func.isRequired,tracks:l.default.array.isRequired},t.default=f},function(e,t,n){e.exports={"gallery-tracks":"GalleryTracks-module_gallery-tracks-3tsUO","gallery-track":"GalleryTracks-module_gallery-track-eGKoq","gallery-sub-track":"GalleryTracks-module_gallery-sub-track-z1HEh","gallery-invisible-track":"GalleryTracks-module_gallery-invisible-track-1hMJp"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=pe(n(38)),i=pe(n(19)),o=pe(n(35)),a=pe(n(25)),s=pe(n(17)),l=pe(n(18)),u=pe(n(5)),c=pe(n(3)),h=pe(n(4)),d=pe(n(6)),f=pe(n(7)),p=pe(n(1)),m=pe(n(2)),v=n(157),g=n(0),y=n(28),b=pe(n(26)),_=pe(n(40)),T=pe(n(135)),S=pe(n(254)),k=pe(n(347)),w=pe(n(348)),x=pe(n(350)),E=pe(n(351)),C=pe(n(256)),O=pe(n(352)),A=pe(n(357)),M=pe(n(116)),P=pe(n(358)),I=pe(n(359)),L=pe(n(259)),R=pe(n(360)),D=pe(n(361)),N=pe(n(362)),j=pe(n(629)),H=pe(n(177)),B=pe(n(260)),F=pe(n(363)),z=pe(n(364)),V=pe(n(365)),U=pe(n(366)),G=pe(n(367)),Y=pe(n(368)),W=pe(n(369)),q=pe(n(370)),X=pe(n(371)),K=pe(n(372)),$=pe(n(633)),Z=pe(n(373)),Q=pe(n(374)),J=pe(n(375)),ee=pe(n(376)),te=pe(n(377)),ne=pe(n(262)),re=pe(n(378)),ie=pe(n(141)),oe=pe(n(379)),ae=pe(n(380)),se=pe(n(381)),le=pe(n(80)),ue=pe(n(69)),ce=pe(n(382)),he=pe(n(78)),de=n(10),fe=n(11);function pe(e){return e&&e.__esModule?e:{default:e}}n(654);var me=function(e){function t(e){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTop=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=v.zoomIdentity,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.uid=b.default.nice(),n.viewUid=n.props.uid,n.availableForPlugins=fe.AVAILABLE_FOR_PLUGINS,n.availableForPlugins.services.pubSub=n.props.pubSub,n.availableForPlugins.services.pixiRenderer=n.props.pixiRenderer,n.mounted=!1,n.emptyZoomBehavior=(0,v.zoom)(),n.currentProps=e,n.prevPropsStr="",n.zoomBehavior=(0,v.zoom)().filter((function(){return!g.event.target.classList.contains("no-zoom")&&!g.event.target.classList.contains("react-resizable-handle")})).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.zoomTransform=v.zoomIdentity,n.prevZoomTransform=v.zoomIdentity,n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.xDomainLimits=[-1/0,1/0],n.yDomainLimits=[-1/0,1/0],n.zoomLimits=[0,1/0],n.prevCenterX=n.currentProps.paddingLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.paddingTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain,n.currentProps.xDomainLimits,n.currentProps.yDomainLimits,n.currentProps.zoomLimits),n.setUpScales(),n.trackDefObjects={},n.metaTracks={},n.pubSubs=[],window.higlassTracksByType&&(0,l.default)(window.higlassTracksByType).forEach((function(e){fe.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.boundForwardEvent=n.forwardEvent.bind(n),n.boundScrollEvent=n.scrollEvent.bind(n),n.boundForwardContextMenu=n.forwardContextMenu.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.zoomToDataPosHandlerBound=n.zoomToDataPosHandler.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n}return(0,f.default)(t,e),(0,h.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}},{key:"componentDidMount",value:function(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=(0,g.select)(this.element),this.svgTrackAreaSelection=(0,g.select)(this.svgTrackArea),this.pStage=new fe.GLOBALS.PIXI.Graphics,this.pMask=new fe.GLOBALS.PIXI.Graphics,this.pOutline=new fe.GLOBALS.PIXI.Graphics,this.pBackground=new fe.GLOBALS.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),this.currentProps.svgElement&&this.currentProps.canvasElement){this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();var e=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],t=this.svgElement.getBoundingClientRect(),n=[[Math.max(e[0][0],0),Math.max(e[0][1],0)],[Math.min(e[1][0],t.width),Math.min(e[1][1],t.height)]];this.zoomBehavior.extent(n).translateExtent(e).scaleExtent(this.zoomLimits)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.svgElement&&e.canvasElement){var t=this.updatablePropsToString(e);if(this.currentProps=e,this.prevPropsStr!==t){for(var n in this.setBackground(),this.trackDefObjects)this.trackDefObjects[n].trackObject.delayDrawing=!0;this.prevPropsStr=t,this.setUpInitialScales(e.initialXDomain,e.initialYDomain,e.xDomainLimits,e.yDomainLimits,e.zoomLimits),this.setUpScales(e.width!==this.props.width||e.height!==this.props.height),this.svgElement=e.svgElement;var r=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],i=this.svgElement.getBoundingClientRect(),o=[[Math.max(r[0][0],0),Math.max(r[0][1],0)],[Math.min(r[1][0],i.width),Math.min(r[1][1],i.height)]];this.zoomBehavior.extent(o).translateExtent(r).scaleExtent(this.zoomLimits),this.syncTrackObjects(e.positionedTracks),this.syncMetaTracks(e.metaTracks);var a=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(e.positionedTracks);!(a=(c=h.next()).done);a=!0){var d=c.value,f=d.track.options,p=this.trackDefObjects[d.track.uid].trackObject;if(p.rerender(f),d.track.hasOwnProperty("contents")){var m={},v=!0,g=!1,y=void 0;try{for(var b,_=(0,s.default)(d.track.contents);!(v=(b=_.next()).done);v=!0){var T=b.value;m[T.uid]=T}}catch(e){g=!0,y=e}finally{try{!v&&_.return&&_.return()}finally{if(g)throw y}}for(var S in p.createdTracks)p.createdTracks[S].rerender(m[S].options)}}}catch(e){l=!0,u=e}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}for(var k in this.props.onNewTilesLoaded(),this.trackDefObjects){var w=this.trackDefObjects[k].trackObject;w.delayDrawing=!1,w.draw()}}}}},{key:"componentDidUpdate",value:function(e){this.props.initialXDomain[0]===e.initialXDomain[0]&&this.props.initialXDomain[1]===e.initialXDomain[1]&&this.props.initialYDomain[0]===e.initialYDomain[0]&&this.props.initialYDomain[1]===e.initialYDomain[1]||(this.element.__zoom=v.zoomIdentity),e.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),e.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}},{key:"componentWillUnmount",value:function(){var e=this;this.mounted=!1,this.removeTracks((0,l.default)(this.trackDefObjects)),this.removeMetaTracks((0,l.default)(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[],this.removeEventTracker()}},{key:"dispatchEvent",value:function(e){e.sourceUid===this.uid&&"contextmenu"!==e.type&&(0,de.forwardEvent)(e,this.element)}},{key:"isWithin",value:function(e,t){if(!this.element)return!1;var n=e>=this.elementPos.left&&e<=this.elementPos.width+this.elementPos.left,r=t>=this.elementPos.top&&t<=this.elementPos.height+this.elementPos.top;return n&&r}},{key:"zoomToDataPosHandler",value:function(e){var t=e.pos,n=e.animateTime,r=e.isMercator;this.zoomToDataPos.apply(this,(0,a.default)(t).concat([n,r]))}},{key:"addZoom",value:function(){this.elementSelection&&this.currentProps.zoomable&&(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}},{key:"removeZoom",value:function(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}},{key:"setMask",value:function(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}},{key:"setBackground",value:function(){var e=this.props.theme===fe.THEME_DARK?"black":"white",t=(0,de.colorToHex)(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||e);this.pBackground.clear(),this.pBackground.beginFill(t),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}},{key:"windowScrolled",value:function(){var e=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){e.addZoom()}),100)}},{key:"setUpInitialScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-1/0,1/0],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[-1/0,1/0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,1/0];i[0]=null===i[0]?0:i[0],i[1]=null===i[1]?1/0:i[1];var o=e[1]-e[0],a=(t[0]+t[1])/2;if(t[0]=a-o/2,t[1]=a+o/2,e[0]!==this.initialXDomain[0]||e[1]!==this.initialXDomain[1]||t[0]!==this.initialYDomain[0]||t[1]!==this.initialYDomain[1]||n[0]!==this.xDomainLimits[0]||n[1]!==this.xDomainLimits[1]||r[0]!==this.yDomainLimits[0]||r[1]!==this.yDomainLimits[1]||i[0]!==this.zoomLimits[0]||i[1]!==this.zoomLimits[1]){this.initialXDomain=e,this.initialYDomain=t,this.xDomainLimits=n,this.yDomainLimits=r,this.zoomLimits=i,this.zoomTransform=v.zoomIdentity,this.prevZoomTransform=v.zoomIdentity,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,y.scaleLinear)().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([e[0],e[1]]);var s=void 0,l=void 0;0===this.currentProps.centerWidth?(s=this.currentProps.paddingTop+this.currentProps.topHeight,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(s=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=(0,y.scaleLinear)().domain([s,l]).range([t[0],t[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}}},{key:"updatablePropsToString",value:function(e){return(0,o.default)({positionedTracks:e.positionedTracks,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,width:e.width,height:e.height,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,leftWidth:e.leftWidth,topHeight:e.topHeight,dragging:e.dragging,viewOptions:e.viewOptions})}},{key:"draggingChanged",value:function(e){this.dragging=e,this.timedUpdatePositionAndDimensions()}},{key:"setUpScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(t)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=t;var o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];for(var s in this.xScale=(0,y.scaleLinear)().domain(o).range([0,this.currentProps.width]),this.yScale=(0,y.scaleLinear)().domain(a).range([0,this.currentProps.height]),this.trackDefObjects){var l=this.trackDefObjects[s].trackObject;l.refScalesChanged(this.xScale,this.yScale)}this.applyZoomTransform(e)}},{key:"getTrackDef",value:function(e){var t=(0,de.dictItems)(this.trackDefObjects),n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done);n=!0){var u=a.value,c=(0,i.default)(u,2)[1],h=c.trackDef,d=c.trackObject;if(d===e)return h.track;if(h.track.contents){var f=!0,p=!1,m=void 0;try{for(var v,g=(0,s.default)(h.track.contents);!(f=(v=g.next()).done);f=!0){var y=v.value;if(d.createdTracks[y.uid]===e)return y}}catch(e){p=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw m}}}}}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return null}},{key:"getTrackObject",value:function(e){for(var t=(0,de.dictItems)(this.trackDefObjects),n=0;n<t.length;n++){var r=t[n][0],i=t[n][1].trackObject;if(r===e)return i;if(i.createdTracks)for(var o=(0,de.dictItems)(i.createdTracks),a=0;a<o.length;a++){var s=o[a][0],l=o[a][1];if(s===e)return l}}}},{key:"timedUpdatePositionAndDimensions",value:function(){!this.closing&&this.element&&(this.elementPos=this.element.getBoundingClientRect(),this.dragging&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))))}},{key:"syncMetaTracks",value:function(e){var t=this,n=(0,l.default)(this.metaTracks),i=new r.default(e.map((function(e){return e.uid})));this.addMetaTracks(e.filter((function(e){return!t.metaTracks[e.uid]}))),this.updateMetaTracks(e.filter((function(e){return t.metaTracks[e.uid]}))),this.removeMetaTracks(n.filter((function(e){return!i.has(e)})))}},{key:"syncTrackObjects",value:function(e){this.prevTrackDefinitions=(0,o.default)(e);for(var t={},n=0;n<e.length;n++)t[e[n].track.uid]=e[n];var i=new r.default((0,l.default)(this.trackDefObjects)),s=new r.default((0,l.default)(t)),u=new r.default([].concat((0,a.default)(s)).filter((function(e){return!i.has(e)}))),c=new r.default([].concat((0,a.default)(i)).filter((function(e){return!s.has(e)}))),h=new r.default([].concat((0,a.default)(s)).filter((function(e){return i.has(e)})));this.updateExistingTrackDefs([].concat((0,a.default)(h)).map((function(e){return t[e]}))),this.addNewTracks([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.updateExistingTrackDefs([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.removeTracks([].concat((0,a.default)(c)))}},{key:"addMetaTracks",value:function(e){var t=this;e.filter((function(e){return!t.metaTracks[e.uid]})).forEach((function(e){t.metaTracks[e.uid]={trackDef:e,trackObject:t.createMetaTrack(e)}}))}},{key:"addNewTracks",value:function(e){if(this.currentProps.pixiStage){for(var t=0;t<e.length;t++){var n=e[t],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};var i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}},{key:"updateMetaTracks",value:function(){}},{key:"updateExistingTrackDefs",value:function(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t].track.uid].trackDef=e[t],"combined"===e[t].track.type&&this.trackDefObjects[e[t].track.uid].trackObject.updateContents(e[t].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}},{key:"updateTrackPositions",value:function(){var e=!1;for(var t in this.trackDefObjects){var n=this.trackDefObjects[t].trackDef,r=this.trackDefObjects[t].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];i&&a[0]===i[0]&&a[1]===i[1]||(r.setPosition(a),e=!0),o&&s[0]===o[0]&&s[1]===o[1]||(r.setDimensions(s),e=!0)}return e}},{key:"removeMetaTracks",value:function(e){var t=this;e.forEach((function(e){t.metaTracks[e].trackObject.remove(),t.metaTracks[e]=void 0,delete t.metaTracks[e]}))}},{key:"removeTracks",value:function(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t]].trackObject.remove(),delete this.trackDefObjects[e[t]]}},{key:"setCenter",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.xScale,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.yScale,l=this.xScale.invert(1)-this.xScale.invert(0),u=l/n,c=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,h=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,d=c-a(e)*u,f=h-s(t)*u,p=void 0,m=function(){var e=v.zoomIdentity.translate(d,f).scale(u);o.zoomTransform=e,o.emptyZoomBehavior.transform(o.elementSelection,e),p=o.applyZoomTransform(r)};if(i){var g=this.elementSelection;this.activeTransitions+=1,document.hidden||(g=g.transition().duration(i)),g.call(this.zoomBehavior.transform,v.zoomIdentity.translate(d,f).scale(u)).on("end",(function(){m(),o.activeTransitions-=1}))}else m();return p}},{key:"valueScaleMove",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos)));!(t=(i=o.next()).done);t=!0)i.value.movedY(e)}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.zoomTransform=this.zoomStartTransform}},{key:"valueScaleZoom",value:function(e){var t=(l=g.event.sourceEvent.deltaY,u=g.event.sourceEvent.deltaMode,l*(u?120:1)/500),n=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),r=!0,i=!1,o=void 0;var l,u;try{for(var c,h=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(n)));!(r=(c=h.next()).done);r=!0){var d=c.value,f="1d-horizontal"===e?n[1]-d.position[1]:n[0]-d.position[0];d.zoomedY(f,Math.pow(2,t))}}catch(e){i=!0,o=e}finally{try{!r&&h.return&&h.return()}finally{if(i)throw o}}this.zoomTransform=this.zoomStartTransform}},{key:"zoomed",value:function(){var e=null;if(this.zoomStartPos){var t=this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos));if(t.length){var n=t[0],r=this.getTrackDef(n);fe.TRACKS_INFO_BY_TYPE[r.type]&&(e=fe.TRACKS_INFO_BY_TYPE[r.type].orientation),n instanceof j.default&&(e="1d-vertical")}}if(e&&g.event.sourceEvent){if(g.event.shiftKey||this.valueScaleZooming){if(void 0!==g.event.sourceEvent.deltaY)return void this.valueScaleZoom(e);"1d-horizontal"===e?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===e&&this.valueScaleMove(g.event.sourceEvent.movementX)}"1d-horizontal"===e&&g.event.sourceEvent.movementY?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===e&&g.event.sourceEvent.movementX&&this.valueScaleMove(g.event.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?g.event.transform:v.zoomIdentity,this.prevZoomTransform.k!==this.zoomTransform.k||("1d-horizontal"===e?this.zoomTransform=v.zoomIdentity.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):"1d-vertical"===e&&(this.zoomTransform=v.zoomIdentity.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",g.event),g.event.sourceEvent&&(g.event.sourceEvent.stopPropagation(),g.event.sourceEvent.preventDefault())}},{key:"getTracksAtPosition",value:function(e,t){var n=[],r=[];for(var i in this.trackDefObjects){var o=this.trackDefObjects[i].trackObject;o.childTracks?r=r.concat(o.childTracks):r.push(o)}var a=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(r);!(a=(c=h.next()).done);a=!0){var d=c.value,f=d.position[0]<=e&&e<=d.position[0]+d.dimensions[0],p=d.position[1]<=t&&t<=d.position[1]+d.dimensions[1];f&&p&&n.push(d)}}catch(e){l=!0,u=e}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}return n}},{key:"zoomStarted",value:function(){this.zooming=!0,g.event.sourceEvent&&(this.zoomStartPos=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),g.event.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}},{key:"zoomEnded",value:function(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}},{key:"applyZoomTransform",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.currentProps,n=t.paddingLeft+t.leftWidth,r=t.paddingTop+t.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);var i=(0,y.scaleLinear)().domain([n,n+t.centerWidth].map(this.zoomedXScale.invert)).range([0,t.centerWidth]),o=(0,y.scaleLinear)().domain([r,r+t.centerHeight].map(this.zoomedYScale.invert)).range([0,t.centerHeight]);for(var a in this.trackDefObjects){var s=this.trackDefObjects[a].trackObject,l=this.trackDefObjects[a].trackDef,u="unknown";if(fe.TRACKS_INFO_BY_TYPE[l.track.type]&&(u=fe.TRACKS_INFO_BY_TYPE[l.track.type].orientation),"whole"!==u)if("gallery"!==this.trackDefObjects[a].trackDef.track.position)s.zoomed(i.copy(),o.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,t.paddingLeft+t.leftWidth,t.paddingTop+t.topHeight);else{var c=(0,y.scaleLinear)().domain([t.paddingLeft+t.leftWidthNoGallery,t.paddingLeft+t.leftWidth+t.centerWidth+t.galleryDim].map(this.zoomedXScale.invert)).range([0,t.centerWidth+2*t.galleryDim]),h=(0,y.scaleLinear)().domain([t.paddingTop+t.topHeightNoGallery,t.paddingTop+t.topHeight+t.centerHeight+t.galleryDim].map(this.zoomedYScale.invert)).range([0,t.centerHeight-2*t.galleryDim]);s.zoomed(c.copy(),h.copy(),this.zoomTransform.k)}else{var d=(0,y.scaleLinear)().domain([t.paddingLeft,t.width-t.paddingLeft].map(this.zoomedXScale.invert)).range([0,t.width-2*t.paddingLeft]),f=(0,y.scaleLinear)().domain([t.paddingTop,t.height-t.paddingTop].map(this.zoomedYScale.invert)).range([0,t.height-2*t.paddingTop]);s.zoomed(d,f)}}return this.currentXScale=i,this.currentYScale=o,e&&this.currentProps.onScalesChanged(i,o),[i,o]}},{key:"createMetaTrack",value:function(e){var t=this;e.type;var n=this.props.pluginTracks[e.type];if(n&&n.isMetaTrack){var r={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:function(){t.currentProps.onNewTilesLoaded(e.uid)},definition:e};try{return new n.track(fe.AVAILABLE_FOR_PLUGINS,r,e.options)}catch(t){console.error("Plugin meta track",e.type,"failed to instantiate.",t)}}return console.warn("Unknown meta track of type: "+String(e.type)),new $.default(this.pStage,{name:"Unknown Track Type",type:e.type},(function(){return t.currentProps.onNewTilesLoaded(e.uid)}))}},{key:"createTrackObject",value:function(e){var t=this.createLocationAgnosticTrackObject(e);return"left"!==e.position&&"right"!==e.position||"1d-horizontal"!==fe.TRACKS_INFO_BY_TYPE[e.type].orientation?t:new j.default(t)}},{key:"createLocationAgnosticTrackObject",value:function(e){var t=this,n=function(n){t.currentProps.onTilesetInfoReceived(e.uid,n)},r=e.data;r||(r={server:(0,de.trimTrailingSlash)(e.server),tilesetUid:e.tilesetUid}),e.coordSystem&&(r.coordSystem=e.coordSystem);var i=(0,ce.default)(r,this.props.pubSub,this.props.pluginDataFetchers),o={id:e.uid,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:r,dataFetcher:i,getLockGroupExtrema:function(){return t.currentProps.getLockGroupExtrema(e.uid)},handleTilesetInfoReceived:n,animate:function(){t.currentProps.onNewTilesLoaded(e.uid)},svgElement:this.svgElement,isValueScaleLocked:function(){return t.currentProps.isValueScaleLocked(e.uid)},onValueScaleChanged:function(){t.currentProps.onValueScaleChanged(e.uid)},onTrackOptionsChanged:function(n){t.currentProps.onTrackOptionsChanged(e.uid,n)},onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:e.chromInfoPath,isShowGlobalMousePosition:function(){return t.props.isShowGlobalMousePosition},getTheme:function(){return t.props.theme}};e.y&&(o.yPosition=e.y),e.x&&(o.xPosition=e.x),e.projectionXDomain&&(o.projectionXDomain=e.projectionXDomain),e.projectionYDomain&&(o.projectionYDomain=e.projectionYDomain);var a=e.options;switch(e.type){case"left-axis":return new E.default(o,a);case"top-axis":return new x.default(o,a);case"heatmap":return new T.default(o,a);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new I.default(o,a);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new D.default(o,a);case"line":case"horizontal-line":case"vertical-line":return new M.default(o,a);case"point":case"horizontal-point":case"vertical-point":return new P.default(o,a);case"bar":case"horizontal-bar":case"vertical-bar":return new L.default(o,a);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new R.default(o,a);case"horizontal-1d-tiles":return new k.default(o,a);case"vertical-1d-tiles":return new w.default(o,a);case"2d-tiles":return new S.default(o,a);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new N.default(o,a);case"viewport-projection-center":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new Q.default(o,a)):new H.default(o,a);case"viewport-projection-horizontal":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new J.default(o,a)):new H.default(o,a);case"viewport-projection-vertical":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new ee.default(o,a)):new H.default(o,a);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new B.default(o,a);case"2d-rectangle-domains":case"arrowhead-domains":return new F.default(o,a);case"horizontal-1d-annotations":return new V.default(o,a);case"vertical-1d-annotations":return new V.default(o,a,!0);case"2d-annotations":return new z.default(o,a);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new U.default(o,a);case"square-markers":return new G.default(o,a);case"combined":return o.tracks=e.contents,o.createTrackObject=this.createTrackObject.bind(this),new C.default(o,a);case"2d-chromosome-labels":return new Y.default(o,a);case"horizontal-chromosome-grid":return o.orientation="1d-horizontal",new W.default(o,a);case"vertical-chromosome-grid":return o.orientation="1d-vertical",new W.default(o,a);case"2d-chromosome-grid":return new W.default(o,a);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new X.default(o,a);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new K.default(o,a);case"2d-chromosome-annotations":return new q.default(o,a);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new Z.default(o,a);case"osm":case"osm-tiles":return new ie.default(o,a);case"osm-2d-tile-ids":return new oe.default(o,a);case"mapbox":case"mapbox-tiles":return new ae.default(o,a);case"raster-tiles":return new se.default(o,a);case"bedlike":case"vertical-bedlike":return new O.default(o,a);case"overlay-track":return new A.default(o,a);case"overlay-chromosome-grid-track":return o.isOverlay=!0,new W.default(o,a);case"horizontal-rule":return new te.default(o,a);case"vertical-rule":return new ne.default(o,a);case"cross-rule":return o.x=e.x,o.y=e.y,new re.default(o,a);case"simple-svg":return new le.default(o,a);case"empty":return new _.default(o,a);default:var s=this.props.pluginTracks[e.type];if(s&&!s.isMetaTrack){o.AVAILABLE_FOR_PLUGINS=fe.AVAILABLE_FOR_PLUGINS,o.baseEl=this.baseEl,o.definition=e,e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback&&(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback);try{return new s.track(fe.AVAILABLE_FOR_PLUGINS,o,a)}catch(t){console.error("Plugin track",e.type,"failed to instantiate.",t)}}return console.warn("Unknown track type:",e.type),new $.default(o,{name:"Unknown Track Type",type:e.type})}}},{key:"zoomToDataPos",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3e3,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=(0,de.scalesCenterAndK)(this.xScale.copy().domain([e,t]),this.yScale.copy().domain([n,r])),l=(0,i.default)(s,3),u=l[0],c=l[1],h=l[2],d=a?a(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(u,c,h,!1,o,d[0],d[1])}},{key:"forwardContextMenu",value:function(e){var t=this;this.props.disableTrackMenu||e.altKey||(e.preventDefault(),setTimeout((function(){t.props.pubSub.publish("contextmenu",e)}),0))}},{key:"addEventTracker",value:function(){this.eventTracker&&this.eventTracker!==this.eventTrackerOld&&(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}},{key:"removeEventTracker",value:function(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}},{key:"scrollEvent",value:function(){this.elementPos=this.element.getBoundingClientRect()}},{key:"forwardEvent",value:function(e){e.sourceUid=this.uid,e.forwarded=!0,this.props.pubSub.publish("app.event",e)}},{key:"onScrollHandler",value:function(e){this.scrollTop=e}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{ref:function(t){e.baseEl=t},className:"track-renderer-div TrackRenderer-module_track-renderer-3TM7n",style:{height:this.currentProps.height,width:this.currentProps.width}},p.default.createElement("div",{ref:function(t){e.element=t},className:"track-renderer-element TrackRenderer-module_track-renderer-element-2i16D"}),p.default.createElement("div",{ref:function(t){e.eventTracker=t},className:"track-renderer-events TrackRenderer-module_track-renderer-events-3tVM2"},this.currentProps.children))}}]),t}(p.default.Component);me.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},me.propTypes={canvasElement:m.default.object,centerHeight:m.default.number,centerWidth:m.default.number,children:m.default.array,disableTrackMenu:m.default.bool,galleryDim:m.default.number,height:m.default.number,initialXDomain:m.default.array,initialYDomain:m.default.array,isShowGlobalMousePosition:m.default.bool,isRangeSelection:m.default.bool,leftWidth:m.default.number,leftWidthNoGallery:m.default.number,paddingLeft:m.default.number,paddingTop:m.default.number,metaTracks:m.default.array,onMouseMoveZoom:m.default.func,onNewTilesLoaded:m.default.func.isRequired,onScalesChanged:m.default.func.isRequired,pixiRenderer:m.default.object.isRequired,pixiStage:m.default.object.isRequired,pluginDataFetchers:m.default.object,pluginTracks:m.default.object,positionedTracks:m.default.array,pubSub:m.default.object.isRequired,setCentersFunction:m.default.func,svgElement:m.default.object.isRequired,theme:m.default.symbol.isRequired,topHeight:m.default.number,topHeightNoGallery:m.default.number,viewOptions:m.default.object,width:m.default.number,xDomainLimits:m.default.array,yDomainLimits:m.default.array,valueScaleZoom:m.default.bool,zoomable:m.default.bool.isRequired,zoomDomain:m.default.array},t.default=(0,ue.default)((0,he.default)(me))},function(e,t,n){e.exports={default:n(613),__esModule:!0}},function(e,t,n){n(614);var r=n(12).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(48),i=n(228).f;n(126)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(616),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==r&&i.call(y,a)&&(v=y);var b=w.prototype=S.prototype=Object.create(v);k.prototype=b.constructor=w,w.constructor=k,w[l]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},x(E.prototype),E.prototype[s]=function(){return this},c.AsyncIterator=E,c.async=function(e,t,n,r){var i=new E(_(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(b),b[l]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=P,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,r){var i=t&&t.prototype instanceof S?t:S,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=T(e,t,n);if("normal"===l.type){if(r=n.done?p:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function T(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function S(){}function k(){}function w(){}function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){function t(n,r,o,a){var s=T(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(u).then((function(e){l.value=e,o(l)}),a)}a(s.arg)}var n;this._invoke=function(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}}function C(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=T(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,r.default)(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return(0,i.default)(e,[{key:"enqueueTask",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n?this.taskList.push({handler:e,data:t}):(this.taskList=this.taskList.filter((function(e){return e.trackId!==n})),this.taskList.push({handler:e,data:t,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}},{key:"runTaskQueue",value:function(e){for(;(e.timeRemaining()>0||e.didTimeout)&&this.taskList.length;){var t=this.taskList.shift();null===t.data?t.handler():t.handler(t.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}}]),e}(),s=new a;t.default=s},function(e,t,n){"use strict";function r(e,t,n){var i=0|e[n];if(i<=0)return[];var o,a=new Array(i);if(n===e.length-1)for(o=0;o<i;++o)a[o]=t;else for(o=0;o<i;++o)a[o]=r(e,t,n+1);return a}e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return r(e,t,0)}return[]}},function(e,t,n){"use strict";e.exports=function(e,t){t<=128?r(0,t-1,e):c(0,t-1,e)};function r(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function i(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function o(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function a(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function s(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function l(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function u(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}function c(e,t,n){var h=(t-e+1)/6|0,d=e+h,f=t-h,p=e+t>>1,m=p-h,v=p+h,g=d,y=m,b=p,_=v,T=f,S=e+1,k=t-1,w=0;l(g,y,n)&&(w=g,g=y,y=w),l(_,T,n)&&(w=_,_=T,T=w),l(g,b,n)&&(w=g,g=b,b=w),l(y,b,n)&&(w=y,y=b,b=w),l(g,_,n)&&(w=g,g=_,_=w),l(b,_,n)&&(w=b,b=_,_=w),l(y,T,n)&&(w=y,y=T,T=w),l(y,b,n)&&(w=y,y=b,b=w),l(_,T,n)&&(w=_,_=T,T=w);for(var x=n[2*y],E=n[2*y+1],C=n[2*_],O=n[2*_+1],A=2*g,M=2*b,P=2*T,I=2*d,L=2*p,R=2*f,D=0;D<2;++D){var N=n[A+D],j=n[M+D],H=n[P+D];n[I+D]=N,n[L+D]=j,n[R+D]=H}o(m,e,n),o(v,t,n);for(var B=S;B<=k;++B)if(u(B,x,E,n))B!==S&&i(B,S,n),++S;else if(!u(B,C,O,n))for(;;){if(u(k,C,O,n)){u(k,x,E,n)?(a(B,S,k,n),++S,--k):(i(B,k,n),--k);break}if(--k<B)break}s(e,S-1,x,E,n),s(t,k+1,C,O,n),S-2-e<=32?r(e,S-2,n):c(e,S-2,n),t-(k+2)<=32?r(k+2,t,n):c(k+2,t,n),k-S<=32?r(S,k,n):c(S,k,n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,c,S,k,w,x){!function(e,t){var n=8*i.log2(t+1)*(e+1)|0,o=i.nextPow2(6*n);g.length<o&&(r.free(g),g=r.mallocInt32(o));var a=i.nextPow2(2*n);y.length<a&&(r.free(y),y=r.mallocDouble(a))}(e,o+k);var E,C=0,O=2*e;b(C++,0,0,o,0,k,n?16:0,-1/0,1/0),n||b(C++,0,0,k,0,o,1,-1/0,1/0);for(;C>0;){var A=6*(C-=1),M=g[A],P=g[A+1],I=g[A+2],L=g[A+3],R=g[A+4],D=g[A+5],N=2*C,j=y[N],H=y[N+1],B=1&D,F=!!(16&D),z=c,V=S,U=w,G=x;if(B&&(z=w,V=x,U=c,G=S),!(2&D&&(I=f(e,M,P,I,z,V,H),P>=I)||4&D&&(P=p(e,M,P,I,z,V,j))>=I)){var Y=I-P,W=R-L;if(F){if(e*Y*(Y+W)<4194304){if(void 0!==(E=l.scanComplete(e,M,t,P,I,z,V,L,R,U,G)))return E;continue}}else{if(e*Math.min(Y,W)<128){if(void 0!==(E=a(e,M,t,B,P,I,z,V,L,R,U,G)))return E;continue}if(e*Y*W<4194304){if(void 0!==(E=l.scanBipartite(e,M,t,B,P,I,z,V,L,R,U,G)))return E;continue}}var q=h(e,M,P,I,z,V,j,H);if(P<q)if(e*(q-P)<128){if(void 0!==(E=s(e,M+1,t,P,q,z,V,L,R,U,G)))return E}else if(M===e-2){if(void 0!==(E=B?l.sweepBipartite(e,t,L,R,U,G,P,q,z,V):l.sweepBipartite(e,t,P,q,z,V,L,R,U,G)))return E}else b(C++,M+1,P,q,L,R,B,-1/0,1/0),b(C++,M+1,L,R,P,q,1^B,-1/0,1/0);if(q<I){var X=u(e,M,L,R,U,G),K=U[O*X+M],$=d(e,M,X,R,U,G,K);if($<R&&b(C++,M,q,I,$,R,(4|B)+(F?16:0),K,H),L<X&&b(C++,M,q,I,L,X,(2|B)+(F?16:0),j,K),X+1===$){if(void 0!==(E=F?T(e,M,t,q,I,z,V,X,U,G[X]):_(e,M,t,B,q,I,z,V,X,U,G[X])))return E}else if(X<$){var Z;if(F){if(Z=m(e,M,q,I,z,V,K),q<Z){var Q=d(e,M,q,Z,z,V,K);if(M===e-2){if(q<Q&&void 0!==(E=l.sweepComplete(e,t,q,Q,z,V,X,$,U,G)))return E;if(Q<Z&&void 0!==(E=l.sweepBipartite(e,t,Q,Z,z,V,X,$,U,G)))return E}else q<Q&&b(C++,M+1,q,Q,X,$,16,-1/0,1/0),Q<Z&&(b(C++,M+1,Q,Z,X,$,0,-1/0,1/0),b(C++,M+1,X,$,Q,Z,1,-1/0,1/0))}}else Z=B?v(e,M,q,I,z,V,K):m(e,M,q,I,z,V,K),q<Z&&(M===e-2?E=B?l.sweepBipartite(e,t,X,$,U,G,q,Z,z,V):l.sweepBipartite(e,t,q,Z,z,V,X,$,U,G):(b(C++,M+1,q,Z,X,$,B,-1/0,1/0),b(C++,M+1,X,$,q,Z,1^B,-1/0,1/0)))}}}}};var r=n(257),i=n(258),o=n(621),a=o.partial,s=o.full,l=n(353),u=n(622),c=n(354),h=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),d=c("lo===p0",["p0"]),f=c("lo<p0",["p0"]),p=c("hi<=p0",["p0"]),m=c("lo<=p0&&p0<=hi",["p0"]),v=c("lo<p0&&p0<=hi",["p0"]),g=r.mallocInt32(1024),y=r.mallocDouble(1024);function b(e,t,n,r,i,o,a,s,l){var u=6*e;g[u]=t,g[u+1]=n,g[u+2]=r,g[u+3]=i,g[u+4]=o,g[u+5]=a;var c=2*e;y[c]=s,y[c+1]=l}function _(e,t,n,r,i,o,a,s,l,u,c){var h=2*e,d=l*h,f=u[d+t];e:for(var p=i,m=i*h;p<o;++p,m+=h){var v=a[m+t],g=a[m+t+e];if(!(f<v||g<f)&&(!r||f!==v)){for(var y,b=s[p],_=t+1;_<e;++_){v=a[m+_],g=a[m+_+e];var T=u[d+_],S=u[d+_+e];if(g<T||S<v)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function T(e,t,n,r,i,o,a,s,l,u){var c=2*e,h=s*c,d=l[h+t];e:for(var f=r,p=r*c;f<i;++f,p+=c){var m=a[f];if(m!==u){var v=o[p+t],g=o[p+t+e];if(!(d<v||g<d)){for(var y=t+1;y<e;++y){v=o[p+y],g=o[p+y+e];var b=l[h+y],_=l[h+y+e];if(g<b||_<v)continue e}var T=n(m,u);if(void 0!==T)return T}}}}},function(e,t,n){"use strict";var r="d",i="ax",o="fp",a="es",s="rs",l="re",u="rb",c="bs",h="be",d="bb",f=[r,i,"vv",s,l,u,"ri",c,h,d,"bi"];function p(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],i=f.slice();e||i.splice(3,0,o);var s=["function "+t+"("+i.join()+"){"];function l(t,i){var o=function(e,t,n){var i="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),o=["function ",i,"(",f.join(),"){","var ",a,"=2*",r,";"],s="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",l="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(n?"y1=bb[ax+bp+d],":"")+"yi=bi[j];";return e?o.push(s,"Q",":",l):o.push(l,"Q",":",s),n?o.push("if(y1<x0||x1<y0)continue;"):t?o.push("if(y0<=x0||x1<y0)continue;"):o.push("if(y0<x0||x1<y0)continue;"),o.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),t?o.push("yi,xi"):o.push("xi,yi"),o.push(");if(rv!==void 0)return rv;}}}"),{name:i,code:o.join("")}}(t,i,e);n.push(o.code),s.push("return "+o.name+"("+f.join()+");")}s.push("if(re-rs>be-bs){"),e?(l(!0,!1),s.push("}else{"),l(!1,!1)):(s.push("if(fp){"),l(!0,!0),s.push("}else{"),l(!0,!1),s.push("}}else{if(fp){"),l(!1,!0),s.push("}else{"),l(!1,!1),s.push("}")),s.push("}}return "+t);var u=n.join("")+s.join("");return new Function(u)()}t.partial=p(!1),t.full=p(!0)},function(e,t,n){"use strict";e.exports=function(e,t,n,o,a,s){if(o<=n+1)return n;var l=n,u=o,c=o+n>>>1,h=2*e,d=c,f=a[h*c+t];for(;l<u;){if(u-l<8){i(e,t,l,u,a,s),f=a[h*c+t];break}var p=u-l,m=Math.random()*p+l|0,v=a[h*m+t],g=Math.random()*p+l|0,y=a[h*g+t],b=Math.random()*p+l|0,_=a[h*b+t];v<=y?_>=y?(d=g,f=y):v>=_?(d=m,f=v):(d=b,f=_):y>=_?(d=g,f=y):_>=v?(d=m,f=v):(d=b,f=_);for(var T=h*(u-1),S=h*d,k=0;k<h;++k,++T,++S){var w=a[T];a[T]=a[S],a[S]=w}var x=s[u-1];s[u-1]=s[d],s[d]=x,d=r(e,t,l,u-1,a,s,f);for(T=h*(u-1),S=h*d,k=0;k<h;++k,++T,++S){w=a[T];a[T]=a[S],a[S]=w}x=s[u-1];if(s[u-1]=s[d],s[d]=x,c<d){for(u=d-1;l<u&&a[h*(u-1)+t]===f;)u-=1;u+=1}else{if(!(d<c))break;for(l=d+1;l<u&&a[h*l+t]===f;)l+=1}}return r(e,t,n,c,a,s,a[h*c+t])};var r=n(354)("lo<p0",["p0"]);function i(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,h=a*(l-1);c>n&&i[h+t]>u;--c,h-=a){for(var d=h,f=h+a,p=0;p<a;++p,++d,++f){var m=i[d];i[d]=i[f],i[f]=m}var v=o[c];o[c]=o[c-1],o[c-1]=v}}},function(e,t,n){"use strict";var r=n(356),i=n(624),o=n(625),a=n(627);function s(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function l(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",l(e.slice(0,t)),",",l(e.slice(t)),")"].join("")}function u(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",l(u(s(e,n))),",",(r=n,1&r?"-":""),e[0][n],")"].join(""));return t;var r}function c(e){for(var t=[],n=[],c=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),h=[],d=0;d<e;++d)0==(1&d)?t.push.apply(t,u(s(c,d))):n.push.apply(n,u(s(c,d))),h.push("m"+d);var f=l(t),p=l(n),m="orientation"+e+"Exact",v=["function ",m,"(",h.join(),"){var p=",f,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join("");return new Function("sum","prod","scale","sub",v)(i,r,o,a)}var h=c(3),d=c(4),f=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=33306690738754716e-32*r;return a>=s||a<=-s?a:h(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],h=t[2]-r[2],f=n[2]-r[2],p=o*u,m=a*l,v=a*s,g=i*u,y=i*l,b=o*s,_=c*(p-m)+h*(v-g)+f*(y-b),T=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(c)+(Math.abs(v)+Math.abs(g))*Math.abs(h)+(Math.abs(y)+Math.abs(b))*Math.abs(f));return _>T||-_>T?_:d(e,t,n,r)}];function p(e){var t=f[e.length];return t||(t=f[e.length]=c(e.length)),t.apply(void 0,e)}!function(){for(;f.length<=5;)f.push(c(f.length));for(var t=[],n=["slow"],r=0;r<=5;++r)t.push("a"+r),n.push("o"+r);var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(e.exports=o.apply(void 0,[p].concat(f)),r=0;r<=5;++r)e.exports[r]=f[r]}()},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);if(i)return[i,n];return[n]}(e[0],t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,h=e[l],d=c(h),f=t[u],p=c(f);d<p?(o=h,(l+=1)<n&&(h=e[l],d=c(h))):(o=f,(u+=1)<r&&(f=t[u],p=c(f)));l<n&&d<p||u>=r?(i=h,(l+=1)<n&&(h=e[l],d=c(h))):(i=f,(u+=1)<r&&(f=t[u],p=c(f)));var m,v,g=i+o,y=g-i,b=o-y,_=b,T=g;for(;l<n&&u<r;)d<p?(i=h,(l+=1)<n&&(h=e[l],d=c(h))):(i=f,(u+=1)<r&&(f=t[u],p=c(f))),(b=(o=_)-(y=(g=i+o)-i))&&(a[s++]=b),_=T-((m=T+g)-(v=m-T))+(g-v),T=m;for(;l<n;)(b=(o=_)-(y=(g=(i=h)+o)-i))&&(a[s++]=b),_=T-((m=T+g)-(v=m-T))+(g-v),T=m,(l+=1)<n&&(h=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(i=f)+o)-i))&&(a[s++]=b),_=T-((m=T+g)-(v=m-T))+(g-v),T=m,(u+=1)<r&&(f=t[u]);_&&(a[s++]=_);T&&(a[s++]=T);s||(a[s++]=0);return a.length=s,a}},function(e,t,n){"use strict";var r=n(356),i=n(626);e.exports=function(e,t){var n=e.length;if(1===n){var o=r(e[0],t);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var h=s[1];i(h,l[0],s),s[0]&&(a[u++]=s[0]);var d=l[1],f=s[1],p=d+f,m=f-(p-d);s[1]=p,m&&(a[u++]=m)}s[1]&&(a[u++]=s[1]);0===u&&(a[u++]=0);return a.length=u,a}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e+t,i=r-e,o=t-i,a=e-(r-i);if(n)return n[0]=a+o,n[1]=r,n;return[a+o,r]}},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);if(i)return[i,n];return[n]}(e[0],-t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,h=e[l],d=c(h),f=-t[u],p=c(f);d<p?(o=h,(l+=1)<n&&(h=e[l],d=c(h))):(o=f,(u+=1)<r&&(f=-t[u],p=c(f)));l<n&&d<p||u>=r?(i=h,(l+=1)<n&&(h=e[l],d=c(h))):(i=f,(u+=1)<r&&(f=-t[u],p=c(f)));var m,v,g=i+o,y=g-i,b=o-y,_=b,T=g;for(;l<n&&u<r;)d<p?(i=h,(l+=1)<n&&(h=e[l],d=c(h))):(i=f,(u+=1)<r&&(f=-t[u],p=c(f))),(b=(o=_)-(y=(g=i+o)-i))&&(a[s++]=b),_=T-((m=T+g)-(v=m-T))+(g-v),T=m;for(;l<n;)(b=(o=_)-(y=(g=(i=h)+o)-i))&&(a[s++]=b),_=T-((m=T+g)-(v=m-T))+(g-v),T=m,(l+=1)<n&&(h=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(i=f)+o)-i))&&(a[s++]=b),_=T-((m=T+g)-(v=m-T))+(g-v),T=m,(u+=1)<r&&(f=-t[u]);_&&(a[s++]=_);T&&(a[s++]=T);s||(a[s++]=0);return a.length=s,a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(139),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n,r,i,a=(0,o.default)(e,t);return n=e.map((function(e){return(Array.isArray(e)&&t?e.length:1)/a})),r=0,i=[],n.forEach((function(e){r+=+e||0,i.push(r)})),Float64Array.from(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=a(n(4)),o=n(11);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new o.GLOBALS.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new o.GLOBALS.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return(0,i.default)(e,[{key:"remove",value:function(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"setDimensions",value:function(e){this.dimensions=e;var t=[e[1],e[0]];this.originalTrack.setDimensions(t)}},{key:"setPosition",value:function(e){this.position=e,this.originalTrack.setPosition(e),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                                 rotate(90)\n                                 scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}},{key:"refXScale",value:function(e){return arguments.length?(this.originalTrack._refXScale=e,this):this.originalTrack._refYScale}},{key:"refYScale",value:function(e){return arguments.length?(this.originalTrack._refYScale=e,this):this.originalTrack._refXScale}},{key:"xScale",value:function(e){return arguments.length?(this.originalTrack._yScale=e,this):this.originalTrack._xScale}},{key:"yScale",value:function(e){return arguments.length?(this.originalTrack._xScale=e,this):this.originalTrack._yScale}},{key:"getMouseOverHtml",value:function(e,t){return this.originalTrack.getMouseOverHtml(t,e)}},{key:"draw",value:function(){this.originalTrack.draw()}},{key:"zoomed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.xScale(e),this.yScale(t),this.originalTrack.leftTrackZoomed)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(e,t,n,r,i),void this.originalTrack.draw();var o=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=o+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),void this.originalTrack.leftTrackDraw();this.originalTrack.zoomed(this.xScale(),this.yScale())}},{key:"zoomedY",value:function(e,t){this.originalTrack.zoomedY(e,t)}},{key:"movedY",value:function(e){this.originalTrack.movedY(e)}},{key:"refScalesChanged",value:function(e,t){this.originalTrack.refScalesChanged(t,e)}},{key:"rerender",value:function(e){this.originalTrack.rerender(e)}},{key:"exportSVG",value:function(){var e=document.createElement("g");if(e.setAttribute("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.exportSVG){var t=document.createElement("g");t.setAttribute("transform","translate("+String(this.originalTrack.pBase.position.x)+", "+String(this.originalTrack.pBase.position.y)+")"),t.appendChild(this.originalTrack.exportSVG()[0]),e.appendChild(t)}return[e,e]}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}}]),e}();t.default=s},function(e,t,n){e.exports={default:n(631),__esModule:!0}},function(e,t,n){n(632),e.exports=n(12).Number.isInteger},function(e,t,n){var r=n(16);r(r.S,"Number",{isInteger:n(178)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.tilesetInfo={},o.errorTextText="Unknown track type: "+String(n.type),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"zoomed",value:function(){this.draw()}}]),t}(l(n(40)).default);t.default=u},function(e,t,n){e.exports={default:n(635),__esModule:!0}},function(e,t,n){n(636),e.exports=n(168).f("hasInstance")},function(e,t,n){"use strict";var r=n(33),i=n(128),o=n(21)("hasInstance"),a=Function.prototype;o in a||n(32).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){e.exports={default:n(638),__esModule:!0}},function(e,t,n){n(164),n(61),n(76),n(639),n(640),n(641),n(642),e.exports=n(12).Map},function(e,t,n){"use strict";var r=n(333),i=n(238),o="Map";e.exports=n(334)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(16);r(r.P+r.R,"Map",{toJSON:n(335)("Map")})},function(e,t,n){n(336)("Map")},function(e,t,n){n(337)("Map")},function(e,t,n){"use strict";var r={};(0,n(82).assign)(r,n(644),n(647),n(388)),e.exports=r},function(e,t,n){"use strict";var r=n(645),i=n(82),o=n(386),a=n(263),s=n(387),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,n){"use strict";var r,i=n(82),o=n(646),a=n(384),s=n(385),l=n(263),u=-2,c=258,h=262,d=103,f=113,p=666;function m(e,t){return e.msg=l[t],t}function v(e){return(e<<1)-(e>4?9:0)}function g(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function _(e,t){e.pending_buf[e.pending++]=t}function T(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function S(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+c,m=u[o+a-1],v=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===v&&u[n+a-1]===m&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<p);if(r=c-(p-o),o=p-c,r>a){if(e.match_start=t,a=r,r>=s)break;m=u[o+a-1],v=u[o+a]}}}while((t=f[t&d])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function k(e){var t,n,r,o,l,u,c,d,f,p,m=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-h)){i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);o+=m}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,f=o,p=void 0,(p=u.avail_in)>f&&(p=f),n=0===p?0:(u.avail_in-=p,i.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=a(u.adler,c,p,d):2===u.state.wrap&&(u.adler=s(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function w(e,t){for(var n,r;;){if(e.lookahead<h){if(k(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=S(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function x(e,t){for(var n,r,i;;){if(e.lookahead<h){if(k(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=S(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):m(e,u)}function A(e){var t,n=O(e);return 0===n&&((t=e.state).window_size=2*t.w_size,g(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function M(e,t,n,r,o,a){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return m(e,u);8===r&&(r=9);var l=new C;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,A(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,w),new E(4,5,16,8,w),new E(4,6,32,32,w),new E(4,4,16,16,x),new E(8,16,32,32,x),new E(8,16,128,128,x),new E(8,32,128,256,x),new E(32,128,258,1024,x),new E(32,258,258,4096,x)],t.deflateInit=function(e,t){return M(e,t,8,15,8,0)},t.deflateInit2=M,t.deflateReset=A,t.deflateResetKeep=O,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},t.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||t>5||t<0)return e?m(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return m(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,_(i,31),_(i,139),_(i,8),i.gzhead?(_(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),_(i,255&i.gzhead.time),_(i,i.gzhead.time>>8&255),_(i,i.gzhead.time>>16&255),_(i,i.gzhead.time>>24&255),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(_(i,255&i.gzhead.extra.length),_(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(_(i,0),_(i,0),_(i,0),_(i,0),_(i,0),_(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),_(i,3),i.status=f);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=f,T(i,h),0!==i.strstart&&(T(i,e.adler>>>16),T(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending!==i.pending_buf_size));)_(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,_(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,_(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(_(i,255&e.adler),_(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&v(t)<=v(n)&&4!==t)return m(e,-5);if(i.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var S=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=c){if(k(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=c-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==S&&4!==S||(i.status=p),1===S||3===S)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===S&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(_(i,255&e.adler),_(i,e.adler>>8&255),_(i,e.adler>>16&255),_(i,e.adler>>24&255),_(i,255&e.total_in),_(i,e.total_in>>8&255),_(i,e.total_in>>16&255),_(i,e.total_in>>24&255)):(T(i,e.adler>>>16),T(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?m(e,u):(e.state=null,t===f?m(e,-3):0):u},t.deflateSetDictionary=function(e,t){var n,r,o,s,l,c,h,d,f=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,k(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,k(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(82);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,a=286,s=30,l=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var p=new Array(60);i(p);var m=new Array(512);i(m);var v=new Array(256);i(v);var g=new Array(29);i(g);var y,b,_,T=new Array(s);function S(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?m[e]:m[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function C(e,t,n){E(e,n[2*t],n[2*t+1])}function O(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function A(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=l;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=O(o[s]++,s))}}function M(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function P(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function L(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&I(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function R(e,t,n){var r,i,a,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?C(e,i,t):(C(e,(a=v[i])+o+1,t),0!==(s=u[a])&&E(e,i-=g[a],s),C(e,a=w(--r),n),0!==(s=c[a])&&E(e,r-=T[a],s))}while(l<e.last_lit);C(e,256,t)}function D(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)L(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,L(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=l;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>m&&(o=m,v++),u[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=p&&(a=f[r-p]),s=u[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(h[2*r+1]+a)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),A(o,c,e.bl_count)}function N(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function j(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{C(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(C(e,i,e.bl_tree),s--),C(e,16,e.bl_tree),E(e,s-3,2)):s<=10?(C(e,17,e.bl_tree),E(e,s-3,3)):(C(e,18,e.bl_tree),E(e,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}i(T);var H=!1;function B(e,t,n,i){E(e,0+(i?1:0),3),function(e,t,n,i){P(e),i&&(x(e,n),x(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){H||(!function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(g[r]=n,e=0;e<1<<u[r];e++)v[n++]=r;for(v[n-1]=r,i=0,r=0;r<16;r++)for(T[r]=i,e=0;e<1<<c[r];e++)m[i++]=r;for(i>>=7;r<s;r++)for(T[r]=i<<7,e=0;e<1<<c[r]-7;e++)m[256+i++]=r;for(t=0;t<=l;t++)o[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,o[8]++;for(;e<=255;)f[2*e+1]=9,e++,o[9]++;for(;e<=279;)f[2*e+1]=7,e++,o[7]++;for(;e<=287;)f[2*e+1]=8,e++,o[8]++;for(A(f,287,o),e=0;e<s;e++)p[2*e+1]=5,p[2*e]=O(e,5);y=new S(f,u,257,a,l),b=new S(p,c,0,s,l),_=new S(new Array(0),h,0,19,7)}(),H=!0),e.l_desc=new k(e.dyn_ltree,y),e.d_desc=new k(e.dyn_dtree,b),e.bl_desc=new k(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,M(e)},t._tr_stored_block=B,t._tr_flush_block=function(e,t,n,r){var i,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),s=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?B(e,t,n,r):4===e.strategy||a===i?(E(e,2+(r?1:0),3),R(e,f,p)):(E(e,4+(r?1:0),3),function(e,t,n,r){var i;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),i=0;i<r;i++)E(e,e.bl_tree[2*d[i]+1],3);j(e,e.dyn_ltree,t-1),j(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),R(e,e.dyn_ltree,e.dyn_dtree)),M(e),r&&P(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+o+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){E(e,2,3),C(e,256,f),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(648),i=n(82),o=n(386),a=n(388),s=n(263),l=n(387),u=n(651),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,l,u,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=u,d.avail_out=f-u,u&&i.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},function(e,t,n){"use strict";var r=n(82),i=n(384),o=n(385),a=n(649),s=n(650),l=-2,u=12,c=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):l}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):l}function v(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):l}var g,y,b=!0;function _(e){if(b){var t;for(g=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=g,e.lenbits=9,e.distcode=y,e.distbits=5}function T(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=f,t.inflateInit=function(e){return v(e,15)},t.inflateInit2=v,t.inflate=function(e,t){var n,d,f,p,m,v,g,y,b,S,k,w,x,E,C,O,A,M,P,I,L,R,D,N,j=0,H=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===u&&(n.mode=13),m=e.next_out,f=e.output,g=e.avail_out,p=e.next_in,d=e.input,v=e.avail_in,y=n.hold,b=n.bits,S=v,k=g,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,H[0]=255&y,H[1]=y>>>8&255,n.check=o(n.check,H,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=c;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=c;break}if(b-=4,L=8+(15&(y>>>=4)),0===n.wbits)n.wbits=L;else if(L>n.wbits){e.msg="invalid window size",n.mode=c;break}n.dmax=1<<L,e.adler=n.check=1,n.mode=512&y?10:u,y=0,b=0;break;case 2:for(;b<16;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=c;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=c;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(H[0]=255&y,H[1]=y>>>8&255,n.check=o(n.check,H,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(H[0]=255&y,H[1]=y>>>8&255,H[2]=y>>>16&255,H[3]=y>>>24&255,n.check=o(n.check,H,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(H[0]=255&y,H[1]=y>>>8&255,n.check=o(n.check,H,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(H[0]=255&y,H[1]=y>>>8&255,n.check=o(n.check,H,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>v&&(w=v),w&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,p,w,L)),512&n.flags&&(n.check=o(n.check,d,w,p)),v-=w,p+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;w=0;do{L=d[p+w++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L))}while(L&&w<v);if(512&n.flags&&(n.check=o(n.check,d,w,p)),v-=w,p+=w,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;w=0;do{L=d[p+w++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L))}while(L&&w<v);if(512&n.flags&&(n.check=o(n.check,d,w,p)),v-=w,p+=w,L)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=c;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=u;break;case 10:for(;b<32;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}e.adler=n.check=h(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=u;case u:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=c}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=c;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(w>v&&(w=v),w>g&&(w=g),0===w)break e;r.arraySet(f,d,p,w,m),v-=w,p+=w,g-=w,m+=w,n.length-=w;break}n.mode=u;break;case 17:for(;b<14;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=c;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}n.lens[B[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},R=s(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,R){e.msg="invalid code lengths set",n.mode=c;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(j=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,A=65535&j,!((C=j>>>24)<=b);){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(A<16)y>>>=C,b-=C,n.lens[n.have++]=A;else{if(16===A){for(N=C+2;b<N;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(y>>>=C,b-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=c;break}L=n.lens[n.have-1],w=3+(3&y),y>>>=2,b-=2}else if(17===A){for(N=C+3;b<N;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}b-=C,L=0,w=3+(7&(y>>>=C)),y>>>=3,b-=3}else{for(N=C+7;b<N;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}b-=C,L=0,w=11+(127&(y>>>=C)),y>>>=7,b-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=c;break}for(;w--;)n.lens[n.have++]=L}}if(n.mode===c)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=c;break}if(n.lenbits=9,D={bits:n.lenbits},R=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,R){e.msg="invalid literal/lengths set",n.mode=c;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},R=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,R){e.msg="invalid distances set",n.mode=c;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(v>=6&&g>=258){e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,a(e,k),m=e.next_out,f=e.output,g=e.avail_out,p=e.next_in,d=e.input,v=e.avail_in,y=n.hold,b=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;O=(j=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,A=65535&j,!((C=j>>>24)<=b);){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(O&&0==(240&O)){for(M=C,P=O,I=A;O=(j=n.lencode[I+((y&(1<<M+P)-1)>>M)])>>>16&255,A=65535&j,!(M+(C=j>>>24)<=b);){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}y>>>=M,b-=M,n.back+=M}if(y>>>=C,b-=C,n.back+=C,n.length=A,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=u;break}if(64&O){e.msg="invalid literal/length code",n.mode=c;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(N=n.extra;b<N;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(j=n.distcode[y&(1<<n.distbits)-1])>>>16&255,A=65535&j,!((C=j>>>24)<=b);){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(0==(240&O)){for(M=C,P=O,I=A;O=(j=n.distcode[I+((y&(1<<M+P)-1)>>M)])>>>16&255,A=65535&j,!(M+(C=j>>>24)<=b);){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}y>>>=M,b-=M,n.back+=M}if(y>>>=C,b-=C,n.back+=C,64&O){e.msg="invalid distance code",n.mode=c;break}n.offset=A,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(N=n.extra;b<N;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=c;break}n.mode=25;case 25:if(0===g)break e;if(w=k-g,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=c;break}w>n.wnext?(w-=n.wnext,x=n.wsize-w):x=n.wnext-w,w>n.length&&(w=n.length),E=n.window}else E=f,x=m-n.offset,w=n.length;w>g&&(w=g),g-=w,n.length-=w;do{f[m++]=E[x++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;f[m++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===v)break e;v--,y|=d[p++]<<b,b+=8}if(k-=g,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?o(n.check,f,k,m-k):i(n.check,f,k,m-k)),k=g,(n.flags?y:h(y))!==n.check){e.msg="incorrect data check",n.mode=c;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===v)break e;v--,y+=d[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=c;break}y=0,b=0}n.mode=29;case 29:R=1;break e;case c:R=-3;break e;case 31:return-4;default:return l}return e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,(n.wsize||k!==e.avail_out&&n.mode<c&&(n.mode<27||4!==t))&&T(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,k-=e.avail_out,e.total_in+=S,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?o(n.check,f,k,e.next_out-k):i(n.check,f,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===S&&0===k||4===t)&&0===R&&(R=-5),R)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:T(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,l,u,c,h,d,f,p,m,v,g,y,b,_,T,S,k,w,x,E;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,E=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=m[f&g];t:for(;;){if(f>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))E[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}T=65535&b,(_&=15)&&(p<_&&(f+=x[r++]<<p,p+=8),T+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=v[f&y];n:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=v[(65535&b)+(f&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&b,p<(_&=15)&&(f+=x[r++]<<p,(p+=8)<_&&(f+=x[r++]<<p,p+=8)),(S+=f&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=_,p-=_,S>(_=o-a)){if((_=S-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,w=d,0===h){if(k+=u-_,_<T){T-=_;do{E[o++]=d[k++]}while(--_);k=o-S,w=E}}else if(h<_){if(k+=u+h-_,(_-=h)<T){T-=_;do{E[o++]=d[k++]}while(--_);if(k=0,h<T){T-=_=h;do{E[o++]=d[k++]}while(--_);k=o-S,w=E}}}else if(k+=h-_,_<T){T-=_;do{E[o++]=d[k++]}while(--_);k=o-S,w=E}for(;T>2;)E[o++]=w[k++],E[o++]=w[k++],E[o++]=w[k++],T-=3;T&&(E[o++]=w[k++],T>1&&(E[o++]=w[k++]))}else{k=o-S;do{E[o++]=E[k++],E[o++]=E[k++],E[o++]=E[k++],T-=3}while(T>2);T&&(E[o++]=E[k++],T>1&&(E[o++]=E[k++]))}break}}break}}while(r<i&&o<s);r-=T=p>>3,f&=(1<<(p-=T<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=p}},function(e,t,n){"use strict";var r=n(82),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,c,h,d,f){var p,m,v,g,y,b,_,T,S,k=f.bits,w=0,x=0,E=0,C=0,O=0,A=0,M=0,P=0,I=0,L=0,R=null,D=0,N=new r.Buf16(16),j=new r.Buf16(16),H=null,B=0;for(w=0;w<=i;w++)N[w]=0;for(x=0;x<u;x++)N[t[n+x]]++;for(O=k,C=i;C>=1&&0===N[C];C--);if(O>C&&(O=C),0===C)return c[h++]=20971520,c[h++]=20971520,f.bits=1,0;for(E=1;E<C&&0===N[E];E++);for(O<E&&(O=E),P=1,w=1;w<=i;w++)if(P<<=1,(P-=N[w])<0)return-1;if(P>0&&(0===e||1!==C))return-1;for(j[1]=0,w=1;w<i;w++)j[w+1]=j[w]+N[w];for(x=0;x<u;x++)0!==t[n+x]&&(d[j[t[n+x]]++]=x);if(0===e?(R=H=d,b=19):1===e?(R=o,D-=257,H=a,B-=257,b=256):(R=s,H=l,b=-1),L=0,x=0,w=E,y=h,A=O,M=0,v=-1,g=(I=1<<O)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){_=w-M,d[x]<b?(T=0,S=d[x]):d[x]>b?(T=H[B+d[x]],S=R[D+d[x]]):(T=96,S=0),p=1<<w-M,E=m=1<<A;do{c[y+(L>>M)+(m-=p)]=_<<24|T<<16|S|0}while(0!==m);for(p=1<<w-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,x++,0==--N[w]){if(w===C)break;w=t[n+d[x]]}if(w>O&&(L&g)!==v){for(0===M&&(M=O),y+=E,P=1<<(A=w-M);A+M<C&&!((P-=N[A+M])<=0);)A++,P<<=1;if(I+=1<<A,1===e&&I>852||2===e&&I>592)return 1;c[v=L&g]=O<<24|A<<16|y-h|0}}return 0!==L&&(c[y+L]=w-M<<24|64<<16|0),f.bits=O,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";const r=n(653);function i(e){var t=/^\s*/.exec(e);return null!==t?t[0].length:0}e.exports=function(e){if("string"!=typeof e)throw new TypeError("sequence must be a string");var t,n,o,a=[],s="LOCUS",l="DEFINITION",u="ACCESSION",c="VERSION",h="KEYWORDS",d="SOURCE",f="ORGANISM",p="REFERENCE",m="FEATURES",v="ORIGIN",g="//",y=e.split(/\r?\n/);let b;var _;if(null===y)throw new Error("sequence file is empty");var T,S,k=!1;for(let e of y){if(null===e)break;var w=N(e),x=H(e),E=F(e),C=B(e);if(w===g||C?(o=w,b=null):E&&(b=w),""!==e.trim()&&";"!==w){if(!k&&o!==s)break;switch(o){case s:k=!0,P(e);break;case m:R(e,w,x);break;case v:M(e,w);break;case l:case u:case c:case h:j(o,e,o.toLowerCase());break;case d:b===f?j(b,e,"organism"):j(w,e,"source");break;case p:if(w===p){const e=t.references||[];t.references=e,e.push({})}L(e,b);break;case g:O()}}}return a[a.length-1]!==t&&O(),a;function O(){!function(){if(t&&t.features)for(var e=0;e<t.features.length;e++)t.features[e]=z(t.features[e])}(),a.push(t)}function A(){return t.features[t.features.length-1]}function M(e,n){if(n!==v){var r=e.replace(/[\s]*[0-9]*/g,"");t.sequence+=r}}function P(e){t={features:[],name:"Untitled sequence",sequence:""};const n=(e=I(s,e)).match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)$/);let i=n[1],o=+n[2],a=n[3],l="circular"===n[4],u=n[5];const c=t;c.circular=l,c.moleculeType=a,c.genbankDivision=u;const h=n[6].match(/^(\d{2})-(.{3})-(\d{4})$/),d=new Date;d.setFullYear(+h[3]),d.setUTCMonth(r.indexOf(h[2].toUpperCase())),d.setDate(+h[1]),d.setUTCHours(12),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0),c.date=d.toISOString(),c.name=i,c.size=o}function I(e,t){return 0===(t=t.replace(/^\s*/,"")).indexOf(e)&&(t=t.replace(e,"")),t.trim()}function L(e,n){const r=t.references;let i=r[r.length-1];n?j(n,e,n.toLowerCase(),i):j(p,e,"description",i)}function R(e,r,o){var a;if(r!==m)if(T&&(_=i(e),T=!1),function(e,t){var n=i(e);if(t===n)return!1;if(e.trim().charAt(0).match(/\//))return!1;return!0}(e,_))S?(D(e.trim()),S=!0):(n&&(n[n.length-1]+=e.trim().replace(/"/g,"")),S=!1);else if(function(e){var t=!1;(e.trim().charAt(0).match(/\//)||e.match(/^[\s]*\/[\w]+=[\S]+/))&&(t=!0);return t}(e))A()&&(!function(e){var t,r;t=(t=e.trim()).replace(/^\/|"$/g,"");var i=(r=t.split(/="|=/))[1];i&&(i=i.replace(/\\/g," "),e.match(/="/g)?i=i.replace(/".*/g,""):i.match(/^\d+$/g)&&(i=+i));var o=r[0],a=A().notes;a[o]?a[o].push(i):a[o]=[i];n=a[o]}(e),S=!1);else{a=o.match(/complement/g)?-1:1,t.features.push({locations:[],notes:{}});var s=A();s.type=r,s.strand=a,D(o),S=!0}else T=!0}function D(e){e=e.trim();var t=[];e.replace(/(\d+)/g,(function(e,n){t.push(n)}));let n=A();n.start=+t[0],n.end=+t[1]}function N(e){return((e=e.replace(/^[\s]*/,"")).indexOf("=")<0?e.split(/[\s]+/):e.split(/=/))[0]}function j(e,n,r,i){i=i||t;let o=I(e,n);i[r]=i[r]?`${i[r]} `:"",i[r]+=o}function H(e){return e.indexOf("=")<0?e=(e=e.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,"")).trim():e.split(/=/)[1]}function B(e){var t=!1;return e.substr(0,10).match(/^[\S]+/)&&(t=!0),t}function F(e){var t=!1;return e.substr(0,10).match(/^[\s]+[\S]+/)&&(t=!0),t}function z(e){return e.notes.label?e.name=e.notes.label[0]:e.notes.gene?e.name=e.notes.gene[0]:e.notes.ApEinfo_label?e.name=e.notes.ApEinfo_label[0]:e.notes.name?e.name=e.notes.name[0]:e.notes.organism?e.name=e.notes.organism[0]:e.notes.locus_tag?e.name=e.notes.locus_tag[0]:e.notes.note?e.name=e.notes.note[0]:e.name="Untitled Feature",e.name="string"==typeof e.name?e.name:String(e.name),e}}},function(e,t,n){"use strict";e.exports=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},function(e,t,n){e.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n","track-renderer-element":"TrackRenderer-module_track-renderer-element-2i16D","track-renderer-events":"TrackRenderer-module_track-renderer-events-3tVM2"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(5)),o=v(n(3)),a=v(n(4)),s=v(n(6)),l=v(n(7)),u=v(n(1)),c=v(n(2)),h=v(n(169)),d=v(n(656)),f=v(n(659)),p=n(11),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}n(661);var g=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.options={},n.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},n.handleSubmitBound=n.handleSubmit.bind(n),n.handleTilesetPickerDoubleClickBound=n.handleTilesetPickerDoubleClick.bind(n),n.selectedTilesetsChangedBound=n.selectedTilesetsChanged.bind(n),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getOrientation",value:function(e){return"top"===e||"bottom"===e?"1d-horizontal":"left"===e||"right"===e?"1d-vertical":"2d"}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleTilesetPickerDoubleClick",value:function(e){this.selectedTilesetsChanged([e]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleOptionsChanged",value:function(e){this.options=e}},{key:"handlePlotTypeSelected",value:function(e){var t=this.state.selectedTilesets,n=!0,i=!1,o=void 0;try{for(var a,s=(0,r.default)(t);!(n=(a=s.next()).done);n=!0)a.value.type=e}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}this.selectedPlotType=e,this.setState({selectedTilesets:t})}},{key:"selectedTilesetsChanged",value:function(e){var t=null,n=!0,i=(t=0===e.length?[{datatype:"none"}]:e)[0].datatype,o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(t);!(o=(l=u.next()).done);o=!0)l.value.datatype!==i&&(n=!1)}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}if(n){var c=!0,h=!1,d=void 0;try{for(var f,v=(0,r.default)(t);!(c=(f=v.next()).done);c=!0)f.value.type=this.selectedPlotType}catch(e){h=!0,d=e}finally{try{!c&&v.return&&v.return()}finally{if(h)throw d}}}else{var g=!0,y=!1,b=void 0;try{for(var _,T=(0,r.default)(t);!(g=(_=T.next()).done);g=!0){var S=_.value,k=[S.datatype],w=this.getOrientation(this.props.position);"cooler"===S.filetype&&(k=[S.datatype,"chromsizes"]);var x=(0,p.AVAILABLE_TRACK_TYPES)([k],w),E=(0,m.getDefaultTrackForDatatype)(k[0],this.props.position,x);S.type=E.type}}catch(e){y=!0,b=e}finally{try{!g&&T.return&&T.return()}finally{if(y)throw b}}}this.setState({selectedTilesets:t,allTracksSameDatatype:n})}},{key:"render",value:function(){var e=this,t=this.getOrientation(this.props.position),n=u.default.createElement("div",null,u.default.createElement(d.default,{ref:function(t){e.tilesetFinder=t},datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(t){return e.props.onTracksChosen(t,e.props.position)},orientation:t,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return u.default.createElement(h.default,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},n,u.default.createElement(f.default,{ref:function(t){e.plotTypeChooser=t},allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map((function(e){return"cooler"===e.filetype?[e.datatype,"chromsizes"]:[e.datatype]})),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:t,position:this.props.position}))}}]),t}(u.default.Component);g.defaultProps={position:"top"},g.propTypes={datatype:c.default.string.isRequired,host:c.default.string.isRequired,onCancel:c.default.func.isRequired,onTracksChosen:c.default.func.isRequired,position:c.default.string,trackSourceServers:c.default.array.isRequired},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(35)),i=T(n(17)),o=T(n(25)),a=T(n(38)),s=T(n(18)),l=T(n(44)),u=T(n(5)),c=T(n(3)),h=T(n(4)),d=T(n(6)),f=T(n(7)),p=T(n(1)),m=T(n(2)),v=T(n(26)),g=T(n(657)),y=n(24);n(658);var b=T(n(69)),_=n(11);function T(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));n.localTracks=_.TRACKS_INFO.filter((function(e){return e.local&&!e.hidden})).map((function(e){var t=(0,l.default)({},e);return t.datatype=e.datatype[0],t})),n.augmentedTracksInfo=_.TRACKS_INFO,window.higlassTracksByType&&(0,s.default)(window.higlassTracksByType).forEach((function(e){n.augmentedTracksInfo.push(window.higlassTracksByType[e].config)})),e.datatype?n.localTracks=n.localTracks.filter((function(t){return t.datatype[0]===e.datatype})):n.localTracks=n.localTracks.filter((function(e){return e.orientation===n.props.orientation})),n.localTracks.forEach((function(e){e.uuid=v.default.nice()}));var r=n.prepareNewEntries("",n.localTracks,{}),i=(0,s.default)(r),o=i.length?[i[0]]:null;return n.mounted=!1,n.state={selectedUuid:o,options:r,filter:"",checked:[],expanded:[]},n.requestTilesetLists(),n}return(0,f.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"prepareNewEntries",value:function(e,t,n){var r=this,i=n;return t.map((function(t){return(0,l.default)({},t,{server:e,tilesetUid:t.uuid,serverUidKey:r.serverUidKey(e,t.uuid),datatype:t.datatype,name:t.name,uid:v.default.nice()})})).forEach((function(e){i[e.serverUidKey]=e})),i}},{key:"serverUidKey",value:function(e,t){return String(e)+"/"+String(t)}},{key:"requestTilesetLists",value:function(){var e=this,t=null;if(this.props.datatype)t="dt="+String(this.props.datatype);else{var n,r=new a.default((n=[]).concat.apply(n,(0,o.default)(this.augmentedTracksInfo.filter((function(e){return e.datatype})).filter((function(t){return t.orientation===e.props.orientation||"1d-vertical"===e.props.orientation&&"1d-horizontal"===t.orientation})).map((function(e){return e.datatype})))));t=[].concat((0,o.default)(r)).map((function(e){return"dt="+String(e)})).join("&")}this.props.trackSourceServers?this.props.trackSourceServers.forEach((function(n){y.tileProxy.json(String(n)+"/tilesets/?limit=10000&"+String(t),(function(t,r){if(t)console.error("ERROR:",t);else{var i=e.prepareNewEntries(n,r.results,e.state.options),o=(0,s.default)(i),a=e.state.selectedUuid;if(!a){a=o.length?[o[0]]:null;var l=e.state.options[a[0]];e.props.selectedTilesetChanged([l])}e.mounted&&e.setState({selectedUuid:a,options:i})}}),e.props.pubSub)})):console.warn("No track source servers specified in the viewconf")}},{key:"handleOptionDoubleClick",value:function(e){var t=this.state.options[e.target.value];this.props.onDoubleClick(t)}},{key:"handleSelectedOptions",value:function(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),n.push(this.state.options[e[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:t})}},{key:"handleSelect",value:function(){for(var e=this.multiSelect.selectedOptions,t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.value)}this.handleSelectedOptions(t)}},{key:"handleSearchChange",value:function(){var e=this.searchBox;this.setState({filter:e.value})}},{key:"partitionByGroup",value:function(e,t){var n={"":{name:"",value:"",children:[]}},r=!0,o=!1,a=void 0;try{for(var l,u=(0,i.default)((0,s.default)(e));!(r=(l=u.next()).done);r=!0){var c=l.value,h=e[c];if(h.name.toLowerCase().includes(t))if("project_name"in h){var d=h.project_name;d in n||(n[d]={value:d,label:d,children:[]}),n[d].children.push({label:h.name,value:c})}else n[""].children.push({label:h.name,value:c})}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}var f=n[""].children,p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)((0,s.default)(n));!(p=(g=y.next()).done);p=!0){var b=g.value;""!==b&&(n[b].children.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),f.push(n[b]))}}catch(e){m=!0,v=e}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}return f.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),f}},{key:"handleChecked",value:function(e){this.handleSelectedOptions(e),this.setState({checked:e})}},{key:"handleExpanded",value:function(e){this.setState({expanded:e})}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.options)t.push(this.state.options[n]);var i=this.partitionByGroup(this.state.options,this.state.filter),o={width:15,height:15,top:2,right:2,position:"relative"},a=JSON.parse((0,r.default)(o));a.opacity=.5;var s=p.default.createElement("form",{onSubmit:function(e){e.preventDefault()}},p.default.createElement("div",{className:"tileset-finder-search-bar"},p.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),p.default.createElement("input",{ref:function(t){e.searchBox=t},className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),p.default.createElement("div",{className:"tileset-finder-checkbox-tree TilesetFinder_tileset-finder-checkbox-tree-2MsEs"},p.default.createElement(g.default,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#square_o"})),check:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:p.default.createElement("svg",{style:a},p.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:i,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return p.default.createElement("div",null,s)}}]),t}(p.default.Component);S.propTypes={datatype:m.default.string,orientation:m.default.string,onDoubleClick:m.default.func,pubSub:m.default.object.isRequired,selectedTilesetChanged:m.default.func,trackSourceServers:m.default.array},t.default=(0,b.default)(S)},function(e,t,n){var r;window,e.exports=(r=n(1),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){e.exports=n(96)()},function(e,t){e.exports=r},function(e,t,n){var r=n(16),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(41),i=n(47);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(31),i=n(32),o=n(33),a=n(34),s=n(35);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(14);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(12),i=n(43),o=n(44),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(3)(Object,"create");e.exports=r},function(e,t,n){var r=n(56);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(3)(n(2),"Map");e.exports=r},function(e,t,n){var r=n(2).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(6),i=n(17),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(42))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(48),i=n(55),o=n(57),a=n(58),s=n(59);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(60),i=n(63),o=n(64),a=1,s=2;e.exports=function(e,t,n,l,u,c){var h=n&a,d=e.length,f=t.length;if(d!=f&&!(h&&f>d))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<d;){var y=e[m],b=t[m];if(l)var _=h?l(b,y,m,t,e,c):l(y,b,m,e,t,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||u(y,e,n,l,c)))return g.push(t)}))){v=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},function(e,t,n){(function(e){var r=n(2),i=n(81),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(22)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(83),i=n(84),o=n(85),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(28);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=self.crypto||self.msCrypto;e.exports=function(e){e=e||21;for(var t="",n=r.getRandomValues(new Uint8Array(e));0<e--;)t+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[e]];return t}},function(e,t,n){e.exports=n(98).default},function(e,t,n){var r=n(29),i=n(9);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(30),i=n(20),o=n(65),a=n(69),s=n(91),l=n(13),u=n(21),c=n(23),h=1,d="[object Arguments]",f="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var b=l(e),_=l(t),T=b?f:s(e),S=_?f:s(t),k=(T=T==d?p:T)==p,w=(S=S==d?p:S)==p,x=T==S;if(x&&u(e)){if(!u(t))return!1;b=!0,k=!1}if(x&&!k)return y||(y=new r),b||c(e)?i(e,t,n,v,g,y):o(e,t,T,n,v,g,y);if(!(n&h)){var E=k&&m.call(e,"__wrapped__"),C=w&&m.call(t,"__wrapped__");if(E||C){var O=E?e.value():e,A=C?t.value():t;return y||(y=new r),g(O,A,n,v,y)}}return!!x&&(y||(y=new r),a(e,t,n,v,g,y))}},function(e,t,n){var r=n(4),i=n(36),o=n(37),a=n(38),s=n(39),l=n(40);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(5),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(5);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(5);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(5);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(4);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(4),i=n(11),o=n(19),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(15),i=n(45),o=n(17),a=n(18),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(12),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(46),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(2)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(49),i=n(4),o=n(11);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(50),i=n(51),o=n(52),a=n(53),s=n(54);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(7);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(7),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(7),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(7),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t,n){var r=n(8);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(19),i=n(61),o=n(62);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(12),i=n(66),o=n(14),a=n(20),s=n(67),l=n(68),u=1,c=2,h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",S=r?r.prototype:void 0,k=S?S.valueOf:void 0;e.exports=function(e,t,n,r,S,w,x){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!w(new i(e),new i(t)));case h:case d:case m:return o(+e,+t);case f:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var E=s;case g:var C=r&u;if(E||(E=l),e.size!=t.size&&!C)return!1;var O=x.get(e);if(O)return O==t;r|=c,x.set(e,t);var A=a(E(e),E(t),r,S,w,x);return x.delete(e),A;case b:if(k)return k.call(e)==k.call(t)}return!1}},function(e,t,n){var r=n(2).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(70),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,l){var u=n&i,c=r(e),h=c.length;if(h!=r(t).length&&!u)return!1;for(var d=h;d--;){var f=c[d];if(!(u?f in t:o.call(t,f)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var v=u;++d<h;){var g=e[f=c[d]],y=t[f];if(a)var b=u?a(y,g,f,t,e,l):a(g,y,f,e,t,l);if(!(void 0===b?g===y||s(g,y,n,a,l):b)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var _=e.constructor,T=t.constructor;_!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof T&&T instanceof T)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t,n){var r=n(71),i=n(73),o=n(76);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(72),i=n(13);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(74),i=n(75),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(77),i=n(86),o=n(90);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(78),i=n(79),o=n(13),a=n(21),s=n(82),l=n(23),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),d=!n&&!c&&!h&&l(e),f=n||c||h||d,p=f?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(80),i=n(9),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(6),i=n(9),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(6),i=n(24),o=n(9),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(16),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(22)(e))},function(e,t,n){var r=n(87),i=n(88),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(89)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(15),i=n(24);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(92),i=n(11),o=n(93),a=n(94),s=n(95),l=n(6),u=n(18),c=u(r),h=u(i),d=u(o),f=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(3)(n(2),"DataView");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Promise");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Set");e.exports=r},function(e,t,n){var r=n(3)(n(2),"WeakMap");e.exports=r},function(e,t,n){"use strict";var r=n(97);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(25),a=n.n(o),s=n(26),l=n.n(s),u=n(0),c=n.n(u),h=n(1),d=n.n(h);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,y(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,d.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=m(e,["children","title"]);return d.a.createElement("button",p({"aria-label":n,title:n,type:"button"},r),t)}}])&&v(n.prototype,r),i&&v(n,i),t}();_(T,"propTypes",{children:c.a.node.isRequired,title:c.a.string}),_(T,"defaultProps",{title:null});var S=T;function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.flatNodes=n}var t,n,r;return t=e,(n=[{key:"setProps",value:function(e){this.props=e}},{key:"clone",value:function(){var t=this,n={};return Object.keys(this.flatNodes).forEach((function(e){var r=t.flatNodes[e];n[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}({},r)})),new e(this.props,n)}},{key:"getNode",value:function(e){return this.flatNodes[e]}},{key:"flattenNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var i=this.props,o=i.disabled,a=i.noCascade;e.forEach((function(e,i){var s=t.nodeHasChildren(e);t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:n,isParent:s,isLeaf:!s,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,n,o,a),treeDepth:r,index:i},t.flattenNodes(e.children,e,r+1)}))}}},{key:"nodeHasChildren",value:function(e){return Array.isArray(e.children)&&e.children.length>0}},{key:"getDisabledState",value:function(e,t,n,r){return!!n||!(r||!t.disabled)||Boolean(e.disabled)}},{key:"deserializeLists",value:function(e){var t=this,n=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(e){n.forEach((function(n){t.flatNodes[e][n]=!1}))})),n.forEach((function(n){e[n].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][n]=!0)}))}))}},{key:"serializeList",value:function(e){var t=this,n=[];return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r][e]&&n.push(r)})),n}},{key:"expandAllNodes",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n].isParent&&(t.flatNodes[n].expanded=e)})),this}},{key:"toggleChecked",value:function(e,t,n){var r=this,i=this.flatNodes[e.value];if(i.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,"checked",t)}else i.children.forEach((function(e){r.toggleChecked(e,t,n)}));return this}},{key:"toggleNode",value:function(e,t,n){return this.flatNodes[e][t]=n,this}}])&&w(t.prototype,n),r&&w(t,r),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,M(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,d.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},this.props);return delete t.indeterminate,d.a.createElement("input",C({},t,{ref:function(t){e.checkbox=t},type:"checkbox"}))}}])&&O(n.prototype,r),i&&O(n,i),t}();I(L,"propTypes",{indeterminate:c.a.bool}),I(L,"defaultProps",{indeterminate:!1});var R=L,D=c.a.shape({check:c.a.node,uncheck:c.a.node,halfCheck:c.a.node,expandClose:c.a.node,expandOpen:c.a.node,expandAll:c.a.node,collapseAll:c.a.node,parentClose:c.a.node,parentOpen:c.a.node,leaf:c.a.node}),N=c.a.shape({collapseAll:c.a.string.isRequired,expandAll:c.a.string.isRequired,toggle:c.a.string.isRequired});function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(i=B(t).call(this,e))||"object"!==j(i)&&"function"!=typeof i?z(r):i).onCheck=n.onCheck.bind(z(z(n))),n.onClick=n.onClick.bind(z(z(n))),n.onExpand=n.onExpand.bind(z(z(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,d.a.Component),n=t,(r=[{key:"onCheck",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:"onClick",value:function(){var e=this.props,t=e.expandOnClick,n=e.isParent,r=e.value,i=e.onClick;n&&t&&this.onExpand(),i({value:r,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var e=this.props,t=e.expanded,n=e.value;(0,e.onExpand)({value:n,expanded:!t})}},{key:"getCheckState",value:function(e){var t=e.toggle,n=this.props,r=n.checked,i=n.optimisticToggle;return!(0!==r||!t)||1===r&&!t||2===r&&i}},{key:"renderCollapseButton",value:function(){var e=this.props,t=e.expandDisabled,n=e.isLeaf,r=e.lang;return n?d.a.createElement("span",{className:"rct-collapse"},d.a.createElement("span",{className:"rct-icon"})):d.a.createElement(S,{className:"rct-collapse rct-collapse-btn",disabled:t,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var e=this.props,t=e.expanded,n=e.icons,r=n.expandClose,i=n.expandOpen;return t?i:r}},{key:"renderCheckboxIcon",value:function(){var e=this.props,t=e.checked,n=e.icons,r=n.uncheck,i=n.check,o=n.halfCheck;return 0===t?r:1===t?i:o}},{key:"renderNodeIcon",value:function(){var e=this.props,t=e.expanded,n=e.icon,r=e.icons,i=r.leaf,o=r.parentClose,a=r.parentOpen,s=e.isLeaf;return null!==n?n:s?i:t?a:o}},{key:"renderBareLabel",value:function(e){var t=this.props,n=t.onClick,r=t.title,i=null!==n;return d.a.createElement("span",{className:"rct-bare-label",title:r},i?d.a.createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},e):e)}},{key:"renderCheckboxLabel",value:function(e){var t=this.props,n=t.checked,r=t.disabled,i=t.title,o=t.treeId,a=t.value,s=null!==t.onClick,l="".concat(o,"-").concat(String(a).split(" ").join("_")),u=[d.a.createElement("label",{key:0,htmlFor:l,title:i},d.a.createElement(R,{checked:1===n,disabled:r,id:l,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),d.a.createElement("span",{className:"rct-checkbox"},this.renderCheckboxIcon()),s?null:e)];return s&&u.push(d.a.createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},e)),u}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,n=e.showCheckbox,r=[e.showNodeIcon?d.a.createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,d.a.createElement("span",{key:1,className:"rct-title"},t)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.expanded,o=e.isLeaf,a=i()({"rct-node":!0,"rct-node-leaf":o,"rct-node-parent":!o,"rct-node-expanded":!o&&r,"rct-node-collapsed":!o&&!r,"rct-disabled":n},t);return d.a.createElement("li",{className:a},d.a.createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&H(n.prototype,r),o&&H(n,o),t}();V(U,"propTypes",{checked:c.a.number.isRequired,disabled:c.a.bool.isRequired,expandDisabled:c.a.bool.isRequired,expanded:c.a.bool.isRequired,icons:D.isRequired,isLeaf:c.a.bool.isRequired,isParent:c.a.bool.isRequired,label:c.a.node.isRequired,lang:N.isRequired,optimisticToggle:c.a.bool.isRequired,showNodeIcon:c.a.bool.isRequired,treeId:c.a.string.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,onCheck:c.a.func.isRequired,onExpand:c.a.func.isRequired,children:c.a.node,className:c.a.string,expandOnClick:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string,onClick:c.a.func}),V(U,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});var G=U,Y=c.a.oneOfType([c.a.arrayOf(c.a.string),c.a.arrayOf(c.a.number)]);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={label:c.a.node.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,disabled:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string},X=c.a.oneOfType([c.a.shape(q),c.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}({},q,{children:c.a.arrayOf(q).isRequired}))]);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){function t(e){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(i=Q(t).call(this,e))||"object"!==K(i)&&"function"!=typeof i?ee(r):i;var o=new x(e);return o.flattenNodes(e.nodes),o.deserializeLists({checked:e.checked,expanded:e.expanded}),n.state={id:e.id||"rct-".concat(l()(7)),model:o,prevProps:e},n.onCheck=n.onCheck.bind(ee(ee(n))),n.onExpand=n.onExpand.bind(ee(ee(n))),n.onNodeClick=n.onNodeClick.bind(ee(ee(n))),n.onExpandAll=n.onExpandAll.bind(ee(ee(n))),n.onCollapseAll=n.onCollapseAll.bind(ee(ee(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,d.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.model,r=t.prevProps,i=e.disabled,o=e.id,s=e.nodes,l=$({},t,{prevProps:e});return n.setProps(e),a()(r.nodes,s)&&r.disabled===i||n.flattenNodes(s),null!==o&&(l=$({},l,{id:o})),n.deserializeLists({checked:e.checked,expanded:e.expanded}),l}}],(r=[{key:"onCheck",value:function(e){var t=this.props,n=t.noCascade,r=t.onCheck,i=this.state.model.clone(),o=i.getNode(e.value);i.toggleChecked(e,e.checked,n),r(i.serializeList("checked"),$({},o,e))}},{key:"onExpand",value:function(e){var t=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(e.value);n.toggleNode(e.value,"expanded",e.expanded),t(n.serializeList("expanded"),$({},r,e))}},{key:"onNodeClick",value:function(e){(0,this.props.onClick)($({},this.state.model.getNode(e.value),e))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(e,t){var n=this.state.model.getNode(e.value);return n.isLeaf||t?n.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:"isSomeChildChecked",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.props,o=i.expandDisabled,a=i.expandOnClick,s=i.icons,l=i.lang,u=i.noCascade,c=i.onClick,h=i.onlyLeafCheckboxes,f=i.optimisticToggle,p=i.showNodeTitle,m=i.showNodeIcon,v=this.state,g=v.id,y=v.model,b=t.defaultProps.icons,_=e.map((function(e){var t=e.value,i=y.getNode(e.value),v=i.isParent?n.renderTreeNodes(e.children,e):null;i.checkState=n.determineShallowCheckState(e,u);var _=h?i.isLeaf:i.showCheckbox;return!r.value||y.getNode(r.value).expanded?d.a.createElement(G,{key:t,checked:i.checkState,className:e.className,disabled:i.disabled,expandDisabled:o,expandOnClick:a,expanded:i.expanded,icon:e.icon,icons:$({},b,s),label:e.label,lang:l,optimisticToggle:f,isLeaf:i.isLeaf,isParent:i.isParent,showCheckbox:_,showNodeIcon:m,title:p?e.title||e.label:e.title,treeId:g,value:e.value,onCheck:n.onCheck,onClick:c&&n.onNodeClick,onExpand:n.onExpand},v):null}));return d.a.createElement("ol",null,_)}},{key:"renderExpandAll",value:function(){var e=this.props,t=e.icons,n=t.expandAll,r=t.collapseAll,i=e.lang;return e.showExpandAll?d.a.createElement("div",{className:"rct-options"},d.a.createElement(S,{className:"rct-option rct-option-expand-all",title:i.expandAll,onClick:this.onExpandAll},n),d.a.createElement(S,{className:"rct-option rct-option-collapse-all",title:i.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:"renderHiddenInput",value:function(){var e=this.props,t=e.name,n=e.nameAsArray;return void 0===t?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name;return t.map((function(e){var t="".concat(n,"[]");return d.a.createElement("input",{key:e,name:t,type:"hidden",value:e})}))}},{key:"renderJoinedHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name,r=t.join(",");return d.a.createElement("input",{name:n,type:"hidden",value:r})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.nodes,r=e.nativeCheckboxes,o=this.renderTreeNodes(n),a=i()({"react-checkbox-tree":!0,"rct-disabled":t,"rct-native-display":r});return d.a.createElement("div",{className:a},this.renderExpandAll(),this.renderHiddenInput(),o)}}])&&Z(n.prototype,r),o&&Z(n,o),t}();te(ne,"propTypes",{nodes:c.a.arrayOf(X).isRequired,checked:Y,disabled:c.a.bool,expandDisabled:c.a.bool,expandOnClick:c.a.bool,expanded:Y,icons:D,id:c.a.string,lang:N,name:c.a.string,nameAsArray:c.a.bool,nativeCheckboxes:c.a.bool,noCascade:c.a.bool,onlyLeafCheckboxes:c.a.bool,optimisticToggle:c.a.bool,showExpandAll:c.a.bool,showNodeIcon:c.a.bool,showNodeTitle:c.a.bool,onCheck:c.a.func,onClick:c.a.func,onExpand:c.a.func}),te(ne,"defaultProps",{checked:[],disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:d.a.createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:d.a.createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:d.a.createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:d.a.createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:d.a.createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:d.a.createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:d.a.createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:d.a.createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:d.a.createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:d.a.createElement("span",{className:"rct-icon rct-icon-leaf"})},id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}}),t.default=ne}]))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=d(n(1)),c=n(11),h=n(10);function d(e){return e&&e.__esModule?e:{default:e}}n(660);var f=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.DATATYPE_TO_TRACK_TYPE=(0,c.DATATYPE_TO_TRACK_TYPE)(n.props.orientation),n.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(e.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&e.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){var t=(0,h.getDefaultTrackForDatatype)(e.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(t)}}},{key:"handlePlotTypeSelected",value:function(e){this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)}},{key:"render",value:function(){var e=this,t="No plot types available for track",n={};return c.TRACKS_INFO.forEach((function(e){n[e.type]=e})),this.AVAILABLE_TRACK_TYPES&&(t=this.AVAILABLE_TRACK_TYPES.sort((function(e,t){return e.type<t.type})).map((function(t){var r=n[t.type].thumbnail,i=e.state.selectedPlotType.type===t.type?"plot-type-item plot-type-selected":"plot-type-item",o=n[t.type].thumbnail?u.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:r.outerHTML}}):u.default.createElement("div",{className:"track-thumbnail"},u.default.createElement("svg",{height:20,width:30}));return u.default.createElement("li",{key:t.type,className:i,onClick:function(n){e.setState({selectedPlotType:t}),e.props.onPlotTypeSelected(t.type)},style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},o,u.default.createElement("span",{style:{verticalAlign:"middle"}},t.type))}))),u.default.createElement("div",null,t.length>0&&this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container"},t),!this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}}]),t}(u.default.Component);f.propTypes={allTracksSameDatatype:l.default.bool,datatypes:l.default.array,orientation:l.default.string,onPlotTypeSelected:l.default.func,position:l.default.string},t.default=f},function(e,t,n){},function(e,t,n){e.exports={"collapse-toggle-icon":"AddTrackDialog-module_collapse-toggle-icon-1Of5_",collapsed:"AddTrackDialog-module_collapsed-1ifB1","modal-title":"AddTrackDialog-module_modal-title-1Atka","modal-container":"AddTrackDialog-module_modal-container-14d_4",modal:"AddTrackDialog-module_modal-bZqLI","modal-backdrop":"AddTrackDialog-module_modal-backdrop-ZrVQg","modal-dialog":"AddTrackDialog-module_modal-dialog-3bKDk"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(14)),l=g(n(7)),u=g(n(29)),c=g(n(1)),h=n(81),d=g(n(96)),f=g(n(67)),p=g(n(390)),m=n(183),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.seriesRefs={},n.seriesListMenu=null,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"componentDidMount",this).call(this)}},{key:"render",value:function(){var e=this,t="context-menu";return this.props.theme===v.THEME_DARK&&(t+=" context-menu-dark"),c.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top},className:(0,u.default)(t,y)},(0,m.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(f.default,{contextMenu:this,onClick:function(){return e.props.onLockValueScale(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Lock Value Scale With"),c.default.createElement(f.default,{contextMenu:this,onClick:function(){return e.props.onUnlockValueScale(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Unlock Value Scale"),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(f.default,{contextMenu:this,onClick:function(){return e.props.onAddSeries(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Series"),c.default.createElement(f.default,{onClick:function(){return e.props.onCloseTrack(e.props.tracks[0].uid)}},"Close Track"),c.default.createElement(f.default,{onClick:function(){e.props.onReplaceTrack(e.props.tracks[0].uid,e.props.trackOrientation)}},"Replace Track"),this.getSubmenu())}}]),t}((0,h.mix)(d.default).with(p.default));t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(37)),i=g(n(18)),o=g(n(17)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(7)),h=g(n(29)),d=g(n(1)),f=g(n(96)),p=g(n(67)),m=g(n(391)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"getConfigureSeriesMenu",value:function(e,t,n){var r=this,a={},s=window.higlassTracksByType&&window.higlassTracksByType[n.type]&&window.higlassTracksByType[n.type].config&&window.higlassTracksByType[n.type].config.optionsInfo;if(s){var l=!0,u=!1,c=void 0;try{for(var h,f=(0,o.default)((0,i.default)(s));!(l=(h=f.next()).done);l=!0){var p=h.value;v.OPTIONS_INFO[p]=s[p]}}catch(e){u=!0,c=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}if(!v.TRACKS_INFO_BY_TYPE[n.type]||!v.TRACKS_INFO_BY_TYPE[n.type].availableOptions)return null;var g=function(e){if(e in v.OPTIONS_INFO){if(a[e]={name:v.OPTIONS_INFO[e].name},v.OPTIONS_INFO[e].generateOptions){var t=v.OPTIONS_INFO[e].generateOptions(n);a[e].children||(a[e].children={});var i=function(t){var i={name:t.name,value:t.value,handler:function(){n.options[e]=t.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()}};a[e].children[t.value]=i},s=!0,l=!1,u=void 0;try{for(var c,h=(0,o.default)(t);!(s=(c=h.next()).done);s=!0)i(c.value)}catch(e){l=!0,u=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}if(v.OPTIONS_INFO[e].inlineOptions){var d=function(t){var i=v.OPTIONS_INFO[e].inlineOptions[t];a[e].children||(a[e].children={});var o={name:i.name,value:i.value};i.componentPickers&&i.componentPickers[n.type]?o.handler=function(){r.props.onConfigureTrack(n,i.componentPickers[n.type]),r.props.closeMenu()}:o.handler=function(){n.options[e]=i.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()},a[e].children[t]=o};for(var f in v.OPTIONS_INFO[e].inlineOptions)d(f)}else v.OPTIONS_INFO[e].componentPickers&&v.OPTIONS_INFO[e].componentPickers[n.type]&&(a[e].handler=function(){r.props.onConfigureTrack(n,v.OPTIONS_INFO[e].componentPickers[n.type]),r.props.closeMenu()})}},y=!0,b=!1,_=void 0;try{for(var T,S=(0,o.default)(v.TRACKS_INFO_BY_TYPE[n.type].availableOptions);!(y=(T=S.next()).done);y=!0)g(T.value)}catch(e){b=!0,_=e}finally{try{!y&&S.return&&S.return()}finally{if(b)throw _}}return d.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getTrackTypeItems",value:function(e,t,n){var o=this;window.higlassTracksByType&&(0,i.default)(window.higlassTracksByType).forEach((function(e){v.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config}));var a=n.datatype,s=null;n.type in v.TRACKS_INFO_BY_TYPE&&(a||(a=v.TRACKS_INFO_BY_TYPE[n.type].datatype[0]),s=v.TRACKS_INFO_BY_TYPE[n.type].orientation);for(var l=(0,r.default)(v.TRACKS_INFO_BY_TYPE).filter((function(e){return e.datatype})).filter((function(e){return e.orientation})).filter((function(e){return e.datatype.includes(a)})).filter((function(e){return e.orientation===s})).map((function(e){return e.type})),u={},c=function(e){u[l[e]]={value:l[e],name:l[e],handler:function(){o.props.onChangeTrackType(n.uid,l[e])}}},h=0;h<l.length;h++)c(h);return d.default.createElement(m.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:u,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},n=this.state.submenuShown,r=n.value;return"track-type"===n.option?this.getTrackTypeItems(t,e,r):this.getConfigureSeriesMenu(t,e,r)}return d.default.createElement("div",null)}},{key:"getDivideByMenuItem",value:function(){var e=this;if(this.props.series.data&&"divided"===this.props.series.data.type){var t={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return d.default.createElement(p.default,{onClick:function(){return e.props.onChangeTrackData(e.props.series.uid,t)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},d.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Remove divisor"))}return d.default.createElement(p.default,{onClick:function(){return e.props.onAddDivisor(e.props.series)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},d.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Divide by"))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=null;v.TRACKS_INFO_BY_TYPE[this.props.series.type]&&v.TRACKS_INFO_BY_TYPE[this.props.series.type].exportable&&(t=d.default.createElement(p.default,{onClick:function(){return e.props.onExportData(e.props.hostTrack.uid,e.props.track.uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},d.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Export Data")));var n=this.props.onAddSeries?d.default.createElement(p.default,{onClick:function(){e.props.onCloseTrack(e.props.series.uid),e.props.onAddSeries(e.props.hostTrack.uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},d.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")):null,r="context-menu";return this.props.theme===v.THEME_DARK&&(r+=" context-menu-dark"),d.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top},className:(0,h.default)(r,y)},d.default.createElement(p.default,{onClick:function(){},onMouseEnter:function(t){return e.handleItemMouseEnter(t,{option:"configure-series",value:e.props.track})},onMouseLeave:function(t){return e.handleMouseLeave(t)}},"Configure Series",d.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},d.default.createElement("use",{xlinkHref:"#play"}))),d.default.createElement(p.default,{onClick:function(){},onMouseEnter:function(t){return e.handleItemMouseEnter(t,{option:"track-type",value:e.props.track})},onMouseLeave:function(t){return e.handleMouseLeave(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},d.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",d.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},d.default.createElement("use",{xlinkHref:"#play"})))),t,this.getDivideByMenuItem(),d.default.createElement(p.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},d.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),n,this.getSubmenu())}}]),t}(f.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),i=s(n(1)),o=s(n(67)),a=n(183);function s(e){return e&&e.__esModule?e:{default:e}}n(68);var l=function(e){return i.default.createElement("div",null,(0,a.getSeriesItems)(e.tracks,null,null,e.onCloseTrack),i.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),i.default.createElement(o.default,{onClick:function(){return e.onCloseTrack(e.tracks[0].uid)}},"Close all series"))};l.propTypes={onCloseTrack:r.default.func.isRequired,tracks:r.default.array.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(125),o=a(n(394));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),i=g(n(34)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(29)),h=n(84),d=n(0),f=g(n(2)),p=g(n(1)),m=g(n(78)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(667);var y={"../styles/DraggableDiv.module.scss":{"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.dragTopRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=(0,d.select)("body").node(),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.select)(this.bottomHandle).call(this.dragBottom),(0,d.select)(this.topHandle).call(this.dragTop),(0,d.select)(this.leftHandle).call(this.dragLeft),(0,d.select)(this.rightHandle).call(this.dragRight)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){"width"in e&&this.setState({width:e.width}),"height"in e&&this.setState({height:e.height})}},{key:"dragBottomFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight,this.setState({height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragLeftFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:n,width:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:n,height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragRightFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth,this.setState({width:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomLeftFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;var r=this.dragStartLeft+e[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:r,width:n,height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomRightFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight,this.setState({width:t,height:n}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopRightFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth,this.setState({top:n,width:r,height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopLeftFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight;var i=this.dragStartTop+e[1]-this.dragStartMousePos[1];i=r>this.minHeight?i:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:i,left:n,width:t,height:r}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragStart",value:function(){this.dragStartMousePos=(0,d.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,d.event.sourceEvent.stopPropagation()}},{key:"sizeChanged",value:function(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}},{key:"rotateClicked",value:function(){this.props.trackRotated(this.state.uid)}},{key:"closeClicked",value:function(){this.props.trackClosed(this.state.uid)}},{key:"render",value:function(){var e=this,t=this.props.theme===v.THEME_DARK?"white":"black",n={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},o={left:this.state.width/2-12,width:24},a={top:this.state.height/2-12,height:24},s={bottom:(0,i.default)({},o,{bottom:1}),top:(0,i.default)({},o,{top:1}),left:(0,i.default)({},a,{left:1}),right:(0,i.default)({},a,{right:1})},l=[].concat((0,r.default)(this.props.resizeHandles)).map((function(n){return p.default.createElement("div",{key:n,ref:function(t){e[String(n)+"Handle"]=t},style:s[n],title:"Resize track",className:(0,c.default)(String(n)+"-draggable-handle",y)},p.default.createElement("div",{style:{borderColor:t},className:(0,c.default)(String(n)+"-draggable-handle-grabber",y)}))}));return p.default.createElement("div",{ref:function(t){e.divContainer=t},className:(this.props.className?this.props.className+" ":"")+"DraggableDiv-module_draggable-div-2eWml",style:n},l)}}]),t}(p.default.Component);b.propTypes={className:f.default.string,height:f.default.number,left:f.default.number,opacity:f.default.number,resizeHandles:f.default.object,sizeChanged:f.default.func,top:f.default.number,trackClosed:f.default.func,trackRotated:f.default.func,uid:f.default.string,width:f.default.number,theme:f.default.symbol},t.default=(0,m.default)(b)},function(e,t,n){e.exports={"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=d(n(1)),c=d(n(42)),h=n(125);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={controlsVisible:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){return!this.resizing}},{key:"handleMouseEnter",value:function(){this.setState({controlsVisible:!0})}},{key:"handleMouseLeave",value:function(){this.setState({controlsVisible:!1})}},{key:"handleMouseMove",value:function(){this.setState({controlsVisible:!0})}},{key:"getControls",value:function(){var e=this,t=null;return t=this.moveable?(0,h.SortableHandle)((function(){return u.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){},style:e.getMoveImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#move"}))})):(0,h.SortableHandle)((function(){return u.default.createElement("div",null)})),u.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},u.default.createElement(t,null),u.default.createElement("svg",{ref:function(t){e.imgConfig=t},className:"no-zoom",height:"10px",onClick:function(){var t=c.default.findDOMNode(e.imgConfig).getBoundingClientRect();e.props.onConfigTrackMenuOpened(e.props.uid,t)},style:this.getSettingsImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(t){e.imgAdd=t},className:"no-zoom",height:"10px",onClick:function(){return e.props.onAddSeries(e.props.uid)},style:this.getAddImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{ref:function(t){e.imgClose=t},className:"no-zoom",height:"10px",onClick:function(){var t=c.default.findDOMNode(e.imgClose).getBoundingClientRect();e.props.onCloseTrackMenuOpened(e.props.uid,t)},style:this.getCloseImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cross"})))}}]),t}(u.default.Component);f.propTypes={configMenuOpen:l.default.bool,onConfigTrackMenuOpened:l.default.func,onCloseTrackMenuOpened:l.default.func,onAddSeries:l.default.func,uid:l.default.string},t.default=f},function(e,t,n){e.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(5)),i=T(n(3)),o=T(n(4)),a=T(n(6)),s=T(n(7)),l=T(n(29)),u=T(n(2)),c=T(n(1)),h=n(83),d=n(0),f=T(n(26)),p=T(n(393)),m=T(n(671)),v=T(n(395)),g=n(10),y=n(11),b=(T(n(672)),T(n(176))),_=T(n(175));function T(e){return e&&e.__esModule?e:{default:e}}var S={styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},k=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,h.brushY)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=this.props.is1dRangeSelection?0:1;return this.moveBrush(e.rangeSelection[n]?e.rangeSelection[n]:null,e.rangeSelectionEnd),this.state!==t}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(d.event.selection))}},{key:"brushStarted",value:function(){this.sourceEvent&&d.event.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,d.event.selection&&d.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(d.event.selection)),d.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}},{key:"moveBrush",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return e.width})).reduce(g.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},n&&c.default.createElement("svg",{ref:function(t){e.brushEl=(0,d.select)(t)},style:{height:this.props.height,width:t},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,S)}),c.default.createElement(p.default,{axis:"x",className:String(b.default.list)+" "+String(b.default.stylizedList)+" "+String(b.default.horizontalList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:b.default.stylizedHelper,itemClass:String(b.default.stylizedItem)+" "+String(b.default.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||f.default.nice(),height:e.props.height,width:t.width,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:t}))}},{key:"sourceEvent",get:function(){return d.event&&d.event.sourceEvent}}]),t}(c.default.Component);k.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,height:u.default.number,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,tracksControlAlignLeft:u.default.bool},t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(125),o=a(n(396));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){e.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(5)),i=y(n(3)),o=y(n(4)),a=y(n(6)),s=y(n(7)),l=y(n(29)),u=y(n(1)),c=y(n(2)),h=n(81),d=n(10),f=n(183),p=y(n(67)),m=y(n(96)),v=y(n(390)),g=n(11);function y(e){return e&&e.__esModule?e:{default:e}}n(68);var b={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},_=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=(0,f.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),n=this.props.customItems?u.default.Children.map(this.props.customItems,(function(t){return u.default.cloneElement(t,{onMouseEnter:function(t){e.handleOtherMouseEnter(t)}})})):null,r="context-menu";return this.props.theme===g.THEME_DARK&&(r+=" context-menu-dark"),u.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top},className:(0,l.default)(r,b)},n,n&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),t,t&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"horizontal-rule",y:e.props.coords[1],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Horizontal Rule"),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"vertical-rule",x:e.props.coords[0],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Vertical Rule"),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"cross-rule",x:e.props.coords[0],y:e.props.coords[1],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Cross Rule"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Vertical Cross Section"),this.getSubmenu())}},{key:"hasMatrixTrack",value:function(e){return(0,d.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type})).length>0}},{key:"handleAddHorizontalSection",value:function(){var e=(0,d.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}},{key:"handleAddVerticalSection",value:function(){var e=(0,d.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}}]),t}((0,h.mix)(m.default).with(v.default));_.propTypes={coords:c.default.array,customItems:c.default.array},t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(n(19)),i=A(n(62)),o=A(n(30)),a=A(n(25)),s=A(n(38)),l=A(n(5)),u=A(n(3)),c=A(n(4)),h=A(n(6)),d=A(n(7)),f=A(n(29)),p=n(0),m=A(n(1)),v=A(n(26)),g=A(n(2)),y=A(n(675)),b=A(n(73)),_=A(n(140)),T=A(n(264)),S=n(24),k=A(n(69)),w=n(10),x=A(n(78)),E=n(266),C=n(11),O=A(n(679));function A(e){return e&&e.__esModule?e:{default:e}}var M={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},P=function(e){function t(e){(0,u.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.mounted=!1,n.uid=v.default.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.positionText="chr4:190,998,876-191,000,255",n.state={genes:[],isFocused:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new s.default([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,(0,p.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,(0,b.default)(this.props.chromInfoPath,(function(t){t?(e.chromInfo=t,e.searchField=new _.default(e.chromInfo),e.setPositionText()):e.searchPosition=null}))),this.setPositionText()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.removeViewportChangedListener()}},{key:"onAutocompleteChange",value:function(e,t){var n=this;this.positionText=t,this.setState({value:t,loading:!0}),this.changedPart=null;for(var r=t.split(/ /),i=0,o=[],a=!1,s=0;s<r.length;s++)for(var l=r[s].split(/-/),u=0;u<l.length;u++){if(i+=1,o.push(l[u]),a=0===u,u===this.prevParts.length){this.changedPart=i-1;break}if(l[u]!==this.prevParts[u]){this.changedPart=i-1;break}}if(this.prevParts=o,this.state.autocompleteServer&&this.state.autocompleteId&&null!==this.changedPart){this.setState({loading:!0});var c=String(this.state.autocompleteServer)+"/suggest/";c+="?d="+String(this.state.autocompleteId)+"&ac="+String(o[this.changedPart].toLowerCase()),S.tileProxy.json(c,(function(e,t){if(e)n.setState({loading:!1,genes:[]});else if(n.changedPart>0&&!a){var r=String(n.state.autocompleteServer)+"/suggest/?d="+String(n.state.autocompleteId)+"&ac="+String(o[n.changedPart-1].toLowerCase())+"-"+String(o[n.changedPart].toLowerCase());S.tileProxy.json(r,(function(e,r){e?n.setState({loading:!1,genes:t}):n.setState({loading:!1,genes:r.concat(t)})}),n.props.pubSub)}else n.setState({loading:!1,genes:t})}),this.props.pubSub)}}},{key:"setAvailableAssemblies",value:function(){var e=new s.default((0,w.dictKeys)(this.availableChromSizes)),t=new s.default([].concat((0,a.default)(e)));this.gpsbForm&&this.setState({availableAssemblies:[].concat((0,a.default)(t))})}},{key:"setSelectedAssembly",value:function(e){if(this.mounted&&this.availableChromSizes[e]){var t=[].concat((0,a.default)(this.availableChromSizes[e]))[0];this.setState({autocompleteServer:t.server});var n=t.server;if(this.availableAutocompletes[e]){var r=[].concat((0,a.default)(this.availableAutocompletes[e]))[0].acId;this.props.onSelectedAssemblyChanged(e,r,n),this.gpsbForm&&this.setState({autocompleteId:r})}else this.props.onSelectedAssemblyChanged(e,null,n),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(t.uuid,t.server)}}},{key:"setPositionText",value:function(){if(this.mounted&&this.searchField){var e=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=e.split(/[ -]/),this.gpsbForm&&(this.positionText=e,this.origPositionText=e,this.autocompleteMenu.inputEl.value=e)}}},{key:"scalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.setPositionText()}},{key:"findAvailableChromSizes",value:function(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){S.tileProxy.json(String(t)+"/available-chrom-sizes/",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableChromSizes||(e.availableChromSizes[n.coordSystem]=new s.default),e.availableChromSizes[n.coordSystem].add({server:t,uuid:n.uuid}),e.setAvailableAssemblies()})),e.searchField||e.fetchChromInfo(e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].uuid:e.props.chromInfoId,e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].server:e.props.chromInfoServer))}),e.props.pubSub)}))}},{key:"findAvailableAutocompleteSources",value:function(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){S.tileProxy.json(String(t)+"/tilesets/?limit=100&dt=gene-annotation",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableAutocompletes||(e.availableAutocompletes[n.coordSystem]=new s.default),e.availableAutocompletes[n.coordSystem].add({server:t,acId:n.uuid}),e.setAvailableAssemblies()})),e.state.autocompleteId||e.gpsbForm&&e.availableAutocompletes[e.props.chromInfoId]&&e.setState({autocompleteId:[].concat((0,a.default)(e.availableAutocompletes[e.props.chromInfoId]))[0].acId}))}),e.props.pubSub)}))}},{key:"fetchChromInfo",value:function(e,t){var n=this;(0,b.default)(String(t)+"/chrom-sizes/?id="+String(e),(function(r){r&&(S.tileProxy.json(String(t)+"/tileset_info/?d="+String(e),(function(t,r){t||n.gpsbForm&&n.setState({selectedAssembly:r[e].coordSystem})}),n.props.pubSub),n.chromInfo=r,n.searchField=new _.default(n.chromInfo),n.setPositionText())}),this.props.pubSub)}},{key:"autocompleteKeyPress",value:function(){13===p.event.keyCode&&this.buttonClick()}},{key:"genePositionToSearchBarText",value:function(e){}},{key:"replaceGenesWithLoadedPositions",value:function(e){for(var t=this.positionText,n=t.split(" "),r=!1,i=0;i<n.length;i++){for(var o=n[i].split("-"),a=0,s=0,l="";a<o.length;){for(s=o.length;s>a;){var u=o.slice(a,s).join("-");if(e[u.toLowerCase()]){var c=e[u.toLowerCase()],h=Math.floor((c.txEnd-c.txStart)/4);0===a&&s<o.length?l=String(c.chr)+":"+(c.txStart-h):0===a&&s===o.length?l=String(c.chr)+":"+(c.txStart-h)+"-"+String(c.txEnd+h):l+="- "+String(c.chr)+":"+String(c.txEnd+h),r=!0;break}s===a+1&&(l.length&&(l+="-"),l+=u),s-=1}a=s+1}n[i]=l}var d=n.join(" ");return this.prevParts=d.split(/[ -]/),this.positionText=d,this.setState({value:d}),r?t:null}},{key:"replaceGenesWithPositions",value:function(e){for(var t=this,n=this.positionText.split(/[ -]/),r=[],a=0;a<n.length;a++)if(0!==n[a].length){var s=this.searchField.parsePosition(n[a])[2];if(null===s||(0,o.default)(+s)){var l=String(this.state.autocompleteServer)+"/suggest/?d="+String(this.state.autocompleteId)+"&ac="+String(n[a].toLowerCase());r.push(S.tileProxy.json(l,w.toVoid,this.props.pubSub))}}i.default.all(r).then((function(n){if(n){for(var r={},i=0;i<n.length;i++)if(n[i][0])for(var o=0;o<n[i].length;o++)r[n[i][o].geneName.toLowerCase()]=n[i][o];var a=t.replaceGenesWithLoadedPositions(r);e(a)}})).catch((function(e){return console.error(e)}))}},{key:"buttonClick",value:function(){var e=this;this.setState({genes:[]}),this.replaceGenesWithPositions((function(t){var n=e.positionText;if(null!==e.searchField){var i=e.searchField.searchPosition(n),a=i[0],s=i[1];if(!a)return void e.setPositionText(e.origPositionText);if(a&&((0,o.default)(+a[0])||(0,o.default)(+a[1]))||s&&((0,o.default)(+s[0])||(0,o.default)(+s[1])))return;s||(s=a);var l=e.xScale.copy().domain(a),u=e.yScale.copy().domain(s),c=(0,w.scalesCenterAndK)(l,u),h=(0,r.default)(c,3),d=h[0],f=h[1],p=h[2];t&&e.props.onGeneSearch({geneSymbol:t,range:a,centerX:d,centerY:f}),e.props.setCenters(d,f,p,C.ZOOM_TRANSITION_DURATION)}}))}},{key:"searchFieldSubmit",value:function(){this.buttonClick()}},{key:"pathJoin",value:function(e,t){var n=t||"/",r=new RegExp(String(n)+"{1,}","g");return e.join(n).replace(r,n)}},{key:"geneSelected",value:function(e,t){for(var n=this.positionText.split(" "),r=this.changedPart,i=0;i<n.length;i++){var o=n[i].split("-"),a=t.geneName.split("-");if(!(r>o.length-1)){if(o[r]=t.geneName,2===a.length&&r>0&&o[r-1].toLowerCase()===a[0].toLowerCase()){var s=o.slice(0,r-1);s.push(a.join("-")),r<o.length-1&&s.push(o.slice(r+1)),n[i]=s.join("-")}else n[i]=o.join("-");break}r-=o.length}this.prevParts=n.join(" ").split(/[ -]/),this.positionText=n.join(" "),this.setState({value:n.join(" "),genes:[]})}},{key:"handleMenuVisibilityChange",value:function(e,t){var n=t.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:e})}},{key:"handleRenderMenu",value:function(e){return m.default.createElement(T.default,null,m.default.createElement("div",{style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"},e))}},{key:"handleAssemblySelect",value:function(e){this.setSelectedAssembly(e),this.setState({selectedAssembly:e})}},{key:"focusHandler",value:function(e){this.setState({isFocused:e})}},{key:"render",value:function(){var e=this,t=this.state.availableAssemblies.map((function(e){return m.default.createElement("option",{key:e,value:e},e)})),n=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search";return this.props.theme===C.THEME_DARK&&(n+=" styles.genome-position-search-dark"),m.default.createElement("div",{ref:function(t){e.gpsbForm=t},className:(0,f.default)(n,M)},!this.props.hideAvailableAssemblies&&m.default.createElement("select",{ref:function(t){e.assemblyPickButton=t},className:O.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},t),m.default.createElement(y.default,{ref:function(t){e.autocompleteMenu=t},getItemValue:function(e){return e.geneName},inputProps:{className:O.default["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(t,n){return e.geneSelected(t,n)},onSubmit:this.searchFieldSubmit.bind(this),renderItem:function(t,n){return m.default.createElement("div",{key:t.refseqid,id:t.refseqid,style:n?e.styles.highlightedItem:e.styles.item},t.geneName)},renderMenu:this.handleRenderMenu.bind(this),value:this.positionText,wrapperStyle:{width:"100%"}}),m.default.createElement(E.SearchIcon,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}}]),t}(m.default.Component);P.propTypes={autocompleteId:g.default.string,autocompleteServer:g.default.string,chromInfoId:g.default.string,chromInfoServer:g.default.string,hideAvailableAssemblies:g.default.bool,isFocused:g.default.bool,pubSub:g.default.func,onFocus:g.default.func,onGeneSearch:g.default.func,onSelectedAssemblyChanged:g.default.func,registerViewportChangedListener:g.default.func,removeViewportChangedListener:g.default.func,setCenters:g.default.func,theme:g.default.symbol.isRequired,trackSourceServers:g.default.array,twoD:g.default.bool},t.default=(0,k.default)((0,x.default)(P))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(35)),i=p(n(34)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=p(n(1)),h=n(42),d=p(n(676)),f=p(n(2));function p(e){return e&&e.__esModule?e:{default:e}}var m=[],v=function(t){function n(e){(0,a.default)(this,n);var t=(0,l.default)(this,(n.__proto__||(0,o.default)(n)).call(this,e));return t.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},t.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}},Enter:function(e){var t=this;if(!1===this.state.isOpen);else if(null===this.state.highlightedIndex)this.setState({isOpen:!1},(function(){t.inputEl.select()}));else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],r=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.inputEl.setSelectionRange(r.length,r.length),t.props.onSelect(r,n)}))}},Escape:function(){this.setState({highlightedIndex:null,isOpen:!1})}},t}return(0,u.default)(n,t),(0,s.default)(n,[{key:"getInitialState",value:function(){return{isOpen:!1,highlightedIndex:null}}},{key:"UNSAFE_componentWillMount",value:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidUpdate",value:function(e,t){!0===this.state.isOpen&&!1===t.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}},{key:"maybeScrollItemIntoView",value:function(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){var e=this.refs["item-"+String(this.state.highlightedIndex)],t=this.refs.menu;e&&(0,d.default)((0,h.findDOMNode)(e),(0,h.findDOMNode)(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){this.keyDownHandlers[e.key]?this.keyDownHandlers[e.key].call(this,e):this.setState({highlightedIndex:null,isOpen:!0})}},{key:"handleChange",value:function(e){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(e,e.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter((function(t){return e.props.shouldItemRender(t,e.props.value)}))),this.props.sortItems&&t.sort((function(t,n){return e.props.sortItems(t,n,e.props.value)})),t}},{key:"maybeAutoCompleteText",value:function(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}},{key:"setMenuPositions",value:function(){var t=this.inputEl,n=t.getBoundingClientRect(),r=e.window.getComputedStyle(t),i=parseInt(r.marginBottom,10)||0,o=parseInt(r.marginLeft,10)||0,a=parseInt(r.marginRight,10)||0;this.setState({menuTop:n.bottom+i,menuLeft:n.left+o,menuWidth:n.width+o+a})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.props.onSelect(n,e),t.inputEl.focus()}))}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems().map((function(t,n){var r=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return c.default.cloneElement(r,{onMouseDown:function(){return e.setIgnoreBlur(!0)},onMouseEnter:function(){return e.highlightItemFromMouse(n)},onClick:function(){return e.selectItemFromMouse(t)},ref:"item-"+String(n)})})),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!t.length)return null;var r=this.props.renderMenu(t,this.props.value,n);return c.default.cloneElement(r,{ref:"menu"})}},{key:"handleInputBlur",value:function(){this.props.onFocus&&this.props.onFocus(),this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})}},{key:"handleInputFocus",value:function(){this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur?this.setIgnoreBlur(!1):(this._ignoreClick=!0,this.setState({isOpen:!0}))}},{key:"isInputFocused",value:function(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null===this.state.highlightedIndex||this._ignoreClick||this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}},{key:"composeEventHandlers",value:function(e,t){return t?function(n){e(n),t(n)}:e}},{key:"render",value:function(){var e=this;this.props.debug&&m.push({id:m.length,state:this.state});var t=this.props.inputProps;return c.default.createElement("div",(0,i.default)({style:(0,i.default)({},this.props.wrapperStyle)},this.props.wrapperProps),c.default.createElement("input",(0,i.default)({},t,{ref:function(t){e.inputEl=t},"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),t.onBlur&&t.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),t.onClick&&t.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),t.onFocus&&t.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),t.onKeyDown&&t.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),t.onKeyUp&&t.onKeyUp.bind(this)),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&c.default.createElement("pre",{style:{marginLeft:300}},(0,r.default)(m.slice(m.length-5,m.length),null,2)))}}]),n}(c.default.Component);v.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){},onSelect:function(){},renderMenu:function(e,t,n){return c.default.createElement("div",{style:(0,i.default)({},n,this.menuStyle)},e)},shouldItemRender:function(){return!0},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){}},v.propTypes={autoHighlight:f.default.bool,debug:f.default.bool,getItemValue:f.default.func.isRequired,inputProps:f.default.object,items:f.default.array,menuStyle:f.default.object,onChange:f.default.func,onFocus:f.default.func,onMenuVisibilityChange:f.default.func,onSelect:f.default.func,open:f.default.bool,renderItem:f.default.func.isRequired,renderMenu:f.default.func,shouldItemRender:f.default.func,sortItems:f.default.func,value:f.default.any,wrapperProps:f.default.object,wrapperStyle:f.default.object},t.default=v}).call(this,n(27))},function(e,t,n){"use strict";e.exports=n(677)},function(e,t,n){"use strict";var r=n(678);e.exports=function(e,t,n){n=n||{},9===t.nodeType&&(t=r.getWindow(t));var i=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft,l=n.offsetTop||0,u=n.offsetLeft||0,c=n.offsetBottom||0,h=n.offsetRight||0;i=void 0===i||i;var d=r.isWindow(t),f=r.offset(e),p=r.outerHeight(e),m=r.outerWidth(e),v=void 0,g=void 0,y=void 0,b=void 0,_=void 0,T=void 0,S=void 0,k=void 0,w=void 0,x=void 0;d?(S=t,x=r.height(S),w=r.width(S),k={left:r.scrollLeft(S),top:r.scrollTop(S)},_={left:f.left-k.left-u,top:f.top-k.top-l},T={left:f.left+m-(k.left+w)+h,top:f.top+p-(k.top+x)+c},b=k):(v=r.offset(t),g=t.clientHeight,y=t.clientWidth,b={left:t.scrollLeft,top:t.scrollTop},_={left:f.left-(v.left+(parseFloat(r.css(t,"borderLeftWidth"))||0))-u,top:f.top-(v.top+(parseFloat(r.css(t,"borderTopWidth"))||0))-l},T={left:f.left+m-(v.left+y+(parseFloat(r.css(t,"borderRightWidth"))||0))+h,top:f.top+p-(v.top+g+(parseFloat(r.css(t,"borderBottomWidth"))||0))+c}),_.top<0||T.top>0?!0===a?r.scrollTop(t,b.top+_.top):!1===a?r.scrollTop(t,b.top+T.top):_.top<0?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+T.top):o||((a=void 0===a||!!a)?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+T.top)),i&&(_.left<0||T.left>0?!0===s?r.scrollLeft(t,b.left+_.left):!1===s?r.scrollLeft(t,b.left+T.left):_.left<0?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+T.left):o||((s=void 0===s||!!s)?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+T.left)))}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function o(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function a(e){return o(e)}function s(e){return o(e,!0)}function l(e){var t=function(e){var t,n=void 0,r=void 0,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=a(r),t.top+=s(r),t}var u=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),c=/^(top|right|bottom|left)$/;var h=void 0;function d(e,t){for(var n=0;n<e.length;n++)t(e[n])}function f(e){return"border-box"===h(e,"boxSizing")}"undefined"!=typeof window&&(h=window.getComputedStyle?function(e,t,n){var r="",i=e.ownerDocument,o=n||i.defaultView.getComputedStyle(e,null);return o&&(r=o.getPropertyValue(t)||o[t]),r}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(u.test(n)&&!c.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var p=["margin","border","padding"];function m(e,t,n){var r={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(i[o]=r[o])}function v(e,t,n){var r=0,i=void 0,o=void 0,a=void 0;for(o=0;o<t.length;o++)if(i=t[o])for(a=0;a<n.length;a++){var s=void 0;s="border"===i?i+n[a]+"Width":i+n[a],r+=parseFloat(h(e,s))||0}return r}function g(e){return null!=e&&e==e.window}var y={};function b(e,t,n){if(g(e))return"width"===t?y.viewportWidth(e):y.viewportHeight(e);if(9===e.nodeType)return"width"===t?y.docWidth(e):y.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,o=(h(e),f(e)),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=h(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=o?1:-1);var s=void 0!==i||o,l=i||a;if(-1===n)return s?l-v(e,["border","padding"],r):a;if(s){var u=2===n?-v(e,["border"],r):v(e,["margin"],r);return l+(1===n?0:u)}return a+v(e,p.slice(n),r)}d(["Width","Height"],(function(e){y["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],y["viewport"+e](n))},y["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var _={position:"absolute",visibility:"hidden",display:"block"};function T(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=b.apply(void 0,n):m(e,_,(function(){t=b.apply(void 0,n)})),t}function S(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":i(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):h(e,t);for(var o in t)t.hasOwnProperty(o)&&S(e,o,t[o])}d(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);y["outer"+t]=function(t,n){return t&&T(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];y[e]=function(t,r){if(void 0===r)return t&&T(t,e,-1);if(t){h(t);return f(t)&&(r+=v(t,["padding","border"],n)),S(t,e,r)}}})),e.exports=r({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return l(e);!function(e,t){"static"===S(e,"position")&&(e.style.position="relative");var n=l(e),r={},i=void 0,o=void 0;for(o in t)t.hasOwnProperty(o)&&(i=parseFloat(S(e,o))||0,r[o]=i+t[o]-n[o]);S(e,r)}(e,t)},isWindow:g,each:d,css:S,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(g(e)){if(void 0===t)return a(e);window.scrollTo(t,s(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(g(e)){if(void 0===t)return s(e);window.scrollTo(a(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},y)},function(e,t,n){e.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(1)),u=d(n(2)),c=d(n(170)),h=d(n(169));function d(e){return e&&e.__esModule?e:{default:e}}n(681);var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return l.default.createElement(h.default,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},l.default.createElement("div",{className:"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"},l.default.createElement("input",{ref:function(t){t&&(e.input=t,t.focus(),t.select())},onClick:function(e){e.target.select()},placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),l.default.createElement(c.default,{onClick:function(t){e.input.select(),document.execCommand("copy")}},"Copy")))}}]),t}(l.default.Component);f.defaultProps={onDone:function(){},url:""},f.propTypes={onDone:u.default.func,url:u.default.string},t.default=f},function(e,t,n){e.exports={"export-link-dialog-wrapper":"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(29)),u=g(n(1)),c=g(n(2)),h=g(n(264)),d=g(n(96)),f=g(n(683)),p=g(n(684)),m=g(n(78)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(267);var y={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n.handleTrackPositionChosenBound=n.handleTrackPositionChosen.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.setState({width:this.el.clientWidth})}},{key:"checkWidth",value:function(){var e=this.el.clientWidth;e!==this.state.width&&this.setState({width:e})}},{key:"handleConfigMenuOpened",value:function(e){this.setState({configMenuUid:e,configMenuPosition:this.configImg.getBoundingClientRect()})}},{key:"handleAddTrackPositionMenuOpened",value:function(e){this.setState({addTrackPositionMenuUid:e,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}},{key:"handleTrackPositionChosen",value:function(e){this.props.onTrackPositionChosen(e),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},{key:"render",value:function(){var e=this,t=null,n=null;this.state.addTrackPositionMenuPosition&&(n=u.default.createElement(h.default,{onMenuClosed:function(){e.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},u.default.createElement(d.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},u.default.createElement(p.default,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(t=u.default.createElement(h.default,{onMenuClosed:function(){return e.setState({configMenuUid:null})}},u.default.createElement(f.default,{onClearView:function(){e.setState({configMenuUid:null}),e.props.onClearView()},onEditViewConfig:function(){e.setState({configMenuUid:null}),e.props.onEditViewConfig(e.state.configMenuUid)},onExportPNG:function(){e.setState({configMenuUid:null}),e.props.onExportPNG()},onExportSVG:function(){e.setState({configMenuUid:null}),e.props.onExportSVG()},onExportViewAsJSON:function(){e.setState({configMenuUid:null}),e.props.onExportViewsAsJSON()},onExportViewAsLink:function(){e.setState({configMenuUid:null}),e.props.onExportViewsAsLink()},onLockLocation:function(){e.setState({configMenuUid:null}),e.props.onLockLocation(e.state.configMenuUid)},onLockZoom:function(){e.setState({configMenuUid:null}),e.props.onLockZoom(e.state.configMenuUid)},onLockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onLockZoomAndLocation(e.state.configMenuUid)},onOptionsChanged:function(t){e.props.onViewOptionsChanged(t),e.setState({configMenuUid:null})},onProjectViewport:function(){e.setState({configMenuUid:null}),e.props.onProjectViewport(e.state.configMenuUid)},onTakeAndLockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onTakeAndLockZoomAndLocation(e.state.configMenuUid)},onTogglePositionSearchBox:function(){e.setState({configMenuUid:null}),e.props.onTogglePositionSearchBox(e.state.configMenuUid)},onUnlockLocation:function(){e.setState({configMenuUid:null}),e.props.onUnlockLocation(e.state.configMenuUid)},onUnlockZoom:function(){e.setState({configMenuUid:null}),e.props.onUnlockZoom(e.state.configMenuUid)},onUnlockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onUnlockZoomAndLocation(e.state.configMenuUid)},onYankLocation:function(){e.setState({configMenuUid:null}),e.props.onYankLocation(e.state.configMenuUid)},onYankZoom:function(){e.setState({configMenuUid:null}),e.props.onYankZoom(e.state.configMenuUid)},onYankZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onYankZoomAndLocation(e.state.configMenuUid)},onZoomToData:function(){e.setState({configMenuUid:null}),e.props.onZoomToData(e.state.configMenuUid)},orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));var r=this.props.getGenomePositionSearchBox(this.state.isFocused,(function(t){e.setState({isFocused:t})})),i=this.state.isFocused?"multitrack-header-focus":"multitrack-header",o=this.state.width<=v.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return this.props.theme===v.THEME_DARK&&(i+=" multitrack-header-dark"),u.default.createElement("div",{ref:function(t){e.el=t},className:(0,l.default)(i,y)},u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},this.props.mouseTool===v.MOUSE_TOOL_SELECT&&u.default.createElement("svg",{title:"Selection tool active",className:(0,l.default)("mouse-tool-selection "+o,y)},u.default.createElement("use",{xlinkHref:"#select"})),u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz",title:"Drag to move the view"},u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),this.state.width>v.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&r)),u.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},u.default.createElement("svg",{onClick:this.props.onAddView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add new view (clone this view)"),u.default.createElement("use",{xlinkHref:"#copy"})),u.default.createElement("svg",{ref:function(t){e.configImg=t},onClick:function(){return e.handleConfigMenuOpened(e.props.viewUid)},className:(0,l.default)(o,y)},u.default.createElement("title",null,"Configure this view"),u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(t){e.plusImg=t},onClick:function(){return e.handleAddTrackPositionMenuOpened(e.props.viewUid)},className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add Track"),u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Close View"),u.default.createElement("use",{xlinkHref:"#cross"}))),t,n)}}]),t}(u.default.Component);b.defaultProps={isGenomePositionSearchBoxVisible:!1},b.propTypes={getGenomePositionSearchBox:c.default.func.isRequired,isGenomePositionSearchBoxVisible:c.default.bool,mouseTool:c.default.string.isRequired,onAddView:c.default.func.isRequired,onClearView:c.default.func.isRequired,onCloseView:c.default.func.isRequired,onEditViewConfig:c.default.func.isRequired,onExportSVG:c.default.func.isRequired,onExportPNG:c.default.func.isRequired,onExportViewsAsJSON:c.default.func.isRequired,onExportViewsAsLink:c.default.func.isRequired,onLockLocation:c.default.func.isRequired,onLockZoom:c.default.func.isRequired,onLockZoomAndLocation:c.default.func.isRequired,onProjectViewport:c.default.func.isRequired,onTakeAndLockZoomAndLocation:c.default.func.isRequired,onTogglePositionSearchBox:c.default.func.isRequired,onTrackPositionChosen:c.default.func.isRequired,onUnlockLocation:c.default.func.isRequired,onUnlockZoom:c.default.func.isRequired,onUnlockZoomAndLocation:c.default.func.isRequired,onViewOptionsChanged:c.default.func.isRequired,onYankLocation:c.default.func.isRequired,onYankZoom:c.default.func.isRequired,onYankZoomAndLocation:c.default.func.isRequired,onZoomToData:c.default.func.isRequired,theme:c.default.symbol.isRequired,viewUid:c.default.string.isRequired},t.default=(0,m.default)(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(18)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(29)),h=g(n(1)),d=g(n(2)),f=g(n(96)),p=g(n(67)),m=g(n(391));n(68);var v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={submenuShown:!1},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"getConfigureViewMenu",value:function(e,t){var n=this,o={},a={},s=function(e){if(e in(0,i.default)(v.OPTIONS_INFO)&&(o[e]={name:v.OPTIONS_INFO[e].name},v.OPTIONS_INFO[e].inlineOptions)){var t=function(t){var r=v.OPTIONS_INFO[e].inlineOptions[t];o[e].children||(o[e].children={});var i={name:r.name,value:r.value,handler:function(){a[e]=r.value,n.props.onOptionsChanged(a)}};o[e].children[t]=i};for(var r in v.OPTIONS_INFO[e].inlineOptions)t(r)}},l=!0,u=!1,c=void 0;try{for(var d,f=(0,r.default)(["backgroundColor"]);!(l=(d=f.next()).done);l=!0)s(d.value)}catch(e){u=!0,c=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}return h.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:o,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top};return"options"===this.state.submenuShown.option?this.getConfigureViewMenu(t,e):h.default.createElement("div",null)}return h.default.createElement("div",null)}},{key:"render",value:function(){var e=this,t="context-menu";return this.props.theme===v.THEME_DARK&&(t+=" context-menu-dark"),h.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top},className:(0,c.default)(t,y)},h.default.createElement(p.default,{onClick:function(t){return e.props.onTogglePositionSearchBox(t)}},"Toggle position search box"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(t){return e.props.onZoomToData(t)}},"Zoom to data extent"),h.default.createElement(p.default,{onClick:function(t){return e.props.onClearView(t)}},"Clear View"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(t){return e.props.onYankZoom(t)}},"Take zoom from"),h.default.createElement(p.default,{onClick:function(t){return e.props.onYankLocation(t)}},"Take location from"),h.default.createElement(p.default,{onClick:function(t){return e.props.onYankZoomAndLocation(t)}},"Take zoom and location from"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:this.props.onLockZoom},"Lock zoom with"),h.default.createElement(p.default,{onClick:this.props.onLockLocation},"Lock location with"),h.default.createElement(p.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockZoom(t)}},"Unlock zoom"),h.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockLocation(t)}},"Unlock location"),h.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockZoomAndLocation(t)}},"Unlock zoom and location"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(t){return e.props.onProjectViewport(t)}},"Show this viewport on"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(t){return e.props.onEditViewConfig(t)}},"Edit view config"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){return e.props.onExportSVG()}},"Export views as SVG"),h.default.createElement(p.default,{onClick:function(){return e.props.onExportPNG()}},"Export views as PNG"),h.default.createElement(p.default,{onClick:function(){return e.props.onExportViewAsJSON()}},"Export views as JSON"),h.default.createElement(p.default,{onClick:function(){return e.props.onExportViewAsLink()}},"Export views as Link"),this.getSubmenu())}}]),t}(f.default);b.propTypes={onEditViewConfig:d.default.func.isRequired,onExportSVG:d.default.func,onExportPNG:d.default.func,onExportViewAsJSON:d.default.func,onExportViewAsLink:d.default.func,onLockLocation:d.default.func,onLockZoom:d.default.func,onLockZoomAndLocation:d.default.func,onProjectViewport:d.default.func,onTakeAndLockZoomAndLocation:d.default.func,onTogglePositionSearchBox:d.default.func,onUnlockLocation:d.default.func,onUnlockZoom:d.default.func,onUnlockZoomAndLocation:d.default.func,onYankLocation:d.default.func,onYankZoom:d.default.func,onYankZoomAndLocation:d.default.func,onZoomToData:d.default.func,theme:d.default.symbol},t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(29)),i=l(n(2)),o=l(n(1)),a=l(n(78)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(685);var u={"../styles/AddTrackPositionMenu.module.scss":{"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}};function c(e){var t="add-track-position-table";return e.theme===s.THEME_DARK&&(t+=" add-track-position-table-dark"),o.default.createElement("div",null,o.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),o.default.createElement("table",{className:(0,r.default)(t,u)},o.default.createElement("tbody",null,o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("top")},className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),o.default.createElement("tr",{style:{height:"80px"}},o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("left")},className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("center")},className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("right")},className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("bottom")},className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}c.propTypes={onTrackPositionChosen:i.default.func.isRequired,theme:i.default.symbol.isRequired},t.default=(0,a.default)(c)},function(e,t,n){e.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=k(n(35)),i=k(n(246)),o=k(n(247)),a=k(n(5)),s=k(n(3)),l=k(n(4)),u=k(n(6)),c=k(n(7)),h=k(n(29)),d=k(n(2)),f=k(n(1)),p=k(n(687)),m=n(688);n(689);var v=k(n(397)),g=k(n(271)),y=k(n(170)),b=k(n(169)),_=k(n(132)),T=k(n(69)),S=n(10);function k(e){return e&&e.__esModule?e:{default:e}}n(722);var w={"../styles/ViewConfigEditor.module.scss":{"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},x=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={code:e.viewConfig,hide:!1,showLog:!1,logMsgs:n.getLogMsgs(e.viewConfig)},n.handleChangeBound=n.handleChange.bind(n),n.handleKeyDownBound=n.handleKeyDown.bind(n),n.handleKeyUpBound=n.handleKeyUp.bind(n),n.handleSubmitBound=n.handleSubmit.bind(n),n.hideBound=n.hide.bind(n),n.showBound=n.show.bind(n),n.toggleLogBound=n.toggleLog.bind(n),n.pubSubs=[],n.pubSubs.push(n.props.pubSub.subscribe("keydown",n.handleKeyDownBound)),n.pubSubs.push(n.props.pubSub.subscribe("keyup",n.handleKeyUpBound)),n}var n;return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:(n=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.editor){e.next=6;break}return this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),e.next=5,(0,S.timeout)(0);case 5:this.editorWrap.scrollTop=0;case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e=this;this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[]}},{key:"handleChange",value:function(e){var t=this.getLogMsgs(e);this.setState({code:e,logMsgs:t})}},{key:"handleKeyDown",value:function(e){"s"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code)),"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}},{key:"handleKeyUp",value:function(e){this.setState({hide:!1}),"Escape"===e.key&&(e.preventDefault(),this.props.modal.close(),this.props.onCancel())}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onSave(this.state.code)}},{key:"getLogMsgs",value:function(e){var t=[],n=void 0;try{n=JSON.parse(e)}catch(e){return console.warn(e),t.push({type:"Error",msg:e.toString()}),t}var i=(new v.default).compile(g.default);return i(n)||(console.warn("Invalid viewconf"),t.push({type:"Warning",msg:"Invalid viewconf"})),i.errors&&(console.warn((0,r.default)(i.errors,null,2)),i.errors.forEach((function(e){t.push({type:"Warning",msg:(0,r.default)(e,null,2)})}))),0===t.length&&t.push({type:"Success",msg:"No error or warnings"}),t}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"show",value:function(){this.setState({hide:!1})}},{key:"hideLog",value:function(){this.setState({showLog:!1})}},{key:"showLog",value:function(){this.setState({showLog:!0})}},{key:"toggleLog",value:function(){this.state.showLog?this.hideLog():this.showLog()}},{key:"render",value:function(){var e=this,t=this.state.logMsgs.map((function(e,t){var n=String(t)+"-"+String(e.msg);return f.default.createElement("tr",{key:n},f.default.createElement("td",{className:(0,h.default)("title "+String(e.type),w)},"["+String(t)+"] "+String(e.type)),f.default.createElement("td",null,f.default.createElement("pre",null,e.msg)))}));return f.default.createElement(b.default,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},f.default.createElement("header",{className:"ViewConfigEditor-module_view-config-editor-header-2nTtX"},f.default.createElement(y.default,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),f.default.createElement(y.default,{onClick:function(){e.props.onChange(e.state.code)},shortcut:"+S"},"Save")),f.default.createElement("div",{ref:function(t){e.editorWrap=t},className:"ViewConfigEditor-module_view-config-editor-2HAFN"},f.default.createElement(p.default,{ref:function(t){e.editor=t},highlight:function(e){return(0,m.highlight)(e,m.languages.json)},onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),f.default.createElement("div",{style:{height:this.state.showLog?"50%":"30px"},className:"ViewConfigEditor-module_view-config-log-1mYmL"},f.default.createElement("div",{onClick:function(){return e.toggleLogBound()},className:"ViewConfigEditor-module_view-config-log-header-3EbEM"},"Log Messages ("+String(this.state.logMsgs.filter((function(e){return"Success"!==e.type})).length)+")"),f.default.createElement("div",{style:{padding:this.state.showLog?"10px":0},className:"ViewConfigEditor-module_view-config-log-msg-2-CJZ"},f.default.createElement("table",null,f.default.createElement("tbody",null,t)))))}}]),t}(f.default.Component);x.propTypes={modal:d.default.object.isRequired,onCancel:d.default.func.isRequired,onChange:d.default.func.isRequired,onSave:d.default.func.isRequired,pubSub:d.default.object.isRequired,viewConfig:d.default.object.isRequired},t.default=(0,T.default)((0,_.default)(x))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=90,u=219,c=222,h=192,d=100,f=3e3,p="navigator"in e&&/Win/i.test(navigator.platform),m="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),v="npm__react-simple-code-editor__textarea",g=function(e){function t(){var e,n,i;a(this,t);for(var o=arguments.length,v=Array(o),g=0;g<o;g++)v[g]=arguments[g];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(v))),i.state={capture:!0},i._recordCurrentState=function(){var e=i._input;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;i._recordChange({value:t,selectionStart:n,selectionEnd:r})}},i._getLines=function(e,t){return e.substring(0,t).split("\n")},i._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i._history,o=n.stack,a=n.offset;if(o.length&&a>-1){i._history.stack=o.slice(0,a+1);var s=i._history.stack.length;if(s>d){var l=s-d;i._history.stack=o.slice(l,s),i._history.offset=Math.max(i._history.offset-l,0)}}var u=Date.now();if(t){var c=i._history.stack[i._history.offset];if(c&&u-c.timestamp<f){var h=/[^a-z0-9]([a-z0-9]+)$/i,p=i._getLines(c.value,c.selectionStart).pop().match(h),m=i._getLines(e.value,e.selectionStart).pop().match(h);if(p&&m&&m[1].startsWith(p[1]))return void(i._history.stack[i._history.offset]=r({},e,{timestamp:u}))}}i._history.stack.push(r({},e,{timestamp:u})),i._history.offset++},i._updateInput=function(e){var t=i._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,i.props.onValueChange(e.value))},i._applyEdits=function(e){var t=i._input,n=i._history.stack[i._history.offset];n&&t&&(i._history.stack[i._history.offset]=r({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),i._recordChange(e),i._updateInput(e)},i._undoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n-1];r&&(i._updateInput(r),i._history.offset=Math.max(n-1,0))},i._redoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n+1];r&&(i._updateInput(r),i._history.offset=Math.min(n+1,t.length-1))},i._handleKeyDown=function(e){var t=i.props,n=t.tabSize,r=t.insertSpaces,o=t.ignoreTabKey,a=t.onKeyDown;if(!a||(a(e),!e.defaultPrevented)){var s=e.target,d=s.value,f=s.selectionStart,v=s.selectionEnd,g=(r?" ":"\t").repeat(n);if(9===e.keyCode&&!o&&i.state.capture)if(e.preventDefault(),e.shiftKey){var y=i._getLines(d,f),b=y.length-1,_=i._getLines(d,v).length-1,T=d.split("\n").map((function(e,t){return t>=b&&t<=_&&e.startsWith(g)?e.substring(g.length):e})).join("\n");if(d!==T){var S=y[b];i._applyEdits({value:T,selectionStart:S.startsWith(g)?f-g.length:f,selectionEnd:v-(d.length-T.length)})}}else if(f!==v){var k=i._getLines(d,f),w=k.length-1,x=i._getLines(d,v).length-1,E=k[w];i._applyEdits({value:d.split("\n").map((function(e,t){return t>=w&&t<=x?g+e:e})).join("\n"),selectionStart:/\S/.test(E)?f+g.length:f,selectionEnd:v+g.length*(x-w+1)})}else{var C=f+g.length;i._applyEdits({value:d.substring(0,f)+g+d.substring(v),selectionStart:C,selectionEnd:C})}else if(8===e.keyCode){var O=f!==v;if(d.substring(0,f).endsWith(g)&&!O){e.preventDefault();var A=f-g.length;i._applyEdits({value:d.substring(0,f-g.length)+d.substring(v),selectionStart:A,selectionEnd:A})}}else if(13===e.keyCode){if(f===v){var M=i._getLines(d,f).pop().match(/^\s+/);if(M&&M[0]){e.preventDefault();var P="\n"+M[0],I=f+P.length;i._applyEdits({value:d.substring(0,f)+P+d.substring(v),selectionStart:I,selectionEnd:I})}}}else if(57===e.keyCode||e.keyCode===u||e.keyCode===c||e.keyCode===h){var L=void 0;57===e.keyCode&&e.shiftKey?L=["(",")"]:e.keyCode===u?L=e.shiftKey?["{","}"]:["[","]"]:e.keyCode===c?L=e.shiftKey?['"','"']:["'","'"]:e.keyCode!==h||e.shiftKey||(L=["`","`"]),f!==v&&L&&(e.preventDefault(),i._applyEdits({value:d.substring(0,f)+L[0]+d.substring(f,v)+L[1]+d.substring(v),selectionStart:f,selectionEnd:v+2}))}else!(m?e.metaKey&&e.keyCode===l:e.ctrlKey&&e.keyCode===l)||e.shiftKey||e.altKey?(m?e.metaKey&&e.keyCode===l&&e.shiftKey:p?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&e.keyCode===l&&e.shiftKey)&&!e.altKey?(e.preventDefault(),i._redoEdit()):77!==e.keyCode||!e.ctrlKey||m&&!e.shiftKey||(e.preventDefault(),i.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),i._undoEdit())}},i._handleChange=function(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;i._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),i.props.onValueChange(n)},i._history={stack:[],offset:-1},s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.style,a=t.padding,s=t.highlight,l=t.textareaId,u=t.autoFocus,c=t.disabled,h=t.form,d=t.maxLength,f=t.minLength,p=t.name,m=t.placeholder,g=t.readOnly,b=t.required,_=t.onClick,T=t.onFocus,S=t.onBlur,k=t.onKeyUp,w=(t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),x={paddingTop:a,paddingRight:a,paddingBottom:a,paddingLeft:a},E=s(n);return o.createElement("div",r({},w,{style:r({},y.container,i)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:r({},y.editor,y.textarea,x),className:v,id:l,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:_,onKeyUp:k,onFocus:T,onBlur:S,disabled:c,form:h,maxLength:d,minLength:f,name:p,placeholder:m,readOnly:g,required:b,autoFocus:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},y.editor,y.highlight,x)},"string"==typeof E?{dangerouslySetInnerHTML:{__html:E+"<br />"}}:{children:E})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);g.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.default=g;var y={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}).call(this,n(27))},function(e,t,n){(function(t){var n=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof i?new i(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,o,a=r.util.type(t);switch(n=n||{},a){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var s in i={},n[o]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(i=[],n[o]=i,t.forEach((function(t,r){i[r]=e(t,n)})),i);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var o=(i=i||r.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=i[e];return i[e]=a,r.languages.DFS(r.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,i,o){o=o||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var l=t[s],u=r.util.type(l);"Object"!==u||o[a(l)]?"Array"!==u||o[a(l)]||(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var o,a=i.elements||e.querySelectorAll(i.selector),s=0;o=a[s++];)r.highlightElement(o,!0===t,i.callback)},highlightElement:function(n,i,o){for(var a,s,l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[a]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+a));var u={element:n,language:a,grammar:s,code:n.textContent},c=function(e){u.highlightedCode=e,r.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r.hooks.run("after-highlight",u),r.hooks.run("complete",u),o&&o.call(u.element)};if(r.hooks.run("before-sanity-check",u),u.code)if(r.hooks.run("before-highlight",u),u.grammar)if(i&&e.Worker){var h=new Worker(r.filename);h.onmessage=function(e){c(e.data)},h.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(r.highlight(u.code,u.grammar,u.language));else c(r.util.encode(u.code));else r.hooks.run("complete",u)},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},matchGrammar:function(e,t,n,o,a,s,l){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==l)return;var c=n[u];c="Array"===r.util.type(c)?c:[c];for(var h=0;h<c.length;++h){var d=c[h],f=d.inside,p=!!d.lookbehind,m=!!d.greedy,v=0,g=d.alias;if(m&&!d.pattern.global){var y=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,y+"g")}d=d.pattern||d;for(var b=o,_=a;b<t.length;_+=t[b].length,++b){var T=t[b];if(t.length>e.length)return;if(!(T instanceof i)){if(m&&b!=t.length-1){if(d.lastIndex=_,!(C=d.exec(e)))break;for(var S=C.index+(p?C[1].length:0),k=C.index+C[0].length,w=b,x=_,E=t.length;w<E&&(x<k||!t[w].type&&!t[w-1].greedy);++w)S>=(x+=t[w].length)&&(++b,_=x);if(t[b]instanceof i)continue;O=w-b,T=e.slice(_,x),C.index-=_}else{d.lastIndex=0;var C=d.exec(T),O=1}if(C){p&&(v=C[1]?C[1].length:0);k=(S=C.index+v)+(C=C[0].slice(v)).length;var A=T.slice(0,S),M=T.slice(k),P=[b,O];A&&(++b,_+=A.length,P.push(A));var I=new i(u,f?r.tokenize(C,f):C,g,C,m);if(P.push(I),M&&P.push(M),Array.prototype.splice.apply(t,P),1!=O&&r.matchGrammar(e,t,n,b,_,!0,u),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var o in i)t[o]=i[o];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:i};function i(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(e.Prism=r,i.stringify=function(e,t,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(n){return i.stringify(n,t,e)})).join("");var o={type:e.type,content:i.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var a=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}r.hooks.run("wrap",o);var s=Object.keys(o.attributes).map((function(e){return e+'="'+(o.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),i=n.language,o=n.code,a=n.immediateClose;e.postMessage(r.highlight(o,r.languages[i],i)),a&&e.close()}),!1),r):r;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,r.manual||o.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=n),void 0!==t&&(t.Prism=n)}).call(this,n(27))},function(e,t){Prism.languages.json={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}}},function(e,t,n){"use strict";var r=n(268),i=n(117),o=n(270),a=n(399),s=n(400),l=i.ucs2length,u=n(269),c=o.Validation;function h(e,t,n){var r=f.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function d(e,t,n){var r=f.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function f(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function v(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,f,b){var _=this,T=this._opts,S=[void 0],k={},w=[],x={},E=[],C={},O=[];n=n||{schema:t,refVal:S,refs:k};var A=h.call(this,t,n,b),M=this._compilations[A.index];if(A.compiling)return M.callValidate=function e(){var t=M.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var P=this._formats,I=this.RULES;try{var L=D(t,n,f,b);M.validate=L;var R=M.callValidate;return R&&(R.schema=L.schema,R.errors=null,R.refs=L.refs,R.refVal=L.refVal,R.root=L.root,R.$async=L.$async,T.sourceCode&&(R.source=L.source)),L}finally{d.call(this,t,n,b)}function D(t,a,h,d){var f=!a||a&&a.schema==t;if(a.schema!=n.schema)return e.call(_,t,a,h,d);var b,x=!0===t.$async,C=s({isTop:!0,schema:t,isRoot:f,baseId:d,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:I,validate:s,util:i,resolve:r,resolveRef:N,usePattern:B,useDefault:F,useCustomRule:z,opts:T,formats:P,logger:_.logger,self:_});C=y(S,v)+y(w,p)+y(E,m)+y(O,g)+C,T.processCode&&(C=T.processCode(C));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",C)(_,I,P,n,S,E,O,u,l,c),S[0]=b}catch(e){throw _.logger.error("Error compiling schema, function code:",C),e}return b.schema=t,b.errors=null,b.refs=k,b.refVal=S,b.root=f?b:a,x&&(b.$async=!0),!0===T.sourceCode&&(b.source={code:C,patterns:w,defaults:E}),b}function N(t,i,o){i=r.url(t,i);var a,s,l=k[i];if(void 0!==l)return H(a=S[l],s="refVal["+l+"]");if(!o&&n.refs){var u=n.refs[i];if(void 0!==u)return H(a=n.refVal[u],s=j(i,a))}s=j(i);var c=r.call(_,D,n,i);if(void 0===c){var h=f&&f[i];h&&(c=r.inlineRef(h,T.inlineRefs)?h:e.call(_,h,n,f,t))}if(void 0!==c)return function(e,t){var n=k[e];S[n]=t}(i,c),H(c,s);!function(e){delete k[e]}(i)}function j(e,t){var n=S.length;return S[n]=t,k[e]=n,"refVal"+n}function H(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=x[e];return void 0===t&&(t=x[e]=w.length,w[t]=e),"pattern"+t}function F(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=C[t];return void 0===n&&(n=C[t]=E.length,E[n]=e),"default"+n}}function z(e,t,n,r){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o)if(!o(t)){var a="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(a);_.logger.error(a)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(_,t,n,r);else if(c)s=c.call(_,t,n,r),!1!==T.validateSchema&&_.validateSchema(s,!0);else if(u)s=u.call(_,r,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=O.length;return O[h]=s,{code:"customRule"+h,validate:s}}}},function(e,t,n){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function a(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function s(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),a=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",s),u=e?"[\\uE000-\\uF8FF]":"[]",c=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=n(r+t(r,i,"[\\+\\-\\.]")+"*"),d=n(n(a+"|"+t(c,s,"[\\:]"))+"*"),f=(n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("[1-9]"+i)+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i)),p=n(f+"\\."+f+"\\."+f+"\\."+f),m=n(o+"{1,4}"),v=n(n(m+"\\:"+m)+"|"+p),g=n(n(m+"\\:")+"{6}"+v),y=n("\\:\\:"+n(m+"\\:")+"{5}"+v),b=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+v),_=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+v),T=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+v),S=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+v),k=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+v),w=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),x=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),E=n([g,y,b,_,T,S,k,w,x].join("|")),C=n(n(c+"|"+a)+"+"),O=(n(E+"\\%25"+C),n(E+n("\\%25|\\%(?!"+o+"{2})")+C)),A=n("[vV]"+o+"+\\."+t(c,s,"[\\:]")+"+"),M=n("\\["+n(O+"|"+E+"|"+A)+"\\]"),P=n(n(a+"|"+t(c,s))+"*"),I=n(M+"|"+p+"(?!"+P+")|"+P),L=n(i+"*"),R=n(n(d+"@")+"?"+I+n("\\:"+L)+"?"),D=n(a+"|"+t(c,s,"[\\:\\@]")),N=n(D+"*"),j=n(D+"+"),H=n(n(a+"|"+t(c,s,"[\\@]"))+"+"),B=n(n("\\/"+N)+"*"),F=n("\\/"+n(j+B)+"?"),z=n(H+B),V=n(j+B),U="(?!"+D+")",G=(n(B+"|"+F+"|"+z+"|"+V+"|"+U),n(n(D+"|"+t("[\\/\\?]",u))+"*")),Y=n(n(D+"|[\\/\\?]")+"*"),W=n(n("\\/\\/"+R+B)+"|"+F+"|"+V+"|"+U),q=n(h+"\\:"+W+n("\\?"+G)+"?"+n("\\#"+Y)+"?"),X=n(n("\\/\\/"+R+B)+"|"+F+"|"+z+"|"+U),K=n(X+n("\\?"+G)+"?"+n("\\#"+Y)+"?");return n(q+"|"+K),n(h+"\\:"+W+n("\\?"+G)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+I+")"+n("\\:("+L+")")+"?)")+"?("+B+"|"+F+"|"+V+"|"+U+")"),n("\\?("+G+")"),n("\\#("+Y+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+I+")"+n("\\:("+L+")")+"?)")+"?("+B+"|"+F+"|"+z+"|"+U+")"),n("\\?("+G+")"),n("\\#("+Y+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+I+")"+n("\\:("+L+")")+"?)")+"?("+B+"|"+F+"|"+V+"|"+U+")"),n("\\?("+G+")"),n("\\#("+Y+")"),n("("+d+")@"),n("\\:("+L+")"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,l),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+E+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+C+")")+"?\\]?$")}}var l=s(!1),u=s(!0),c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,f=36,p=1,m=26,v=38,g=700,y=72,b=128,_="-",T=/^xn--/,S=/[^\0-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=f-p,E=Math.floor,C=String.fromCharCode;function O(e){throw new RangeError(w[e])}function A(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function M(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+A((e=e.replace(k,".")).split("."),t).join(".")}function P(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var I=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:f},L=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},R=function(e,t,n){var r=0;for(e=n?E(e/g):e>>1,e+=E(e/t);e>x*m>>1;r+=f)e=E(e/x);return E(r+(x+1)*e/(e+v))},D=function(e){var t=[],n=e.length,r=0,i=b,o=y,a=e.lastIndexOf(_);a<0&&(a=0);for(var s=0;s<a;++s)e.charCodeAt(s)>=128&&O("not-basic"),t.push(e.charCodeAt(s));for(var l=a>0?a+1:0;l<n;){for(var u=r,c=1,h=f;;h+=f){l>=n&&O("invalid-input");var v=I(e.charCodeAt(l++));(v>=f||v>E((d-r)/c))&&O("overflow"),r+=v*c;var g=h<=o?p:h>=o+m?m:h-o;if(v<g)break;var T=f-g;c>E(d/T)&&O("overflow"),c*=T}var S=t.length+1;o=R(r-u,S,0==u),E(r/S)>d-i&&O("overflow"),i+=E(r/S),r%=S,t.splice(r++,0,i)}return String.fromCodePoint.apply(String,t)},N=function(e){var t=[],n=(e=P(e)).length,r=b,i=0,o=y,a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;h<128&&t.push(C(h))}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}var v=t.length,g=v;for(v&&t.push(_);g<n;){var T=d,S=!0,k=!1,w=void 0;try{for(var x,A=e[Symbol.iterator]();!(S=(x=A.next()).done);S=!0){var M=x.value;M>=r&&M<T&&(T=M)}}catch(e){k=!0,w=e}finally{try{!S&&A.return&&A.return()}finally{if(k)throw w}}var I=g+1;T-r>E((d-i)/I)&&O("overflow"),i+=(T-r)*I,r=T;var D=!0,N=!1,j=void 0;try{for(var H,B=e[Symbol.iterator]();!(D=(H=B.next()).done);D=!0){var F=H.value;if(F<r&&++i>d&&O("overflow"),F==r){for(var z=i,V=f;;V+=f){var U=V<=o?p:V>=o+m?m:V-o;if(z<U)break;var G=z-U,Y=f-U;t.push(C(L(U+G%Y,0))),z=E(G/Y)}t.push(C(L(z,0))),o=R(i,I,g==v),i=0,++g}}}catch(e){N=!0,j=e}finally{try{!D&&B.return&&B.return()}finally{if(N)throw j}}++i,++r}return t.join("")},j=function(e){return M(e,(function(e){return T.test(e)?D(e.slice(4).toLowerCase()):e}))},H=function(e){return M(e,(function(e){return S.test(e)?"xn--"+N(e):e}))},B={version:"2.1.0",ucs2:{decode:P,encode:function(e){return String.fromCodePoint.apply(String,h(e))}},decode:D,encode:N,toASCII:H,toUnicode:j},F={};function z(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function V(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function U(e,t){function n(e){var n=V(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,z).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,z).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,z).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,z).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,z).replace(t.PCT_ENCODED,i)),e}function G(e){return e.replace(/^0*(.*)/,"$1")||"0"}function Y(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=c(n,2)[1];return r?r.split(".").map(G).join("."):e}function W(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=c(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=c(a,2),l=s[0],u=s[1],h=u?u.split(":").map(G):[],d=l.split(":").map(G),f=t.IPV4ADDRESS.test(d[d.length-1]),p=f?7:8,m=d.length-p,v=Array(p),g=0;g<p;++g)v[g]=h[g]||d[m+g]||"";f&&(v[p-1]=Y(v[p-1],t));var y=v.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=v.slice(0,y.index),T=v.slice(y.index+y.length);b=_.join(":")+"::"+T.join(":")}else b=v.join(":");return o&&(b+="%"+o),b}return e}var q=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X=void 0==="".match(/(){0}/)[1];function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?u:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(q);if(i){X?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=W(Y(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=F[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)U(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=B.toASCII(n.host.replace(r.PCT_ENCODED,V).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}U(n,l)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function $(e,t){var n=!1!==t.iri?u:l,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(W(Y(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var Z=/^\.\.?\//,Q=/^\/\.(\/|$)/,J=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Z))e=e.replace(Z,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(J))e=e.replace(J,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?u:l,r=[],i=F[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?B.toUnicode(e.host):B.toASCII(e.host.replace(n.PCT_ENCODED,V).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}U(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=$(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var a=e.path;t.absolutePath||i&&i.absolutePath||(a=te(a)),void 0===o&&(a=a.replace(/^\/\//,"/%2F")),r.push(a)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=K(ne(e,n),n),t=K(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=te(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function ie(e,t,n){var r=a({scheme:"null"},n);return ne(re(K(e,r),K(t,r),r,!0),r)}function oe(e,t){return"string"==typeof e?e=ne(K(e,t),t):"object"===r(e)&&(e=K(ne(e,t),t)),e}function ae(e,t,n){return"string"==typeof e?e=ne(K(e,n),n):"object"===r(e)&&(e=ne(e,n)),"string"==typeof t?t=ne(K(t,n),n):"object"===r(t)&&(t=ne(t,n)),e===t}function se(e,t){return e&&e.toString().replace(t&&t.iri?u.ESCAPE:l.ESCAPE,z)}function le(e,t){return e&&e.toString().replace(t&&t.iri?u.PCT_ENCODED:l.PCT_ENCODED,V)}var ue={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ce={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize},he={},de="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",fe="[0-9A-Fa-f]",pe=n(n("%[EFef]"+fe+"%"+fe+fe+"%"+fe+fe)+"|"+n("%[89A-Fa-f]"+fe+"%"+fe+fe)+"|"+n("%"+fe+fe)),me="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ve=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ge="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ye=new RegExp(de,"g"),be=new RegExp(pe,"g"),_e=new RegExp(t("[^]",me,"[\\.]",'[\\"]',ve),"g"),Te=new RegExp(t("[^]",de,ge),"g"),Se=Te;function ke(e){var t=V(e);return t.match(ye)?t:e}var we={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),h=0,d=c.length;h<d;++h)r.push(c[h]);break;case"subject":n.subject=le(u[1],t);break;case"body":n.body=le(u[1],t);break;default:i=!0,o[le(u[0],t)]=le(u[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var f=0,p=r.length;f<p;++f){var m=r[f].split("@");if(m[0]=le(m[0]),t.unicodeSupport)m[1]=le(m[1],t).toLowerCase();else try{m[1]=B.toASCII(le(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[f]=m.join("@")}return n},serialize:function(e,t){var n=e,r=o(e.to);if(r){for(var a=0,s=r.length;a<s;++a){var l=String(r[a]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(be,ke).replace(be,i).replace(_e,z),h=l.slice(u+1);try{h=t.iri?B.toUnicode(h):B.toASCII(le(h,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}r[a]=c+"@"+h}n.path=r.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var f=[];for(var p in d)d[p]!==he[p]&&f.push(p.replace(be,ke).replace(be,i).replace(Te,z)+"="+d[p].replace(be,ke).replace(be,i).replace(Se,z));return f.length&&(n.query=f.join("&")),n}},xe=/^([^\:]+)\:(.*)/,Ee={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(xe),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),l=F[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=F[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},Ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Oe={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(Ce)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};F[ue.scheme]=ue,F[ce.scheme]=ce,F[we.scheme]=we,F[Ee.scheme]=Ee,F[Oe.scheme]=Oe,e.SCHEMES=F,e.pctEncChar=z,e.pctDecChars=V,e.parse=K,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=re,e.resolve=ie,e.normalize=oe,e.equal=ae,e.escapeComponent=se,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),i(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function i(e,t,n,o,a,s,l,u,c,h){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in t(o,a,s,l,u,c,h),o){var f=o[d];if(Array.isArray(f)){if(d in r.arrayKeywords)for(var p=0;p<f.length;p++)i(e,t,n,f[p],a+"/"+d+"/"+p,s,a,d,o,p)}else if(d in r.propsKeywords){if(f&&"object"==typeof f)for(var m in f)i(e,t,n,f[m],a+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,d,o,m)}else(d in r.keywords||e.allKeys&&!(d in r.skipKeywords))&&i(e,t,n,f,a+"/"+d,s,a,d,o)}n(o,a,s,l,u,c,h)}}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var r=n(117),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,d=/^(?:\/(?:[^~/]|~0|~1)*)*$/,f=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",r.copy(m[e])}function v(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:o[r])}function g(e,t){var n=e.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:T,uuid:h,"json-pointer":d,"json-pointer-uri-fragment":f,"relative-json-pointer":p},m.full={date:v,time:g,"date-time":function(e){var t=e.split(y);return 2==t.length&&v(t[0])&&g(t[1],!0)},uri:function(e){return b.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&s.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:T,uuid:h,"json-pointer":d,"json-pointer-uri-fragment":f,"relative-json-pointer":p};var y=/t|\s/i;var b=/\/|:/;var _=/[^\\]\\Z/;function T(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(697),i=n(117).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(698),allOf:n(699),anyOf:n(700),$comment:n(701),const:n(702),contains:n(703),dependencies:n(704),enum:n(705),format:n(706),if:n(707),items:n(708),maximum:n(401),minimum:n(401),maxItems:n(402),minItems:n(402),maxLength:n(403),minLength:n(403),maxProperties:n(404),minProperties:n(404),multipleOf:n(709),not:n(710),oneOf:n(711),pattern:n(712),properties:n(713),propertyNames:n(714),required:n(715),uniqueItems:n(716),validate:n(400)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),d="valid"+a;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var f=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===f){var p=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),c&&(o+=" if (true) { ")}}else if(f.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=f.schema,v.schemaPath="",v.errSchemaPath=l,o+=" "+e.validate(v).replace(/validate\.schema/g,f.code)+" ",c&&(o+=" if ("+g+") { ")}else r=!0===f.$async||e.async&&!1!==f.$async,i=f.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+d+"; "),o+=" try { await "+b+"; ",c&&(o+=" "+d+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+d+" = false; "),o+=" } ",c&&(o+=" if ("+d+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,h=l.baseId,d=!0,f=i;if(f)for(var p,m=-1,v=f.length-1;m<v;)p=f[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(d=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=h,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=d?" if (true) { ":" "+u.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,v=a.every((function(t){return e.util.schemaHasRules(t,e.RULES.all)}));if(v){var g=f.baseId;r+=" var "+d+" = errors; var "+h+" = false;  ";var y=e.compositeRule;e.compositeRule=f.compositeRule=!0;var b=a;if(b)for(var _,T=-1,S=b.length-1;T<S;)_=b[T+=1],f.schema=_,f.schemaPath=s+"["+T+"]",f.errSchemaPath=l+"/"+T,r+="  "+e.validate(f)+" ",f.baseId=g,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";e.compositeRule=f.compositeRule=y,r+=" "+p+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),d||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+h+" = equal("+c+", schema"+i+"); if (!"+h+") {   ";var f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=f.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level,m="i"+i,v=f.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,b=e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+d+" = errors;var "+h+";",b){var _=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=a,f.schemaPath=s,f.errSchemaPath=l,r+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var T=c+"["+m+"]";f.dataPathArr[v]=m;var S=e.validate(f);f.baseId=y,e.util.varOccurences(S,g)<2?r+=" "+e.util.varReplace(S,g,T)+" ":r+=" var "+g+" = "+T+"; "+S+" ",r+=" if ("+p+") break; }  ",e.compositeRule=f.compositeRule=_,r+="  if (!"+p+") {"}else r+=" if ("+c+".length == 0) {";var k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var w=r;return r=k.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,d=e.util.copy(e),f="";d.level++;var p="valid"+d.level,m={},v={},g=e.opts.ownProperties;for(T in a){var y=a[T],b=Array.isArray(y)?v:m;b[T]=y}r+="var "+h+" = errors;";var _=e.errorPath;for(var T in r+="var missing"+i+";",v)if((b=v[T]).length){if(r+=" if ( "+c+e.util.getProperty(T)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),u){r+=" && ( ";var S=b;if(S)for(var k=-1,w=S.length-1;k<w;){M=S[k+=1],k&&(r+=" || "),r+=" ( ( "+(R=c+(L=e.util.getProperty(M)))+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:L)+") ) "}r+=")) {  ";var x="missing"+i,E="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,x,!0):_+" + "+x);var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(T)+"', missingProperty: '"+E+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(T)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var O=r;r=C.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var A=b;if(A)for(var M,P=-1,I=A.length-1;P<I;){M=A[P+=1];var L=e.util.getProperty(M),R=(E=e.util.escapeQuotes(M),c+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,M,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(T)+"', missingProperty: '"+E+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(T)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(f+="}",r+=" else { ")}e.errorPath=_;var D=d.baseId;for(var T in m){y=m[T];e.util.schemaHasRules(y,e.RULES.all)&&(r+=" "+p+" = true; if ( "+c+e.util.getProperty(T)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),r+=") { ",d.schema=y,d.schemaPath=s+e.util.getProperty(T),d.errSchemaPath=l+"/"+e.util.escapeFragment(T),r+="  "+e.validate(d)+" ",d.baseId=D,r+=" }  ",u&&(r+=" if ("+p+") { ",f+="}"))}return u&&(r+="   "+f+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var f="i"+i,p="schema"+i;d||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+h+";",d&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=h+" = false;for (var "+f+"=0; "+f+"<"+p+".length; "+f+"++) if (equal("+c+", "+p+"["+f+"])) { "+h+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||"");if(!1===e.opts.format)return u&&(r+=" if (true) { "),r;var h,d=e.opts.$data&&a&&a.$data;d?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",h="schema"+i):h=a;var f=e.opts.unknownFormats,p=Array.isArray(f);if(d){r+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=f&&(r+=" ("+h+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+g+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {"}else{var m;if(!(m=e.formats[a])){if("ignore"==f)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(p&&f.indexOf(a)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=n)return u&&(r+=" if (true) { "),r;if(y){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(a);v&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=d?""+h:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=d?"' + "+h+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;return r=_.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==v&&e.util.schemaHasRules(v,e.RULES.all),b=f.baseId;if(g||y){var _;f.createErrors=!1,f.schema=a,f.schemaPath=s,f.errSchemaPath=l,r+=" var "+d+" = errors; var "+h+" = true;  ";var T=e.compositeRule;e.compositeRule=f.compositeRule=!0,r+="  "+e.validate(f)+" ",f.baseId=b,f.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=T,g?(r+=" if ("+p+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(f)+" ",f.baseId=b,r+=" "+h+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+p+") { ",y&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(f)+" ",f.baseId=b,r+=" "+h+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,v="i"+i,g=f.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(r+="var "+d+" = errors;var "+h+";",Array.isArray(a)){var _=e.schema.additionalItems;if(!1===_){r+=" "+h+" = "+c+".length <= "+a.length+"; ";var T=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=T,u&&(p+="}",r+=" else { ")}var w=a;if(w)for(var x,E=-1,C=w.length-1;E<C;)if(x=w[E+=1],e.util.schemaHasRules(x,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+E+") { ";var O=c+"["+E+"]";f.schema=x,f.schemaPath=s+"["+E+"]",f.errSchemaPath=l+"/"+E,f.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0),f.dataPathArr[g]=E;var A=e.validate(f);f.baseId=b,e.util.varOccurences(A,y)<2?r+=" "+e.util.varReplace(A,y,O)+" ":r+=" var "+y+" = "+O+"; "+A+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",p+="}")}if("object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)){f.schema=_,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+v+" = "+a.length+"; "+v+" < "+c+".length; "+v+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);O=c+"["+v+"]";f.dataPathArr[g]=v;A=e.validate(f);f.baseId=b,e.util.varOccurences(A,y)<2?r+=" "+e.util.varReplace(A,y,O)+" ":r+=" var "+y+" = "+O+"; "+A+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",p+="}")}}else if(e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=l,r+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);O=c+"["+v+"]";f.dataPathArr[g]=v;A=e.validate(f);f.baseId=b,e.util.varOccurences(A,y)<2?r+=" "+e.util.varReplace(A,y,O)+" ":r+=" var "+y+" = "+O+"; "+A+" ",u&&(r+=" if (!"+m+") break; "),r+=" }"}return u&&(r+=" "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=f.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+h+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(p=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,p&&(d.opts.allErrors=p),e.compositeRule=d.compositeRule=m,r+=" if ("+f+") {   ";var v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;r=v.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,v=f.baseId,g="prevValid"+i,y="passingSchemas"+i;r+="var "+d+" = errors , "+g+" = false , "+h+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=f.compositeRule=!0;var _=a;if(_)for(var T,S=-1,k=_.length-1;S<k;)T=_[S+=1],e.util.schemaHasRules(T,e.RULES.all)?(f.schema=T,f.schemaPath=s+"["+S+"]",f.errSchemaPath=l+"/"+S,r+="  "+e.validate(f)+" ",f.baseId=v):r+=" var "+m+" = true; ",S&&(r+=" if ("+m+" && "+g+") { "+h+" = false; "+y+" = ["+y+", "+S+"]; } else { ",p+="}"),r+=" if ("+m+") { "+h+" = "+g+" = true; "+y+" = "+S+"; }";return e.compositeRule=f.compositeRule=b,r+=p+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(d?"(new RegExp("+r+"))":e.usePattern(s))+".test("+h+") ) {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=f.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,d=e.util.copy(e),f="";d.level++;var p="valid"+d.level,m="key"+i,v="idx"+i,g=d.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,_=Object.keys(a||{}),T=e.schema.patternProperties||{},S=Object.keys(T),k=e.schema.additionalProperties,w=_.length||S.length,x=!1===k,E="object"==typeof k&&Object.keys(k).length,C=e.opts.removeAdditional,O=x||E||C,A=e.opts.ownProperties,M=e.baseId,P=e.schema.required;if(P&&(!e.opts.$data||!P.$data)&&P.length<e.opts.loopRequired)var I=e.util.toHash(P);if(r+="var "+h+" = errors;var "+p+" = true;",A&&(r+=" var "+b+" = undefined;"),O){if(r+=A?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",w){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var L=_;if(L)for(var R=-1,D=L.length-1;R<D;)X=L[R+=1],r+=" || "+m+" == "+e.util.toQuotedString(X)+" "}if(S.length){var N=S;if(N)for(var j=-1,H=N.length-1;j<H;)ie=N[j+=1],r+=" || "+e.usePattern(ie)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==C)r+=" delete "+c+"["+m+"]; ";else{var B=e.errorPath,F="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),x)if(C)r+=" delete "+c+"["+m+"]; ";else{r+=" "+p+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+F+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var V=r;r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(r+=" break; ")}else if(E)if("failing"==C){r+=" var "+h+" = errors;  ";var U=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=k,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=c+"["+m+"]";d.dataPathArr[g]=m;var Y=e.validate(d);d.baseId=M,e.util.varOccurences(Y,y)<2?r+=" "+e.util.varReplace(Y,y,G)+" ":r+=" var "+y+" = "+G+"; "+Y+" ",r+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=d.compositeRule=U}else{d.schema=k,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);G=c+"["+m+"]";d.dataPathArr[g]=m;Y=e.validate(d);d.baseId=M,e.util.varOccurences(Y,y)<2?r+=" "+e.util.varReplace(Y,y,G)+" ":r+=" var "+y+" = "+G+"; "+Y+" ",u&&(r+=" if (!"+p+") break; ")}e.errorPath=B}w&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+p+") { ",f+="}")}var W=e.opts.useDefaults&&!e.compositeRule;if(_.length){var q=_;if(q)for(var X,K=-1,$=q.length-1;K<$;){var Z=a[X=q[K+=1]];if(e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(X),J=(G=c+Q,W&&void 0!==Z.default);d.schema=Z,d.schemaPath=s+Q,d.errSchemaPath=l+"/"+e.util.escapeFragment(X),d.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(X);Y=e.validate(d);if(d.baseId=M,e.util.varOccurences(Y,y)<2){Y=e.util.varReplace(Y,y,G);var ee=G}else{ee=y;r+=" var "+y+" = "+G+"; "}if(J)r+=" "+Y+" ";else{if(I&&I[X]){r+=" if ( "+ee+" === undefined ",A&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(X)+"') "),r+=") { "+p+" = false; ";B=e.errorPath,z=l;var te,ne=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,X,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ne+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";V=r;r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=B,r+=" } else { "}else u?(r+=" if ( "+ee+" === undefined ",A&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(X)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+ee+" !== undefined ",A&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(X)+"') "),r+=" ) { ");r+=" "+Y+" } "}}u&&(r+=" if ("+p+") { ",f+="}")}}if(S.length){var re=S;if(re)for(var ie,oe=-1,ae=re.length-1;oe<ae;){Z=T[ie=re[oe+=1]];if(e.util.schemaHasRules(Z,e.RULES.all)){d.schema=Z,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),r+=A?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(ie)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);G=c+"["+m+"]";d.dataPathArr[g]=m;Y=e.validate(d);d.baseId=M,e.util.varOccurences(Y,y)<2?r+=" "+e.util.varReplace(Y,y,G)+" ":r+=" var "+y+" = "+G+"; "+Y+" ",u&&(r+=" if (!"+p+") break; "),r+=" } ",u&&(r+=" else "+p+" = true; "),r+=" }  ",u&&(r+=" if ("+p+") { ",f+="}")}}}return u&&(r+=" "+f+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(r+="var "+h+" = errors;",e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=l;var p="key"+i,m="idx"+i,v="i"+i,g="' + "+p+" + '",y="data"+(d.dataLevel=e.dataLevel+1),b="dataProperties"+i,_=e.opts.ownProperties,T=e.baseId;_&&(r+=" var "+b+" = undefined; "),r+=_?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+p+" = "+b+"["+m+"]; ":" for (var "+p+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var S=p,k=e.compositeRule;e.compositeRule=d.compositeRule=!0;var w=e.validate(d);d.baseId=T,e.util.varOccurences(w,y)<2?r+=" "+e.util.varReplace(w,y,S)+" ":r+=" var "+y+" = "+S+"; "+w+" ",e.compositeRule=d.compositeRule=k,r+=" if (!"+f+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+="  if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var f="schema"+i;if(!d)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var b=e.schema.properties[v];b&&e.util.schemaHasRules(b,e.RULES.all)||(p[p.length]=v)}}else p=a;if(d||p.length){var _=e.errorPath,T=d||p.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",T){d||(r+=" var "+f+" = validate.schema"+s+"; ");var k="' + "+(A="schema"+i+"["+(E="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,A,e.opts.jsonPointers)),r+=" var "+h+" = true; ",d&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=" for (var "+E+" = 0; "+E+" < "+f+".length; "+E+"++) { "+h+" = "+c+"["+f+"["+E+"]] !== undefined ",S&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+f+"["+E+"]) "),r+="; if (!"+h+") break; } ",d&&(r+="  }  "),r+="  if (!"+h+") {   ",(O=O||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var w=r;r=O.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var x=p;if(x)for(var E=-1,C=x.length-1;E<C;){P=x[E+=1],E&&(r+=" || "),r+=" ( ( "+(D=c+(R=e.util.getProperty(P)))+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:R)+") ) "}r+=") {  ";var O;k="' + "+(A="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,A,!0):_+" + "+A),(O=O||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";w=r;r=O.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(T){d||(r+=" var "+f+" = validate.schema"+s+"; ");var A;k="' + "+(A="schema"+i+"["+(E="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,A,e.opts.jsonPointers)),d&&(r+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),r+=" for (var "+E+" = 0; "+E+" < "+f+".length; "+E+"++) { if ("+c+"["+f+"["+E+"]] === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+f+"["+E+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var M=p;if(M)for(var P,I=-1,L=M.length-1;I<L;){P=M[I+=1];var R=e.util.getProperty(P),D=(k=e.util.escapeQuotes(P),c+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,P,e.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else u&&(r+=" if (true) {");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;if(f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||f)&&!1!==e.opts.uniqueItems){f&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+h+".length , "+d+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+e.util[v](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",f&&(i+="  }  "),i+=" if (!"+d+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],l=a[s];l&&(a[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var r=n(270).MissingRef;e.exports=function e(t,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||l(e)}));i&&a.then((function(e){i(null,e)}),i);return a;function s(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}function l(e){try{return o._compile(e)}catch(t){if(t instanceof r)return function(t){var r=t.missingSchema;if(u(r))throw new Error("Schema "+r+" is loaded but "+t.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(a,a);return i.then((function(e){if(!u(r))return s(e).then((function(){u(r)||o.addSchema(e,r,void 0,n)}))})).then((function(){return l(e)}));function a(){delete o._loadingSchemas[r]}function u(e){return o._refs[e]||o._schemas[e]}}(t);throw t}}}},function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(720),o=n(405);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)l(e,o[a],t);else l(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function l(e,t,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(l),n.custom[e]=l}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}};var a={definitions:{simpleTypes:o.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:o.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),f="valid"+a,p="errs__"+a,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=l;var v,g,y,b,_,T=this,S="definition"+a,k=T.definition,w="";if(m&&k.$data){_="keywordValidate"+a;var x=k.validateSchema;o+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+_+" = "+S+".validate;"}else{if(!(b=e.useCustomRule(T,l,e.schema,e)))return;i="validate.schema"+u,_=b.code,v=k.compile,g=k.inline,y=k.macro}var E=_+".errors",C="i"+a,O="ruleErr"+a,A=k.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(o+=E+" = null;"),o+="var "+p+" = errors;var "+f+";",m&&k.$data&&(w+="}",o+=" if ("+i+" === undefined) { "+f+" = true; } else { ",x&&(w+="}",o+=" "+f+" = "+S+".validateSchema("+i+"); if ("+f+") { ")),g)k.statements?o+=" "+b.validate+" ":o+=" "+f+" = "+b.validate+"; ";else if(y){var M=e.util.copy(e);w="";M.level++;var P="valid"+M.level;M.schema=b.validate,M.schemaPath="";var I=e.compositeRule;e.compositeRule=M.compositeRule=!0;var L=e.validate(M).replace(/validate\.schema/g,_);e.compositeRule=M.compositeRule=I,o+=" "+L}else{(j=j||[]).push(o),o="",o+="  "+_+".call( ",e.opts.passContext?o+="this":o+="self",v||!1===k.schema?o+=" , "+d+" ":o+=" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var R=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty",N=o+=" , "+R+" , "+D+" , rootData )  ";o=j.pop(),!1===k.errors?(o+=" "+f+" = ",A&&(o+="await "),o+=N+"; "):o+=A?" var "+(E="customErrors"+a)+" = null; try { "+f+" = await "+N+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } ":" "+E+" = null; "+f+" = "+N+"; "}if(k.modifying&&(o+=" if ("+R+") "+d+" = "+R+"["+D+"];"),o+=""+w,k.valid)h&&(o+=" if (true) { ");else{var j;o+=" if ( ",void 0===k.valid?(o+=" !",o+=y?""+P:""+f):o+=" "+!k.valid+" ",o+=") { ",r=T.keyword,(j=j||[]).push(o),o="",(j=j||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+T.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+T.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var H=o;o=j.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+H+"]); ":o+=" validate.errors = ["+H+"]; return false; ":o+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=j.pop(),g?k.errors?"full"!=k.errors&&(o+="  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+O+" = vErrors["+C+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),o+=" } "):!1===k.errors?o+=" "+B+" ":(o+=" if ("+p+" == errors) { "+B+" } else {  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+O+" = vErrors["+C+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+T.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+T.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===k.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+O+" = vErrors["+C+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),o+=" } } else { "+B+" } "),o+=" } ",h&&(o+=" else { ")}return o}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t,n){e.exports={"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=e.append("symbol").attr("id",t).attr("viewBox",r);n.forEach((function(e){return i.append("path").attr("d",e).attr("fill","currentColor")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(94)),i=g(n(37)),o=g(n(35)),a=g(n(62)),s=g(n(18)),l=g(n(17)),u=g(n(725)),c=g(n(42)),h=g(n(134)),d=g(n(397)),f=g(n(271)),p=n(24),m=n(10),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e,t){var n=e,g=[],y=(0,h.default)(),b=function(){g.forEach((function(e){return t.unsubscribe(e)})),g=[]};return{destroy:b,publish:y.publish,stack:y.stack,public:(0,u.default)({setBroadcastMousePositionGlobally:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e)},setShowGlobalMousePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setShowGlobalMousePosition(e)},setGlobalMousePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e),n.setShowGlobalMousePosition(e)},setAuthHeader:function(e){(0,p.setTileProxyAuthHeader)(e),n.reload()},getAuthHeader:function(){return(0,p.setTileProxyAuthHeader)()},getComponent:function(){return n},reload:function(e){var t=void 0;t=e?e.flatMap((function(e){return"string"==typeof e?n.iterateOverTracksInView(e):e})):n.iterateOverTracks();var r=!0,i=!1,o=void 0;try{for(var a,u=(0,l.default)(t);!(r=(a=u.next()).done);r=!0){var c=a.value,h=c.viewId,d=c.trackId,f=n.getTrackObject(h,d),p=!0,m=!1,v=void 0;try{for(var g,y=(0,l.default)(f.childTracks||[f]);!(p=(g=y.next()).done);p=!0){var b=g.value;b.fetchedTiles&&(b.removeTiles((0,s.default)(b.fetchedTiles)),b.fetching.clear(),b.refreshTiles()),b.rerender(b.options,!0)}}catch(e){m=!0,v=e}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}},destroy:function(){b(),c.default.unmountComponentAtNode(n.topDiv.parentNode)},setRangeSelectionToInt:function(){n.setState({rangeSelectionToInt:!0})},setRangeSelectionToFloat:function(){n.setState({rangeSelectionToInt:!1})},setRangeSelection1dSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;n.setState({rangeSelection1dSize:[e,t]})},setViewConfig:function(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n.processViewConfig(e),s=new a.default((function(a){r.requestsInFlight=0,g.push(t.subscribe("requestSent",(function(){r.requestsInFlight+=1}))),g.push(t.subscribe("requestReceived",(function(){r.requestsInFlight-=1,0===r.requestsInFlight&&a()}))),n.setState({viewConfig:e,views:o},(function(){i&&a()}))}));return s},getViewConfig:function(){return n.getViewsAsJson()},validateViewConfig:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.verbose,r=void 0!==n&&n,i=(new d.default).compile(f.default),a=i(e);return r&&i.errors&&console.warn((0,o.default)(i.errors,null,2)),a},getMinMaxValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.getMinMaxValue(e,t,r,i)},shareViewConfigAsLink:function(e){return n.handleExportViewsAsLink(e,!0)},showAvailableTrackPositions:function(e){n.setState({draggingHappening:e})},hideAvailableTrackPositions:function(){n.setState({draggingHappening:null})},showTrackChooser:function(e){n.setState({chooseTrackHandler:function(){n.setState({chooseTrackHandler:null}),e.apply(void 0,arguments)}})},hideTrackChooser:function(){this.setState({chooseTrackHandler:null})},setTrackValueScaleLimits:function(e,t,r,i){n.setTrackValueScaleLimits(e,t,r,i)},setDarkTheme:function(e){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');var t=e?"dark":"light";n.setTheme(t)},setTheme:function(e){console.warn("Please note that theming is still in beta!"),n.setTheme(e)},zoomTo:function(e,t,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n.zoomTo(e,t,r,i,o,a)},zoomToGene:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n.zoomToGene(e,t,r,i)},suggestGene:function(e,t,r){return n.suggestGene(e,t,r)},zoomToDataExtent:function(e){n.handleZoomToData(e)},resetViewport:function(e){n.resetViewport(e)},activateTool:function(e){"select"===e?n.setMouseTool(v.MOUSE_TOOL_SELECT):n.setMouseTool(v.MOUSE_TOOL_MOVE)},exportAsPngBlobPromise:function(){return n.createPNGBlobPromise()},exportAsSvg:function(){return n.createSVGString()},exportAsViewConfString:function(){return n.getViewsAsString()},getRangeSelection:function(){return n.rangeSelection},getLocation:function(e){var t=e?n.xScales[e]&&n.yScales[e]&&e:(0,i.default)(n.tiledPlots)[0]&&(0,i.default)(n.tiledPlots)[0].props.uid;return t?{xDomain:n.xScales[t].domain(),yDomain:n.yScales[t].domain(),xRange:n.xScales[t].range(),yRange:n.yScales[t].range()}:"Please provide a valid view UUID sweetheart "},getTrackObject:function(e,t){var r=e,o=t;return t||(r=(0,i.default)(n.state.views)[0].uid,o=e),(0,m.getTrackObjectFromHGC)(n,r,o)},option:function(e,t){if(void 0===t)return n.props.options[e];"sizeMode"===e?(n.props.options[e]=t,function(e){e.setState(e.state)}(n)):console.warn('This option "'+String(e)+'" is either unknown or not settable.')},off:function(e,t,i){var o="object"===(void 0===t?"undefined":(0,r.default)(t))?t.callback:t;switch(e){case"click":y.unsubscribe("click",o);break;case"cursorLocation":y.unsubscribe("cursorLocation",o);break;case"location":n.offLocationChange(i,t);break;case"mouseMoveZoom":y.unsubscribe("mouseMoveZoom",o);break;case"wheel":y.unsubscribe("wheel",o);break;case"rangeSelection":y.unsubscribe("rangeSelection",o);break;case"viewConfig":n.offViewChange(t);break;case"createSVG":n.offPostCreateSVG();break;case"geneSearch":y.unsubscribe("geneSearch",o)}},on:function(e,t,r,i){switch(e){case"click":return y.subscribe("click",t);case"cursorLocation":return y.subscribe("cursorLocation",t);case"location":return n.onLocationChange(r,t,i);case"mouseMoveZoom":return y.subscribe("mouseMoveZoom",t);case"wheel":return y.subscribe("wheel",t);case"rangeSelection":return y.subscribe("rangeSelection",t);case"viewConfig":return n.onViewChange(t);case"createSVG":return n.onPostCreateSVG(t);case"geneSearch":return y.subscribe("geneSearch",t);default:return}}},{version:{get:function(){return"1.11.11"},configurable:!0,enumerable:!0}})}};t.default=y},function(e,t,n){e.exports={default:n(726),__esModule:!0}},function(e,t,n){n(727);var r=n(12).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperties:n(162)})},function(e,t,n){e.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=n(9),c=f(n(1)),h=f(n(13)),d=n(820);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),o=(0,u.rgb)(e.color);return n.state={displayColorPicker:!1,color:{r:o.r,g:o.g,b:o.b,a:o.opacity}},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(){this.setState((function(e){return{displayColorPicker:!e.displayColorPicker}}))}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){var t=e.rgb,n="rgba("+String(t.r)+","+String(t.g)+","+String(t.b)+","+String(t.a)+")";this.props.onChange(n),this.setState({color:e.rgb})}},{key:"render",value:function(){var e=(0,h.default)({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:"rgba("+String(this.state.color.r)+", "+String(this.state.color.g)+", "+String(this.state.color.b)+", "+String(this.state.color.a)+")"},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return c.default.createElement("div",null,c.default.createElement("div",{onClick:this.handleClick.bind(this),style:e.swatch},c.default.createElement("div",{style:e.color})),this.state.displayColorPicker?c.default.createElement("div",{style:e.popover},c.default.createElement("div",{onClick:this.handleClose.bind(this),style:e.cover}),c.default.createElement(d.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}}]),t}(c.default.Component);p.propTypes={color:l.default.string,onChange:l.default.func},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(732)),i=s(n(272)),o=s(n(412)),a=s(n(70));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},function(e,t,n){var r=n(97),i=n(31),o=n(56);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(118),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(97),i=n(56);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(97),i=n(274),o=n(56),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(186),i=n(741),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(410)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(743),i=n(782),o=n(424);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(187),i=n(415);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],h=e[c],d=u[1];if(l&&u[2]){if(void 0===h&&!(c in e))return!1}else{var f=new r;if(o)var p=o(h,d,c,e,t,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(189),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(189);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(189);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(189);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(188);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(188),i=n(279),o=n(280);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(277),i=n(755),o=n(45),a=n(414),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},function(e,t,n){var r,i=n(756),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(41)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(759),i=n(188),o=n(279);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(760),i=n(761),o=n(762),a=n(763),s=n(764);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(190);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(190),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(190),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(190);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(191);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(191);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(191);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(191);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(187),i=n(416),o=n(775),a=n(778),s=n(192),l=n(31),u=n(185),c=n(273),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=l(e),b=l(t),_=y?d:s(e),T=b?d:s(t),S=(_=_==h?f:_)==f,k=(T=T==h?f:T)==f,w=_==T;if(w&&u(e)){if(!u(t))return!1;y=!0,S=!1}if(w&&!S)return g||(g=new r),y||c(e)?i(e,t,n,m,v,g):o(e,t,_,n,m,v,g);if(!(1&n)){var x=S&&p.call(e,"__wrapped__"),E=k&&p.call(t,"__wrapped__");if(x||E){var C=x?e.value():e,O=E?t.value():t;return g||(g=new r),v(C,O,n,m,g)}}return!!w&&(g||(g=new r),a(e,t,n,m,v,g))}},function(e,t,n){var r=n(280),i=n(772),o=n(773);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(118),i=n(418),o=n(120),a=n(416),s=n(776),l=n(777),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=a(f(e),f(t),r,u,h,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(419),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var h=c;h--;){var d=u[h];if(!(l?d in t:i.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var p=!0;s.set(e,t),s.set(t,e);for(var m=l;++h<c;){var v=e[d=u[h]],g=t[d];if(o)var y=l?o(g,v,d,t,e,s):o(v,g,d,e,t,s);if(!(void 0===y?v===g||a(v,g,n,o,s):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(e),s.delete(t),p}},function(e,t,n){var r=n(99)(n(41),"DataView");e.exports=r},function(e,t,n){var r=n(99)(n(41),"Promise");e.exports=r},function(e,t,n){var r=n(99)(n(41),"Set");e.exports=r},function(e,t,n){var r=n(423),i=n(119);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(415),i=n(784),o=n(425),a=n(285),s=n(423),l=n(424),u=n(145);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(284);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(786),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(787);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(280);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(789);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(118),i=n(413),o=n(31),a=n(194),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(193),i=n(184),o=n(31),a=n(142),s=n(274),l=n(145);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,h=!1;++u<c;){var d=l(t[u]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},function(e,t,n){var r=n(793),i=n(794),o=n(285),a=n(145);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(284);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(146),i=n(98);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){var r=n(98);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(272)),i=a(n(798)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},function(e,t,n){var r=n(799);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(187),i=n(286),o=n(195),a=n(800),s=n(801),l=n(427),u=n(196),c=n(804),h=n(805),d=n(419),f=n(806),p=n(192),m=n(807),v=n(808),g=n(430),y=n(31),b=n(185),_=n(812),T=n(45),S=n(814),k=n(119),w="[object Arguments]",x="[object Function]",E="[object Object]",C={};C[w]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[E]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[x]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,O,A,M,P){var I,L=1&n,R=2&n,D=4&n;if(O&&(I=M?O(t,A,M,P):O(t)),void 0!==I)return I;if(!T(t))return t;var N=y(t);if(N){if(I=m(t),!L)return u(t,I)}else{var j=p(t),H=j==x||"[object GeneratorFunction]"==j;if(b(t))return l(t,L);if(j==E||j==w||H&&!M){if(I=R||H?{}:g(t),!L)return R?h(t,s(I,t)):c(t,a(I,t))}else{if(!C[j])return M?t:{};I=v(t,j,L)}}P||(P=new r);var B=P.get(t);if(B)return B;P.set(t,I),S(t)?t.forEach((function(r){I.add(e(r,n,O,r,t,P))})):_(t)&&t.forEach((function(r,i){I.set(i,e(r,n,O,i,t,P))}));var F=D?R?f:d:R?keysIn:k,z=N?void 0:F(t);return i(z||t,(function(r,i){z&&(r=t[i=r]),o(I,i,e(r,n,O,i,t,P))})),I}},function(e,t,n){var r=n(100),i=n(119);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(100),i=n(121);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(45),i=n(186),o=n(803),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(100),i=n(282);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(100),i=n(428);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(420),i=n(428),o=n(121);e.exports=function(e){return r(e,o,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(288),i=n(809),o=n(810),a=n(811),s=n(429);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(288);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(118),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(813),i=n(275),o=n(276),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(192),i=n(56);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(815),i=n(275),o=n(276),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(192),i=n(56);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(272),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,u;s(this,r);for(var c=arguments.length,h=Array(c),d=0;d<c;d++)h[d]=arguments[d];return o=u=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(h))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return a.default.createElement(t,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},a.default.createElement(e,i({},u.props,u.state)))},l(u,o)}return u(r,n),r}(a.default.Component)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,u;s(this,r);for(var c=arguments.length,h=Array(c),d=0;d<c;d++)h[d]=arguments[d];return o=u=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(h))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return a.default.createElement(t,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},a.default.createElement(e,i({},u.props,u.state)))},l(u,o)}return u(r,n),r}(a.default.Component)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(821);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return y(r).default}});var i=n(844);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return y(i).default}});var o=n(846);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return y(o).default}});var a=n(848);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return y(a).default}});var s=n(853);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return y(s).default}});var l=n(856);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return y(l).default}});var u=n(858);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return y(u).default}});var c=n(860);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return y(c).default}});var h=n(861);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return y(h).default}});var d=n(867);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return y(d).default}});var f=n(870);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return y(f).default}});var p=n(874);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return y(p).default}});var m=n(878);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return y(m).default}});var v=n(437);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return y(v).default}});var g=y(a);function y(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(13)),a=n(22),s=l(n(843));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,u=e.onChange,c=e.direction,h=e.style,d=e.renderers,f=e.pointer,p=e.className,m=void 0===p?"":p,v=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:h}}});return i.default.createElement("div",{style:v.picker,className:"alpha-picker "+m},i.default.createElement(a.Alpha,r({},v.alpha,{rgb:t,hsl:n,pointer:f,renderers:d,onChange:u,direction:c})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,a.ColorWrap)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=c(o),s=c(n(13)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(823)),u=c(n(289));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=t.Alpha=function(e){function t(){var e,n,r;h(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(u.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>o?1:Math.round(100*u/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var h=void 0;if(h=l<0?0:l>i?1:Math.round(100*l/i)/100,n.a!==h)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:h,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,o){var a=e+"-"+t+"-"+n+(o?"-server":""),s=i(e,t,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,i=Number(t.replace(/%/g,""));if(!isNaN(i)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i+o),e):n.props.onChange&&n.props.onChange(i+o,e),r?n.setState({value:i+o+"%"}):n.setState({value:i+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i-o),e):n.props.onChange&&n.props.onChange(i-o,e),r?n.setState({value:i-o+"%"}):n.setState({value:i-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(13)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(827));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.Hue=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(u<0)c=359;else if(u>o)c=0;else{c=360*(-100*u/o+100)/100}if(n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var h=void 0;if(l<0)h=0;else if(l>i)h=359;else{h=360*(100*l/i)/100}if(n.hsl.h!==h)return{h:h,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=s(n(1)),i=s(n(2)),o=s(n(13)),a=s(n(46));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Raised=function(e){var t=e.zDepth,n=e.radius,i=e.background,s=e.children,l=e.styles,u=void 0===l?{}:l,c=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===t});return r.default.createElement("div",{style:c.wrap},r.default.createElement("div",{style:c.bg}),r.default.createElement("div",{style:c.content},s))};l.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},l.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=l},function(e,t,n){var r=n(187),i=n(431),o=n(408),a=n(830),s=n(45),l=n(121),u=n(432);e.exports=function e(t,n,c,h,d){t!==n&&o(n,(function(o,l){if(d||(d=new r),s(o))a(t,n,l,c,e,h,d);else{var f=h?h(u(t,l),o,l+"",t,n,d):void 0;void 0===f&&(f=o),i(t,l,f)}}),l)}},function(e,t,n){var r=n(431),i=n(427),o=n(429),a=n(196),s=n(430),l=n(184),u=n(31),c=n(831),h=n(185),d=n(277),f=n(45),p=n(412),m=n(273),v=n(432),g=n(832);e.exports=function(e,t,n,y,b,_,T){var S=v(e,n),k=v(t,n),w=T.get(k);if(w)r(e,n,w);else{var x=_?_(S,k,n+"",e,t,T):void 0,E=void 0===x;if(E){var C=u(k),O=!C&&h(k),A=!C&&!O&&m(k);x=k,C||O||A?u(S)?x=S:c(S)?x=a(S):O?(E=!1,x=i(k,!0)):A?(E=!1,x=o(k,!0)):x=[]:p(k)||l(k)?(x=S,l(S)?x=g(S):f(S)&&!d(S)||(x=s(k))):E=!1}E&&(T.set(k,x),b(x,k,y,_,T),T.delete(k)),r(e,n,x)}}},function(e,t,n){var r=n(98),i=n(56);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(100),i=n(121);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(834),i=n(426),o=n(143),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(13)),s=u(n(836)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(838));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,s=t.pointer,l=t.circle,u=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:u.white,className:"saturation-white"},o.default.createElement("div",{style:u.black,className:"saturation-black"}),o.default.createElement("div",{style:u.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:u.circle}))))}}]),t}(i.PureComponent||i.Component);t.default=c},function(e,t,n){var r=n(435),i=n(45);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,n){var r=n(41);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>a&&(c=a);var h=100*u/o,d=-100*c/a+100;return{h:n.hsl.h,s:h,v:d,a:n.hsl.a,source:"rgb"}}},function(e,t,n){e.exports=n(147)},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,h=i.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,l=null,h=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(M[e])e=M[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=U.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=U.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=U.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=U.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=U.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=U.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=U.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=U.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:n?"name":"hex"};if(t=U.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=U.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(f=e.r,p=e.g,m=e.b,t={r:255*L(f,255),g:255*L(p,255),b:255*L(m,255)},h=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=j(e.s),s=j(e.v),t=function(e,t,n){e=6*L(e,360),t=L(t,100),n=L(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}(e.h,r,s),h=!0,d="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=j(e.s),l=j(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=L(e,360),t=L(t,100),n=L(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,l),h=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var f,p,m;return n=I(n),{ok:h,format:e.format||d,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function f(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function m(e,t,n,r){var i=[N(l(e).toString(16)),N(l(t).toString(16)),N(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(e,t,n,r){return[N(H(r)),N(l(e).toString(16)),N(l(t).toString(16)),N(l(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=R(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=R(n.s),d(n)}function b(e){return d(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=R(n.l),d(n)}function T(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=c(0,u(255,n.r-l(-t/100*255))),n.g=c(0,u(255,n.g-l(-t/100*255))),n.b=c(0,u(255,n.b-l(-t/100*255))),d(n)}function S(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=R(n.l),d(n)}function k(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function w(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function x(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function A(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[N(l(e).toString(16)),N(l(t).toString(16)),N(l(n).toString(16)),N(H(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*L(this._r,255))+"%",g:l(100*L(this._g,255))+"%",b:l(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*L(this._r,255))+"%, "+l(100*L(this._g,255))+"%, "+l(100*L(this._b,255))+"%)":"rgba("+l(100*L(this._r,255))+"%, "+l(100*L(this._g,255))+"%, "+l(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=d(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:h(),g:h(),b:h()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o=d.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=d.readability(e,t[u]))>l&&(l=r,s=d(t[u]));return d.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var M=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(M);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return u(1,c(0,e))}function D(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function H(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return D(e)/255}var F,z,V,U=(z="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",V="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(e){return!!U.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(13)),a=n(842),s=l(n(289));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Swatch=function(e){var t=e.color,n=e.style,a=e.onClick,l=void 0===a?function(){}:a,u=e.onHover,c=e.title,h=void 0===c?t:c,d=e.children,f=e.focus,p=e.focusStyle,m=void 0===p?{}:p,v="transparent"===t,g=(0,o.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?m:{})}}),y={};return u&&(y.onMouseOver=function(e){return u(t,e)}),i.default.createElement("div",r({style:g.swatch,onClick:function(e){return l(t,e)},title:h,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},y),d,v&&i.default.createElement(s.default,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;l(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=u(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},u(n,t)}return c(r,n),o(r,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,i({},this.props,this.state)))}}]),r}(s.default.Component)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.AlphaPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=c(n(57)),l=n(22),u=c(n(845));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,h=e.width,d=e.triangle,f=e.styles,p=void 0===f?{}:f,m=e.className,v=void 0===m?"":m,g="transparent"===i,y=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},b=(0,o.default)((0,a.default)({default:{card:{width:h,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:s.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},p),{"hide-triangle":"hide"===d});return r.default.createElement("div",{style:b.card,className:"block-picker "+v},r.default.createElement("div",{style:b.triangle}),r.default.createElement("div",{style:b.head},g&&r.default.createElement(l.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:b.label},i)),r.default.createElement("div",{style:b.body},r.default.createElement(u.default,{colors:c,onClick:y,onSwatchHover:n}),r.default.createElement(l.EditableInput,{style:{input:b.input},value:i,onChange:y})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["top","hide"]),styles:i.default.object},h.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,i.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(t,(function(e){return r.default.createElement(a.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:l.clear}))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=h(n(1)),i=h(n(2)),o=h(n(13)),a=h(n(70)),s=h(n(46)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(438)),u=n(22),c=h(n(847));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,n=e.onChange,i=e.onSwatchHover,l=e.colors,u=e.hex,h=e.circleSize,d=e.styles,f=void 0===d?{}:d,p=e.circleSpacing,m=e.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}},f)),y=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:g.card,className:"circle-picker "+v},(0,a.default)(l,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:y,onSwatchHover:i,active:u===e.toLowerCase(),circleSize:h,circleSpacing:p})})))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),circleSize:i.default.number,circleSpacing:i.default.number,styles:i.default.object},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[l.red[500],l.pink[500],l.purple[500],l.deepPurple[500],l.indigo[500],l.blue[500],l.lightBlue[500],l.cyan[500],l.teal[500],l.green[500],l.lightGreen[500],l.lime[500],l.yellow[500],l.amber[500],l.orange[500],l.deepOrange[500],l.brown[500],l.blueGrey[500]],styles:{}},t.default=(0,u.ColorWrap)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,i=e.onSwatchHover,s=e.hover,l=e.active,u=e.circleSize,c=e.circleSpacing,h=(0,o.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return r.default.createElement("div",{style:h.swatch},r.default.createElement(a.Swatch,{style:h.Swatch,color:t,onClick:n,onHover:i,focusStyle:{boxShadow:h.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,i.handleHover)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=h(n(1)),i=h(n(2)),o=h(n(13)),a=h(n(46)),s=n(22),l=h(n(849)),u=h(n(851)),c=h(n(852));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,i=e.rgb,h=e.hsl,d=e.hsv,f=e.hex,p=e.renderers,m=e.styles,v=void 0===m?{}:m,g=e.className,y=void 0===g?"":g,b=(0,o.default)((0,a.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},v),{disableAlpha:n});return r.default.createElement("div",{style:b.picker,className:"chrome-picker "+y},r.default.createElement("div",{style:b.saturation},r.default.createElement(s.Saturation,{style:b.Saturation,hsl:h,hsv:d,pointer:c.default,onChange:t})),r.default.createElement("div",{style:b.body},r.default.createElement("div",{style:b.controls,className:"flexbox-fix"},r.default.createElement("div",{style:b.color},r.default.createElement("div",{style:b.swatch},r.default.createElement("div",{style:b.active}),r.default.createElement(s.Checkboard,{renderers:p}))),r.default.createElement("div",{style:b.toggles},r.default.createElement("div",{style:b.hue},r.default.createElement(s.Hue,{style:b.Hue,hsl:h,pointer:u.default,onChange:t})),r.default.createElement("div",{style:b.alpha},r.default.createElement(s.Alpha,{style:b.Alpha,rgb:i,hsl:h,pointer:u.default,renderers:p,onChange:t})))),r.default.createElement(l.default,{rgb:i,hsl:h,hex:f,onChange:t,disableAlpha:n})))};d.propTypes={disableAlpha:i.default.bool,styles:i.default.object},d.defaultProps={disableAlpha:!1,styles:{}},t.default=(0,s.ColorWrap)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(13)),a=u(n(57)),s=n(22),l=u(n(850));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.ChromeFields=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?a.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,i.default.createElement("div",{style:t.toggle},i.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.default.createElement(l.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),t}(i.default.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},c)},h),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointer=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointerCircle=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=d(n(1)),i=d(n(2)),o=d(n(13)),a=d(n(70)),s=d(n(46)),l=d(n(57)),u=n(22),c=d(n(854)),h=d(n(855));function d(e){return e&&e.__esModule?e:{default:e}}var f=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.colors,d=e.hex,f=e.rgb,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},m)),b=function(e,n){e.hex?l.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(u.Raised,{style:y.Compact,styles:m},r.default.createElement("div",{style:y.compact,className:"compact-picker "+g},r.default.createElement("div",null,(0,a.default)(i,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===d,onClick:b,onSwatchHover:n})})),r.default.createElement("div",{style:y.clear})),r.default.createElement(h.default,{hex:d,rgb:f,onChange:b})))};f.propTypes={colors:i.default.arrayOf(i.default.string),styles:i.default.object},f.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},t.default=(0,u.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,u=e.active,c=(0,i.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{style:c.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:c.dot}))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=a(n(1)),i=a(n(13)),o=n(22);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,a=e.onChange,s=(0,i.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?a({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):a({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=n(22),u=c(n(857));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Github=function(e){var t=e.width,n=e.colors,i=e.onChange,l=e.onSwatchHover,c=e.triangle,h=e.styles,d=void 0===h?{}:h,f=e.className,p=void 0===f?"":f,m=(0,o.default)((0,s.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},d),{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),v=function(e,t){return i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:m.card,className:"github-picker "+p},r.default.createElement("div",{style:m.triangleShadow}),r.default.createElement("div",{style:m.triangle}),(0,a.default)(n,(function(e){return r.default.createElement(u.default,{color:e,key:e,onClick:v,onSwatchHover:l})})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:i.default.object},h.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,i=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return r.default.createElement("div",{style:u.swatch},r.default.createElement(a.Swatch,{color:n,onClick:i,onHover:s,focusStyle:l}))};t.default=(0,i.handleHover)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(13)),s=c(n(46)),l=n(22),u=c(n(859));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.HuePicker=function(e){var t=e.width,n=e.height,o=e.onChange,u=e.hsl,c=e.direction,h=e.pointer,d=e.styles,f=void 0===d?{}:d,p=e.className,m=void 0===p?"":p,v=(0,a.default)((0,s.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},f));return i.default.createElement("div",{style:v.picker,className:"hue-picker "+m},i.default.createElement(l.Hue,r({},v.hue,{hsl:u,pointer:h,onChange:function(e){return o({a:1,h:e.h,l:.5,s:1})},direction:c})))};h.propTypes={styles:o.default.object},h.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:u.default,styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(46)),a=l(n(57)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Material=function(e){var t=e.onChange,n=e.hex,l=e.rgb,u=e.styles,c=void 0===u?{}:u,h=e.className,d=void 0===h?"":h,f=(0,i.default)((0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},c)),p=function(e,n){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||l.r,g:e.g||l.g,b:e.b||l.b,source:"rgb"},n)};return r.default.createElement(s.Raised,{styles:c},r.default.createElement("div",{style:f.material,className:"material-picker "+d},r.default.createElement(s.EditableInput,{style:{wrap:f.HEXwrap,input:f.HEXinput,label:f.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:f.split,className:"flexbox-fix"},r.default.createElement("div",{style:f.third},r.default.createElement(s.EditableInput,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"r",value:l.r,onChange:p})),r.default.createElement("div",{style:f.third},r.default.createElement(s.EditableInput,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"g",value:l.g,onChange:p})),r.default.createElement("div",{style:f.third},r.default.createElement(s.EditableInput,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"b",value:l.b,onChange:p})))))};t.default=(0,s.ColorWrap)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(1)),o=p(n(2)),a=p(n(13)),s=p(n(46)),l=n(22),u=p(n(862)),c=p(n(863)),h=p(n(864)),d=p(n(865)),f=p(n(866));function p(e){return e&&e.__esModule?e:{default:e}}var m=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,p=(0,a.default)((0,s.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.default.createElement("div",{style:p.picker,className:"photoshop-picker "+o},i.default.createElement("div",{style:p.head},this.props.header),i.default.createElement("div",{style:p.body,className:"flexbox-fix"},i.default.createElement("div",{style:p.saturation},i.default.createElement(l.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.hue},i.default.createElement(l.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:h.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.controls},i.default.createElement("div",{style:p.top,className:"flexbox-fix"},i.default.createElement("div",{style:p.previews},i.default.createElement(f.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.default.createElement("div",{style:p.actions},i.default.createElement(d.default,{label:"OK",onClick:this.props.onAccept,active:!0}),i.default.createElement(d.default,{label:"Cancel",onClick:this.props.onCancel}),i.default.createElement(u.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.default.Component);m.propTypes={header:o.default.string,styles:o.default.object},m.defaultProps={header:"Color Picker",styles:{}},t.default=(0,l.ColorWrap)(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,u=(0,i.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(e,r){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:u.fields},r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(s.h),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:l.replace("#",""),onChange:c}),r.default.createElement("div",{style:u.fieldSymbols},r.default.createElement("div",{style:u.symbol},""),r.default.createElement("div",{style:u.symbol},"%"),r.default.createElement("div",{style:u.symbol},"%")))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(){var e=(0,i.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,a=e.active,s=(0,i.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return r.default.createElement("div",{style:s.button,onClick:t},n||o)};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,i.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=h(n(1)),o=h(n(2)),a=h(n(13)),s=h(n(46)),l=n(22),u=h(n(868)),c=h(n(869));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.Sketch=function(e){var t=e.width,n=e.rgb,o=e.hex,h=e.hsv,d=e.hsl,f=e.onChange,p=e.onSwatchHover,m=e.disableAlpha,v=e.presetColors,g=e.renderers,y=e.styles,b=void 0===y?{}:y,_=e.className,T=void 0===_?"":_,S=(0,a.default)((0,s.default)({default:r({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:m});return i.default.createElement("div",{style:S.picker,className:"sketch-picker "+T},i.default.createElement("div",{style:S.saturation},i.default.createElement(l.Saturation,{style:S.Saturation,hsl:d,hsv:h,onChange:f})),i.default.createElement("div",{style:S.controls,className:"flexbox-fix"},i.default.createElement("div",{style:S.sliders},i.default.createElement("div",{style:S.hue},i.default.createElement(l.Hue,{style:S.Hue,hsl:d,onChange:f})),i.default.createElement("div",{style:S.alpha},i.default.createElement(l.Alpha,{style:S.Alpha,rgb:n,hsl:d,renderers:g,onChange:f}))),i.default.createElement("div",{style:S.color},i.default.createElement(l.Checkboard,null),i.default.createElement("div",{style:S.activeColor}))),i.default.createElement(u.default,{rgb:n,hsl:d,hex:o,onChange:f,disableAlpha:m}),i.default.createElement(c.default,{colors:v,onClick:f,onSwatchHover:p}))};d.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},d.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,l.ColorWrap)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,u=e.disableAlpha,c=(0,i.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),h=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:l.replace("#",""),onChange:h})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:h,dragLabel:"true",dragMax:"100"})))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=l(n(13)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,u=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),c=function(e,t){o({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return i.default.createElement("div",{key:n,style:u.swatchWrap},i.default.createElement(s.Swatch,r({},t,{style:u.swatch,onClick:c,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};u.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=n(22),l=c(n(871)),u=c(n(873));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Slider=function(e){var t=e.hsl,n=e.onChange,i=e.pointer,u=e.styles,c=void 0===u?{}:u,h=e.className,d=void 0===h?"":h,f=(0,o.default)((0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},c));return r.default.createElement("div",{style:f.wrap||"",className:"slider-picker "+d},r.default.createElement("div",{style:f.hue},r.default.createElement(s.Hue,{style:f.Hue,hsl:t,pointer:i,onChange:n})),r.default.createElement("div",{style:f.swatches},r.default.createElement(l.default,{hsl:t,onClick:n})))};h.propTypes={styles:i.default.object},h.defaultProps={pointer:u.default,styles:{}},t.default=(0,s.ColorWrap)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=a(n(1)),i=a(n(13)),o=a(n(872));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,a=(0,i.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:a.swatches},r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement("div",{style:a.clear}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,a=void 0===o?function(){}:o,s=e.active,l=e.first,u=e.last,c=(0,i.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:u});return r.default.createElement("div",{style:c.swatch,onClick:function(e){return a({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(){var e=(0,i.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=d(n(1)),i=d(n(2)),o=d(n(13)),a=d(n(70)),s=d(n(46)),l=d(n(57)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(438)),c=n(22),h=d(n(875));function d(e){return e&&e.__esModule?e:{default:e}}var f=t.Swatches=function(e){var t=e.width,n=e.height,i=e.onChange,u=e.onSwatchHover,d=e.colors,f=e.hex,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},m)),b=function(e,t){l.default.isValidHex(e)&&i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:y.picker,className:"swatches-picker "+g},r.default.createElement(c.Raised,null,r.default.createElement("div",{style:y.overflow},r.default.createElement("div",{style:y.body},(0,a.default)(d,(function(e){return r.default.createElement(h.default,{key:e.toString(),group:e,active:f,onClick:b,onSwatchHover:u})})),r.default.createElement("div",{style:y.clear})))))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.arrayOf(i.default.string)),styles:i.default.object},f.defaultProps={width:320,height:240,colors:[[u.red[900],u.red[700],u.red[500],u.red[300],u.red[100]],[u.pink[900],u.pink[700],u.pink[500],u.pink[300],u.pink[100]],[u.purple[900],u.purple[700],u.purple[500],u.purple[300],u.purple[100]],[u.deepPurple[900],u.deepPurple[700],u.deepPurple[500],u.deepPurple[300],u.deepPurple[100]],[u.indigo[900],u.indigo[700],u.indigo[500],u.indigo[300],u.indigo[100]],[u.blue[900],u.blue[700],u.blue[500],u.blue[300],u.blue[100]],[u.lightBlue[900],u.lightBlue[700],u.lightBlue[500],u.lightBlue[300],u.lightBlue[100]],[u.cyan[900],u.cyan[700],u.cyan[500],u.cyan[300],u.cyan[100]],[u.teal[900],u.teal[700],u.teal[500],u.teal[300],u.teal[100]],["#194D33",u.green[700],u.green[500],u.green[300],u.green[100]],[u.lightGreen[900],u.lightGreen[700],u.lightGreen[500],u.lightGreen[300],u.lightGreen[100]],[u.lime[900],u.lime[700],u.lime[500],u.lime[300],u.lime[100]],[u.yellow[900],u.yellow[700],u.yellow[500],u.yellow[300],u.yellow[100]],[u.amber[900],u.amber[700],u.amber[500],u.amber[300],u.amber[100]],[u.orange[900],u.orange[700],u.orange[500],u.orange[300],u.orange[100]],[u.deepOrange[900],u.deepOrange[700],u.deepOrange[500],u.deepOrange[300],u.deepOrange[100]],[u.brown[900],u.brown[700],u.brown[500],u.brown[300],u.brown[100]],[u.blueGrey[900],u.blueGrey[700],u.blueGrey[500],u.blueGrey[300],u.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},t.default=(0,c.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=s(n(876));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,u=(0,i.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:u.group},(0,o.default)(s,(function(e,i){return r.default.createElement(a.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===i,last:i===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(57)),a=n(22),s=l(n(877));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,l=void 0===n?function(){}:n,u=e.onSwatchHover,c=e.first,h=e.last,d=e.active,f=(0,i.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:c,last:h,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{color:t,style:f.color,onClick:l,onHover:u,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:f.check},r.default.createElement(s.default,null)))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},c)},h),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=c(n(57)),u=n(22);function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,h=e.width,d=e.triangle,f=e.styles,p=void 0===f?{}:f,m=e.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:h,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},p),{"hide-triangle":"hide"===d,"top-left-triangle":"top-left"===d,"top-right-triangle":"top-right"===d}),y=function(e,n){l.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:g.card,className:"twitter-picker "+v},r.default.createElement("div",{style:g.triangleShadow}),r.default.createElement("div",{style:g.triangle}),r.default.createElement("div",{style:g.body},(0,a.default)(c,(function(e,t){return r.default.createElement(u.Swatch,{key:t,color:e,hex:e,style:g.swatch,onClick:y,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:g.hash},"#"),r.default.createElement(u.EditableInput,{style:{input:g.input},value:i.replace("#",""),onChange:y}),r.default.createElement("div",{style:g.clear})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),triangle:i.default.oneOf(["hide","top-left","top-right"]),colors:i.default.arrayOf(i.default.string),styles:i.default.object},h.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},t.default=(0,u.ColorWrap)(h)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO=void 0;var r=s(n(881)),i=s(n(44)),o=n(327),a=n(266);function s(e){return e&&e.__esModule?e:{default:e}}var l={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},u={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},c=t.TRACKS_INFO=[l,(0,i.default)({},l,{type:"osm"}),u,(0,i.default)({},u,{type:"mapbox"}),{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:a.svgVertical1DAxisIcon,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:a.svg1DAxisIcon,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:a.svg2DHeatmapIcon,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svg2DHeatmapIcon,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontalLineIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontal1dHeatmap,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{colorbarBackgroundColor:"#000000"})},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:a.svg2DTilesIcon},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:a.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"})},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"})},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:a.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:a.svg1DTilesIcon},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:a.svg2DTilesIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}];t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(131),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO_BY_TYPE=void 0;var r,i=n(17),o=(r=i)&&r.__esModule?r:{default:r},a=n(11);var s=t.TRACKS_INFO_BY_TYPE=a.TRACKS_INFO.reduce((function(e,t){if(e[t.type]=t,t.aliases){var n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(t.aliases);!(n=(a=s.next()).done);n=!0){e[a.value]=t}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}return e}),{});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POSITIONS_BY_DATATYPE=void 0;var r,i=n(38),o=(r=i)&&r.__esModule?r:{default:r},a=n(11);var s=t.POSITIONS_BY_DATATYPE=a.TRACKS_INFO.reduce((function(e,t){for(var n=0;n<t.datatype.length;n++){var r=t.datatype[n];return e[r]?e[r].add(t.orientation):e[r]=new o.default,e}return{}}),{});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DEFAULT_TRACKS_FOR_DATATYPE={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Ce(n(8)),i=Ce(n(316)),o=Ce(n(83)),a=Ce(n(9)),s=Ce(n(84)),l=Ce(n(104)),u=Ce(n(20)),c=Ce(n(1080)),h=Ce(n(1082)),d=Ce(n(1081)),f=Ce(n(28)),p=Ce(n(0)),m=Ce(n(85)),v=Ce(n(157)),g=Ee(n(26)),y=n(81),b=Ce(n(11)),_=Ce(n(10)),T=Ee(n(365)),S=Ee(n(364)),k=Ee(n(363)),w=Ee(n(259)),x=Ee(n(352)),E=Ee(n(362)),C=Ee(n(370)),O=Ee(n(368)),A=Ee(n(369)),M=Ee(n(256)),P=Ee(n(378)),I=Ee(n(360)),L=Ee(n(135)),R=Ee(n(361)),D=Ee(n(366)),N=Ee(n(371)),j=Ee(n(260)),H=Ee(n(372)),B=Ee(n(116)),F=Ee(n(359)),z=Ee(n(358)),V=Ee(n(377)),U=Ee(n(115)),G=Ee(n(392)),Y=Ee(n(394)),W=Ee(n(254)),q=Ee(n(347)),X=Ee(n(348)),K=Ee(n(351)),$=Ee(n(380)),Z=Ee(n(265)),Q=Ee(n(379)),J=Ee(n(141)),ee=Ee(n(357)),te=Ee(n(40)),ne=Ee(n(381)),re=Ee(n(80)),ie=Ee(n(367)),oe=Ee(n(255)),ae=Ee(n(79)),se=Ee(n(350)),le=Ee(n(177)),ue=Ee(n(373)),ce=Ee(n(262)),he=Ee(n(349)),de=Ee(n(396)),fe=Ee(n(374)),pe=Ee(n(886)),me=Ee(n(375)),ve=Ee(n(376)),ge=Ee(n(67)),ye=Ee(n(245)),be=Ee(n(887)),_e=Ce(n(24)),Te=Ee(n(73)),Se=Ee(n(140)),ke=Ee(n(383)),we=Ee(n(389)),xe=Ee(n(382));function Ee(e){return e&&e.__esModule?e:{default:e}}function Ce(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var Oe={d3Array:r,d3Axis:i,d3Brush:o,d3Color:a,d3Drag:s,d3Dsv:l,d3Format:u,d3Geo:c,d3Queue:h,d3Request:d,d3Scale:f,d3Selection:p,d3Transition:m,d3Zoom:v,PIXI:b.GLOBALS.PIXI,mix:y.mix,slugid:g.default},Ae={Annotations1dTrack:T.default,Annotations2dTrack:S.default,ArrowheadDomainsTrack:k.default,BarTrack:w.default,BedLikeTrack:x.default,CNVIntervalTrack:E.default,Chromosome2DAnnotations:C.default,Chromosome2DLabels:O.default,ChromosomeGrid:A.default,CombinedTrack:M.default,CrossRule:P.default,DivergentBarTrack:I.default,HeatmapTiledPixiTrack:L.default,Horizontal1dHeatmapTrack:R.default,Horizontal2DDomainsTrack:D.default,HorizontalChromosomeLabels:N.default,HorizontalGeneAnnotationsTrack:j.default,HorizontalHeatmapTrack:H.default,HorizontalLine1DPixiTrack:B.default,HorizontalMultivecTrack:F.default,HorizontalPoint1DPixiTrack:z.default,HorizontalRule:V.default,HorizontalTiled1DPixiTrack:U.default,HorizontalTiledPlot:G.default,HorizontalTrack:Y.default,Id2DTiledPixiTrack:W.default,IdHorizontal1DTiledPixiTrack:q.default,IdVertical1DTiledPixiTrack:X.default,LeftAxisTrack:K.default,MapboxTilesTrack:$.default,MoveableTrack:Z.default,OSMTileIdsTrack:Q.default,OSMTilesTrack:J.default,OverlayTrack:ee.default,PixiTrack:te.default,RasterTilesTrack:ne.default,SVGTrack:re.default,SquareMarkersTrack:ie.default,Tiled1DPixiTrack:oe.default,TiledPixiTrack:ae.default,TopAxisTrack:se.default,Track:le.default,ValueIntervalTrack:ue.default,VerticalRule:ce.default,VerticalTiled1DPixiTrack:he.default,VerticalTrack:de.default,ViewportTracker2D:fe.default,ViewportTracker2DPixi:pe.default,ViewportTrackerHorizontal:me.default,ViewportTrackerVertical:ve.default},Me={ContextMenuItem:ge.default,DataFetcher:ye.default,LruCache:be.default},Pe={ChromosomeInfo:Te.default,SearchField:Se.default},Ie={DataFetcher:ye.default,GBKDataFetcher:ke.default,LocalDataFetcher:we.default,getDataFetcher:xe.default};t.default={chromosomes:Pe,libraries:Oe,tracks:Ae,dataFetchers:Ie,factories:Me,services:_e,utils:_,configs:b,VERSION:"1.11.11"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=c(n(26));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=u.default.nice();return o.uid=c,o.removeViewportChanged=l,o.viewportXDomain=null,o.viewportYDomain=null,s(c,o.viewportChanged.bind(o)),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"draw",value:function(){var e=this.pMain;if(this.viewportXDomain&&this.viewportYDomain){e.clear(),e.lineStyle(1,255,1),e.beginFill(16740363,1);var t=this._xScale(this.viewportXDomain[0]),n=this._yScale(this.viewportYDomain[0]),r=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),i=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(t,n,r,i)}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}}]),t}(c(n(40)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(888);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(44)),i=a(n(94)),o=a(n(18));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){this.size=0,this.limit=e,this._keymap={}}(0,r.default)(s.prototype,{put:function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size+=1},get:function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),t?n:n.value},find:function(e){return this._keymap[e]},keys:function(){return(0,o.default)(this._keymap)},set:function(e,t){var n=this.get(e,!0),r=void 0;return n?(r=n.value,n.value=t):(r=this.put(e,t))&&(r=r.value),r},shift:function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e},remove:function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value},removeAll:function(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}},forEach:function(e,t,n){var r=void 0;if(!0===t?(n=!0,t=void 0):"object"!==(void 0===t?"undefined":(0,i.default)(t))&&(t=this),n)for(r=this.tail;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.head;r;)e.call(t,r.key,r.value,this),r=r.newer},toJSON:function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},toString:function(){for(var e="",t=this.head;t;)e+=String(String(t.key))+":"+String(t.value),(t=t.newer)&&(e+=" < ");return e}}),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AVAILABLE_TRACK_TYPES=void 0;var r=l(n(17)),i=l(n(25)),o=l(n(37)),a=l(n(38)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AVAILABLE_TRACK_TYPES=function(e,t){var n=(0,s.DATATYPE_TO_TRACK_TYPE)(t),l=new a.default((0,o.default)(n).flatMap((function(e){return e}))),u=function(e){var t=new a.default(e);l=new a.default([].concat((0,i.default)(l)).filter((function(e){return e.datatype.filter((function(e){return t.has(e)})).length>0})))},c=!0,h=!1,d=void 0;try{for(var f,p=(0,r.default)(e);!(c=(f=p.next()).done);c=!0){u(f.value)}}catch(e){h=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(h)throw d}}return[].concat((0,i.default)(l))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(439);var o=(0,((r=i)&&r.__esModule?r:{default:r}).default)((function(e,t){return e.concat(t)}),[]);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return function(t){return Array.prototype.forEach.call(t,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(323),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){t.dispatchEvent((0,o.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){return[(0,r.chrToAbs)(e[0],e[1],t),(0,r.chrToAbs)(e[2],e[3],t)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(19),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n,r,i){var a=t.chr,s=t.pos,l=n.chr,u=n.pos,c=[];if(a===l){var h=a,d=Math.floor(s/r),f=Math.min(d+i,Math.ceil(u/r));c.push([h,d,f])}else for(var p=i,m=e.findIndex((function(e){return(0,o.default)(e,1)[0]===a})),v=e.findIndex((function(e){return(0,o.default)(e,1)[0]===l})),g=m;g<=v;g++){var y=void 0,b=void 0,_=(0,o.default)(e[g],2),T=_[0],S=_[1];g<v?(y=g===m?s:0,b=S):(y=0,b=u);var k=Math.floor(y/r),w=Math.min(k+p,Math.ceil(b/r));c.push([T,k,w]),p-=w-k}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.default=function(e,t,n){if(0!==n.length){if(1===n.length)return n[0];var i=n[0],o=void 0!==r.DEFAULT_TRACKS_FOR_DATATYPE[e]?r.DEFAULT_TRACKS_FOR_DATATYPE[e][t]:void 0;return void 0!==o&&(i=n.find((function(e){return e.type===o}))||i),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(440),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.listen(),[e.clientWidth,e.clientHeight]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(18),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=null;return(0,o.default)(e).map((function(t){return e[t]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach((function e(r){return r.uid===t&&(n=r),"combined"===r.type.substr(0,8)&&r.contents.forEach(e),null})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(18),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=e.state.views[t];if(!r)return null;var i=null,a=r.tracks;return(0,o.default)(a).map((function(e){return a[e]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach((function e(t){return t.uid===n&&(i=t),"combined"===t.type.substr(0,8)&&t.contents.forEach(e),null})),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(37),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t?e[t]:(0,o.default)(e)[0];if(r){var i=r.trackRenderer.trackDefObjects[n];return i?i=i.trackObject:(0,o.default)(r.trackRenderer.trackDefObjects).map((function(e){return e.trackObject})).filter((function(e){return e.childTracks})).forEach((function(e){e.createdTracks[n]&&(i=e.createdTracks[n])})),i}t?console.warn("Could't find view with id \""+String(t)+'"'):console.warn("No views available.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(443),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=null;return(0,o.default)(e,(function(e,r){e.uid===t&&(n=r)})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,s=document.createElement("canvas");s.width=t,s.height=n;var l=s.getContext("2d"),u=l.createLinearGradient(r,i,o,a);return e.forEach((function(e){u.addColorStop(e.from,e.color)})),l.fillStyle=u,l.fillRect(0,0,t,n),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){for(var n=e;n&&n!==t&&"HTML"!==n.tagName;)n=n.parentNode;return n===t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return parseInt(e.replace(/^#/,""),16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(18)),i=o(n(256));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n){return n===t||n instanceof i.default&&(0,r.default)(n.createdTracks).map((function(e){return n.createdTracks[e]})).some((function(n){return e(t,n)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return a?e>=n&&e<=r||t>=i&&t<=o:e>=n&&e<=r&&t>=i&&t<=o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.invGudermannian=function(e){return Math.log(Math.tan((e+Math.PI/2)/2))};t.default=function(e,t){var n=e*Math.PI/180;return n=r(n),Math.pow(2,t)*(Math.PI-n)/(2*Math.PI)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(10);t.default=function(e){return(0,i.objVals)(e).map((function(e){return e.chromInfoPath})).forEach((function(e){return r.chromInfo.get(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return Math.pow(2,t)*(e+180)/360}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return e>t?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(63),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){for(var t=o.default,n=0;n<e.length;n++){var r=e[n];r<1e-7&&r>-1e-7||r>t&&(t=r)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return e<t?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(55),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){for(var t=o.default,n=0;n<e.length;n++){var r=e[n];r<1e-7&&r>-1e-7||r<t&&(t=r)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(30),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=+t;if(!(0,o.default)(n))if(1===e.dimension)for(var r=0;r<e.shape[0];++r)e.set(r,n);else for(var i=0;i<e.shape[0];++i)for(var a=0;a<e.shape[1];++a)e.set(i,a,n);else{var s=e.shape[0],l=e.shape[1],u=t.shape[0],c=t.shape[1];if(s!==u||l!==c)return void console.warn("Cannot assign source to target ndarray as the dimensions do not match",s,u,l,c);if(1===e.dimension)for(var h=0;h<e.shape[0];++h)e.set(h,t.get(h));else for(var d=0;d<e.shape[0];++d)for(var f=0;f<e.shape[1];++f)e.set(d,f,t.get(d,f))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(136)),i=o(n(445));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return 1===e.shape.length?e:(0,r.default)((0,i.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.split("."),n=t.slice(1).join("").length;return+t.join("")/Math.pow(10,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(18),o=(r=i)&&r.__esModule?r:{default:r},a=n(10);t.default=function(e){return(0,a.map)((function(t){return e[t]}))((0,o.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return e||t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n={},r={},i=0,o=0;o<e.length;o++){var a=Number(e[o][1]);i+=a;var s={id:o,chr:e[o][0],pos:i-a};t.push(s),r[s.chr]=s,n[e[o][0]]=a}return{cumPositions:t,chrPositions:r,totalLength:i,chromLengths:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.pixiTextToSvg=function(e){var t=document.createElement("g"),n=document.createElement("text");return 0===e.anchor.x?n.setAttribute("text-anchor","start"):1===e.anchor.x?n.setAttribute("text-anchor","end"):n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",e.style.fontFamily),n.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform","scale("+String(e.scale.x)+",1)"),n.setAttribute("fill",e.style.fill),n.innerHTML=e.text,t.appendChild(n),t.setAttribute("transform","translate("+String(e.x)+","+String(e.y)+")scale("+String(e.scale.x)+",1)"),t};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){try{var t=e.split(".");return function(e){var n=e;return t.forEach((function(e){n=n[e]})),n}}catch(e){return}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments[8],c=a?o:i,h=a?i:o,d=a?l:s,f=a?s:l,p=Math.max(0,+c[0]||0),m=Math.max(0,+c[1]||0),v=Math.max(0,+h[0]||0),g=Math.max(0,+h[1]||0),y=[];ArrayBuffer.isView(u)||console.warn("Not supported yet");try{for(var b=new u.constructor(u.length),_=0+f,T=v;T<g;T++)b.set(e.slice(T*t+p,T*t+m),d+_*n),_+=1;var S=a?(0,r.accessorTransposition)(n,n):void 0;y=(0,r.addArrays)(u,b,S)}catch(e){}return y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){return[r.chrPositions[e].pos+ +t,r.chrPositions[e].pos+ +n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(221),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=new RegExp("(\\s|^)"+String(t)+"(\\s|$)");if("http://www.w3.org/2000/svg"===e.namespaceURI){var r=e.getAttribute("class")||"";e.setAttribute("class",r.replace(n," "))}else e.classList?e.classList.remove(t):(0,o.default)(e,t)&&(e.className=e.className.replace(n," "))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.toString(16);return 1===t.length?"0"+String(t):t};t.default=function(e,t,n){return"#"+String(r(e))+String(r(t))+String(r(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return[e.invert((e.range()[0]+e.range()[1])/2),t.invert((t.range()[0]+t.range()[1])/2),e.invert(1)-e.invert(0)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesToGenomeLoci=void 0;var r=o(n(25)),i=o(n(326));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.scalesToGenomeLoci=function(e,t,n){if(null!==n&&e&&t){var o=e.domain()[0],a=e.domain()[1],s=t.domain()[0],l=t.domain()[1];return[].concat((0,r.default)((0,i.default)(o,a,n)),(0,r.default)((0,i.default)(s,l,n)))}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(134),i=n(10),o=n(11),a=function(e,t,n,a,s,l,u,c,h){e.publish("app.animateOnMouseMove",!0);var d=n.mousePositionColor?(0,i.hexStrToInt)(n.mousePositionColor):11184810,f=n.mousePositionAlpha||1,p=new o.GLOBALS.PIXI.Graphics,m=function(){p.clear()},v=function(e,t,n){if(n||m(),p.lineStyle(1,d,f),t){var r=c?s()[0]:0;p.moveTo(0,e),p.lineTo(l()[0]+r,e)}else{var i=c?s()[1]:0;p.moveTo(e,0),p.lineTo(e,l()[1]+i)}},g=function(e){if(e.noHoveredTracks)return m(),p;var t=void 0,n=void 0;e.isFromVerticalTrack?(t=e.dataY,n=e.dataY):(t=e.dataX,n=e.isFrom2dTrack?e.dataY:e.dataX);var r=c?s():[0,0],i=u()?a()[0](n)+r[1]:a()[0](t)+r[0];return v(i),c&&v(a()[1](n)+r[1],!0,!0),p};return t.push(e.subscribe("app.mouseMove",g)),t.push(e.subscribe("app.mouseLeave",m)),t.push(e.subscribe("blur",m)),h&&t.push(r.globalPubSub.subscribe("higlass.mouseMove",g)),p};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t?e.pMasked:e.pForeground||e.pMain,i=function(){return[e.xScale(),e.yScale()]},o=a(e.pubSub,e.pubSubs,e.options,i,e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,n);return r.addChild(o),function(){r.removeChild(o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return function(t){return Array.prototype.some.call(t,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return e+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.svgLine=function(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",n),a.setAttribute("y1",t),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r=void 0,i=0,o=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=function(){i>0&&(e.apply(void 0,o),i=0)};clearTimeout(r),r=setTimeout(s,n)};o.cancel=function(){clearTimeout(r),r=null},o.immediate=function(){e.apply(void 0,arguments)};var a=!1;return function(n){for(var r=arguments.length,s=Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];a?i++:(e.apply(void 0,s),o.apply(void 0,s),a=!0,i=0,setTimeout((function(){a=!1}),t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,r.width,r.height);var o=new ImageData(e,r.width,r.height);return i.putImageData(o,0,0),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(62),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new o.default((function(t){return setTimeout(t,e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.tracks)return 0;var t=0;return e.tracks.top&&(t+=e.tracks.top.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.center&&(t+=e.tracks.center.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.bottom&&(t+=e.tracks.bottom.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(e||"").replace(/\/$/,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return function(i){var o=255;return i>r&&(o=Math.max(0,Math.min(255,Math.floor(e(i+n))))),t[o]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)e[n].contents?t=t.concat(e[n].contents):t.push(e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(942),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){e.sort((function(e,t){return t.to-t.from-(e.to-e.from)}));for(var t=[[]],n=[new o.default],r=0;r<e.length;r++){for(var i=!1,a=0;a<t.length;a++){var s=n[a],l=[+e[r].from,+e[r].to];if(!s.intersects(l)){s.add(l),t[a].push(e[r]),i=!0;break}}if(!i){var u=new o.default;u.add([e[r].from,e[r].to]),t.push([e[r]]),n.push(u)}}return t}},function(e,t,n){"use strict";function r(e,t,n,r){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}function i(){this.root=null}function o(e,t,n){var i=new r(n[0],n[1]);if(i.max=n[1],i.parentNode=e,e[t]=i,e.max<n[1])for(;i;)i.max<n[1]&&(i.max=n[1]),i=i.parentNode}function a(e,t){e.interval[0]>t[0]?e.left?a(e.left,t):o(e,"left",t):e.right?a(e.right,t):o(e,"right",t)}function s(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;var n=!1,r=void 0;return["left","right"].forEach((function(i){(r=t[i])&&r.max>e&&(n=n||s(e,r))})),n}function l(e,t){if(!t)return!1;if(n=t.interval,r=e,n[0]===r[0]&&n[1]===r[1]||n[0]<r[0]&&n[1]>r[0]||n[0]<r[1]&&n[1]>r[1]||r[0]<n[0]&&r[1]>n[0]||r[0]<n[1]&&r[1]>n[1])return!0;var n,r,i=!1,o=void 0;return["left","right"].forEach((function(n){(o=t[n])&&o.max>=e[0]&&(i=i||l(e,o))})),i}function u(e){return e?1+Math.max(u(e.left),u(e.right)):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.add=function(e){if(!this.root)return this.root=new r(e[0],e[1]),void(this.root.max=e[1]);a(this.root,e)},i.prototype.contains=function(e){return s(e,this.root)},i.prototype.intersects=function(e){return l(e,this.root)},i.prototype.height=function(){return u(this.root)},i.prototype.findMax=function(e){for(var t=[e],n=void 0,r=-1/0,i=void 0;t.length;)(n=t.pop()).left&&t.push(n.left),n.right&&t.push(n.right),n.interval[1]>r&&(r=n.interval[1],i=n);return i},i.prototype._removeHelper=function(e,t){if(t)if(t.interval[0]===e[0]&&t.interval[1]===e[1]){if(t.left&&t.right){for(var n=t.left;n.left;)n=n.left;var r=n.interval;n.interval=t.interval,t.interval=r,this._removeHelper(n.interval,t)}else{var i="left";t.right&&(i="right");var o=t.parentNode;o?(o.left===t?o.left=t[i]:o.right=t[i],t[i]&&(t[i].parentNode=o)):(this.root=t[i],this.root&&(this.root.parentNode=null))}var a=t.parentNode;if(a)for(var s=this.findMax(a),l=s.interval[1];s;)s.max===t.interval[1]?(s.max=l,s=s.parentNode):s=!1}else this._removeHelper(e,t.left),this._removeHelper(e,t.right)},i.prototype.remove=function(e){return this._removeHelper(e,this.root)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(17)),i=l(n(37)),o=l(n(55)),a=n(157),s=l(n(179));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},c=function(e,t,n){var r,i,a,s,l,u;if(void 0===n&&(n=o.default),e.resolutions)return r=e.resolutions,i=t,e.min_pos[0],e.max_pos[0],a=r.map((function(e){return+e})).sort((function(e,t){return t-e})),s=i.range()[1]-i.range()[0],l=a.map((function(e){return(i.domain()[1]-i.domain()[0])/e})).map((function(e){return e/s})),0===(u=l.filter((function(e){return e<1}))).length?0:l.indexOf(u[u.length-1]);var c=function(e,t,n,r){var i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2)),s=Math.round(Math.log(o)/Math.LN2)+a,l=0;return r&&(l=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),s+l}(t,e.min_pos[0],e.max_pos[0],e.bins_per_dimension||e.tile_size),h=Math.min(c,n);return Math.max(h,0)};var h={calculate1DVisibleTiles:function(e,t){if(!e)return[];var n=c(e,t,e.max_zoom);if(e.resolutions){var r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.MAX_VALUE,i=1e-7,o=e*(arguments.length>4&&void 0!==arguments[4]?arguments[4]:256),a=20,s=Math.max(0,Math.floor((t.domain()[0]-n)/o)),l=Math.ceil(Math.min(r,t.domain()[1]-n-i)/o),c=u(s,l);return c.length>a&&(console.warn("Too many visible tiles: "+String(c.length)+" truncating to "+a),c=c.slice(0,a)),c}(e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[n],t,e.min_pos[0],e.max_pos[0]);return r.map((function(e){return[n,e]}))}var i=function(e,t,n,r,i,o){var a=Math.min(e,i),s=o/Math.pow(2,a);return u(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((t.domain()[1]-n-1e-7)/s)))}(n,t,e.min_pos[0],e.max_pos[0],e.max_zoom,e.max_width);return i.map((function(e){return[n,e]}))},calculate1DZoomLevel:c,drawAxis:function(e,t){if(e.axis||(e.axis=new s.default(e),e.pBase.addChild(e.axis.pAxis)),e.options.axisPositionVertical||e.options.axisPositionHorizontal)if(e.options.axisPositionVertical&&"hidden"===e.options.axisPositionVertical)e.axis.clearAxis();else if(e.options.axisPositionHorizontal&&"hidden"===e.options.axisPositionHorizontal)e.axis.clearAxis();else{var n=e.options.axisMargin||0;"left"===e.options.axisPositionHorizontal||"top"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):"outsideLeft"===e.options.axisPositionHorizontal||"outsideTop"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"right"===e.options.axisPositionHorizontal||"bottom"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"outsideRight"!==e.options.axisPositionHorizontal&&"outsideBottom"!==e.options.axisPositionVertical||(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))}else e.axis.clearAxis()},movedY:function(e,t){var n=e.valueScaleTransform,r=n.y,o=n.k;r+t/o>-(o-1)*e.dimensions[1]&&r+t/o<0&&(e.valueScaleTransform=n.translate(0,t/o)),(0,i.default)(e.fetchedTiles).forEach((function(t){t.graphics.position.y=e.valueScaleTransform.y})),e.animate()},getTilePosAndDimensions:function(e,t){var n=+t.split(".")[0],r=+t.split(".")[1],i=e.max_width,o=e.min_pos[0],a=i/Math.pow(2,n);return{tileX:o+r*a,tileWidth:a}},stretchRects:function(e,t){(0,i.default)(e.fetchedTiles).forEach((function(n){if(n.drawnAtScale){var i=n.drawnAtScale.range(),o=e._xScale.range();if(i[0]===o[0]&&i[1]===o[1]){var a=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(a>2||a<.5)e.renderTile(n);else{var s=e._xScale.domain().map(n.drawnAtScale)[0],l=!0,u=!1,c=void 0;try{for(var h,d=(0,r.default)(t);!(l=(h=d.next()).done);l=!0){var f=h.value;f(n).scale.x=a,f(n).x=-s*a}}catch(e){u=!0,c=e}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}}}else e.renderTile(n)}}))},zoomedY:function(e,t,n,r){var i=n.k,o=n.y,s=(e-o)/i,l=Math.max(i/t,1),u=i*s+o-l*s;return u=Math.max(u,-(l-1)*r),u=Math.min(u,0),a.zoomIdentity.translate(0,u).scale(l)}};t.default=h},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.removeHGComponent=t.mountHGComponent=t.waitForTilesLoaded=t.isWaitingOnTiles=t.waitForJsonComplete=t.waitForTransitionsFinished=t.areTransitionsActive=t.changeOptions=void 0;var r=h(n(34)),i=h(n(17)),o=h(n(1)),a=h(n(42)),s=n(945),l=n(24),u=n(446),c=h(n(232));function h(e){return e&&e.__esModule?e:{default:e}}t.changeOptions=function(e,t,n,o){var a=!0,s=!1,l=void 0;try{for(var u,c=(0,i.default)(e.instance().iterateOverTracks());!(a=(u=c.next()).done);a=!0){var h=u.value,d=h.viewId,f=h.trackId,p=h.track;d===t&&f===n&&(p.options=(0,r.default)({},p.options,o))}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}e.setState(e.instance().state)};var d=t.areTransitionsActive=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value;if((0,u.getTrackRenderer)(e,s.viewId,s.trackId).activeTransitions>0)return!0}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1},f=(t.waitForTransitionsFinished=function e(t,n){d(t)?setTimeout((function(){e(t,n)}),100):n()},t.waitForJsonComplete=function e(t){l.requestsInFlight>0?setTimeout((function(){return e(t)}),100):t()}),p=t.isWaitingOnTiles=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value,l=(0,u.getTrackObjectFromHGC)(e,s.viewId,s.trackId);if(s.track.server||s.track.tilesetUid||s.track.data&&"divided"===s.track.data.type){if(!(s.track.data&&"divided"===s.track.data.type||s.track.server&&s.track.tilesetUid))throw Error('"server" and "tilesetUid" belong together');if(l.originalTrack&&(l=l.originalTrack),!l.tilesetInfo&&!l.chromInfo)return!0;if(l.fetching&&l.fetching.size)return!0}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1},m=t.waitForTilesLoaded=function e(t,n){p(t)?setTimeout((function(){e(t,n)}),100):n()};t.mountHGComponent=function(t,n,r,i,a){n&&(n.unmount(),n.detach()),t&&e.document.body.removeChild(t);var l=a&&a.style||"width:800px; background-color: lightgreen;",u=a&&a.bounded||!1,h=e.document.createElement("div");e.document.body.appendChild(h),h.setAttribute("style",l),h.setAttribute("id","simple-hg-component");var d=(0,s.mount)(o.default.createElement(c.default,{options:{bounded:u},viewConfig:r}),{attachTo:h});return d.update(),f((function(){if(a&&a.extendedDelay){m(d.instance(),(function(){return setTimeout((function(){i()}),1e3)}))}else m(d.instance(),i)})),[h,d]},t.removeHGComponent=function(e){e&&(a.default.unmountComponentAtNode(e),document.body.removeChild(e))}}).call(this,n(27))},function(e,t,n){"use strict";var r=c(n(447)),i=c(n(515)),o=c(n(510)),a=c(n(1074)),s=c(n(1075)),l=c(n(1076)),u=n(315);function c(e){return e&&e.__esModule?e:{default:e}}e.exports={render:l.default,shallow:s.default,mount:a.default,ShallowWrapper:i.default,ReactWrapper:r.default,configure:u.merge,EnzymeAdapter:o.default}},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(448),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(r&&e.length>0)for(var v=0;v<e.length;++v)d.push(String(v));else for(var g in e)p&&"prototype"===g||!i.call(e,g)||d.push(String(g));if(l)for(var y=function(e){if("undefined"==typeof window||!f)return h(e);try{return h(e)}catch(e){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!i.call(e,c[b])||d.push(c[b]);return d}}e.exports=r},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||o.call(t)!==a)throw new TypeError(r+t);for(var n,s=i.call(arguments,1),l=function(){if(this instanceof n){var r=t.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(i.call(arguments)))},u=Math.max(0,t.length-s.length),c=[],h=0;h<u;h++)c.push("$"+h);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},function(e,t,n){"use strict";var r=n(52),i=n(451);e.exports=function(){var e=i();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},function(e){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){var r=n(458),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach((function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){var r=n(457),i=n(101);function o(e,t){this.init(e,t)}function a(e,t){return i.getElementsByTagName(e,t,!0)}function s(e,t){return i.getElementsByTagName(e,t,!0,1)[0]}function l(e,t,n){return i.getText(i.getElementsByTagName(e,t,n,1)).trim()}function u(e,t,n,r,i){var o=l(n,r,i);o&&(e[t]=o)}n(58)(o,r),o.prototype.init=r;var c=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};o.prototype.onend=function(){var e,t,n={},i=s(c,this.dom);i&&("feed"===i.name?(t=i.children,n.type="atom",u(n,"id","id",t),u(n,"title","title",t),(e=s("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),u(n,"description","subtitle",t),(e=l("updated",t))&&(n.updated=new Date(e)),u(n,"author","email",t,!0),n.items=a("entry",t).map((function(e){var t,n={};return u(n,"id","id",e=e.children),u(n,"title","title",e),(t=s("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=l("summary",e)||l("content",e))&&(n.description=t),(t=l("updated",e))&&(n.pubDate=new Date(t)),n}))):(t=s("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=l("lastBuildDate",t))&&(n.updated=new Date(e)),u(n,"author","managingEditor",t,!0),n.items=a("item",i.children).map((function(e){var t,n={};return u(n,"id","guid",e=e.children),u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=l("pubDate",e))&&(n.pubDate=new Date(t)),n})))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=o},function(e,t,n){var r=n(123),i=n(299),o=r.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map((function(e){return i(e,t)})).join(""):""},getOuterHTML:i,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):o(t)||t.type===r.CDATA?e(t.children):t.type===r.Text?t.data:""}}},function(e,t,n){var r=n(954),i=n(955);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=s(n(298)),i=l(r);t.XML=f(r,i);var o=s(n(297)),a=l(o);function s(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function l(e){var t=[],n=[];return Object.keys(e).forEach((function(e){1===e.length?t.push("\\"+e):n.push(e)})),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=f(o,a);var u=/[^\0-\x7F]/g,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function d(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(c,d).replace(u,h)}}var p=l(r);t.escape=function(e){return e.replace(p,h).replace(c,d).replace(u,h)}},function(e,t,n){var r=n(297),i=n(456),o=n(298),a=n(455),s=u(o),l=u(r);function u(e){var t=Object.keys(e).join("|"),n=d(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var c=function(){for(var e=Object.keys(i).sort(h),t=Object.keys(r).sort(h),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=d(r);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}();function h(e,t){return e<t?1:-1}function d(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?a(parseInt(t.substr(3),16)):a(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:c,HTMLStrict:l}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){var r=n(123).isTag;function i(e,t,n,r){for(var o,a=[],s=0,l=t.length;s<l&&!(e(t[s])&&(a.push(t[s]),--r<=0))&&(o=t[s].children,!(n&&o&&o.length>0&&(o=i(e,o,n,r),a=a.concat(o),(r-=o.length)<=0)));s++);return a}e.exports={filter:function(e,t,n,r){Array.isArray(t)||(t=[t]);"number"==typeof r&&isFinite(r)||(r=1/0);return i(e,t,!1!==n,r)},find:i,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){for(var i=null,o=0,a=n.length;o<a&&!i;o++)r(n[o])&&(t(n[o])?i=n[o]:n[o].children.length>0&&(i=e(t,n[o].children)));return i},existsOne:function e(t,n){for(var i=0,o=n.length;i<o;i++)if(r(n[i])&&(t(n[i])||n[i].children.length>0&&e(t,n[i].children)))return!0;return!1},findAll:function e(t,n){for(var i=[],o=0,a=n.length;o<a;o++)r(n[o])&&(t(n[o])&&i.push(n[o]),n[o].children.length>0&&(i=i.concat(e(t,n[o].children))));return i}}},function(e,t,n){var r=n(123),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var o={tag_name:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function a(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var i=Object.keys(e).map((function(t){var n=e[t];return t in o?o[t](n):a(t,n)}));return 0===i.length?[]:this.filter(i.reduce(s),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(a("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(o.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var n=1,r=2,i=4,o=8,a=16,s=t.compareDocumentPosition=function(e,t){var s,l,u,c,h,d,f=[],p=[];if(e===t)return 0;for(s=e;s;)f.unshift(s),s=s.parent;for(s=t;s;)p.unshift(s),s=s.parent;for(d=0;f[d]===p[d];)d++;return 0===d?n:(u=(l=f[d-1]).children,c=f[d],h=p[d],u.indexOf(c)>u.indexOf(h)?l===t?i|a:i:l===e?r|o:r)};t.uniqueSort=function(e){var t,n,o=e.length;for(e=e.slice();--o>-1;)t=e[o],(n=e.indexOf(t))>-1&&n<o&&e.splice(o,1);return e.sort((function(e,t){var n=s(e,t);return n&r?-1:n&i?1:0})),e}},function(e,t,n){e.exports=i;var r=n(459);function i(e){r.call(this,new o(this),e)}function o(e){this.scope=e}n(58)(i,r),i.prototype.readable=!0;var a=n(148).EVENTS;Object.keys(a).forEach((function(e){if(0===a[e])o.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===a[e])o.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==a[e])throw Error("wrong number of arguments!");o.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}}))},function(e,t){},function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}}))},function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}})),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,n){"use strict";var r=n(460),i=n(464);t.parse=function(e,t){return new r(t).parse(e)},t.parseFragment=function(e,t,n){return"string"==typeof e&&(n=t,t=e,e=null),new r(n).parseFragment(t,e)},t.serialize=function(e,t){return new i(e,t).serialize()},t.treeAdapters={default:n(301),htmlparser2:n(973)},t.ParserStream=n(465),t.PlainTextConversionStream=n(985),t.SerializerStream=n(986),t.SAXParser=n(987)},function(e,t,n){"use strict";var r=n(149).CODE_POINTS;var i=e.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536};i.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},i.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},i.prototype._processHighRangeCodePoint=function(e){if(this.pos!==this.lastCharPos){var t=this.html.charCodeAt(this.pos+1);i=t,(n=e)>=55296&&n<=56319&&i>=56320&&i<=57343&&(this.pos++,e=function(e,t){return 1024*(e-55296)+9216+t}(e,t),this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,r.EOF;var n,i;return e},i.prototype.write=function(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t},i.prototype.insertHtmlAtCurrentPos=function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},i.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),r.EOF;var e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===r.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===r.CARRIAGE_RETURN?(this.skipNextNewLine=!0,r.LINE_FEED):(this.skipNextNewLine=!1,e>=55296?this._processHighRangeCodePoint(e):e)},i.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},function(e,t,n){"use strict";e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(e,t,n){"use strict";var r=n(64),i=r.TAG_NAMES,o=r.NAMESPACES;function a(e){switch(e.length){case 1:return e===i.P;case 2:return e===i.RB||e===i.RP||e===i.RT||e===i.DD||e===i.DT||e===i.LI;case 3:return e===i.RTC;case 6:return e===i.OPTION;case 8:return e===i.OPTGROUP||e===i.MENUITEM}return!1}function s(e,t){switch(e.length){case 2:if(e===i.TD||e===i.TH)return t===o.HTML;if(e===i.MI||e===i.MO||e===i.MN||e===i.MS)return t===o.MATHML;break;case 4:if(e===i.HTML)return t===o.HTML;if(e===i.DESC)return t===o.SVG;break;case 5:if(e===i.TABLE)return t===o.HTML;if(e===i.MTEXT)return t===o.MATHML;if(e===i.TITLE)return t===o.SVG;break;case 6:return(e===i.APPLET||e===i.OBJECT)&&t===o.HTML;case 7:return(e===i.CAPTION||e===i.MARQUEE)&&t===o.HTML;case 8:return e===i.TEMPLATE&&t===o.HTML;case 13:return e===i.FOREIGN_OBJECT&&t===o.SVG;case 14:return e===i.ANNOTATION_XML&&t===o.MATHML}return!1}var l=e.exports=function(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t};l.prototype._indexOf=function(e){for(var t=-1,n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t},l.prototype._isInTemplate=function(){return this.currentTagName===i.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===o.HTML},l.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},l.prototype.push=function(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},l.prototype.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},l.prototype.replace=function(e,t){var n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()},l.prototype.insertAfter=function(e,t){var n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()},l.prototype.popUntilTagNamePopped=function(e){for(;this.stackTop>-1;){var t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===o.HTML)break}},l.prototype.popUntilElementPopped=function(e){for(;this.stackTop>-1;){var t=this.current;if(this.pop(),t===e)break}},l.prototype.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.H1||e===i.H2||e===i.H3||e===i.H4||e===i.H5||e===i.H6&&t===o.HTML)break}},l.prototype.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.TD||e===i.TH&&t===o.HTML)break}},l.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},l.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==i.TABLE&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==i.TBODY&&this.currentTagName!==i.TFOOT&&this.currentTagName!==i.THEAD&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==i.TR&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.remove=function(e){for(var t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}},l.prototype.tryPeekProperlyNestedBodyElement=function(){var e=this.items[1];return e&&this.treeAdapter.getTagName(e)===i.BODY?e:null},l.prototype.contains=function(e){return this._indexOf(e)>-1},l.prototype.getCommonAncestor=function(e){var t=this._indexOf(e);return--t>=0?this.items[t]:null},l.prototype.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===i.HTML},l.prototype.hasInScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(s(n,r))return!1}return!0},l.prototype.hasNumberedHeaderInScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===i.H1||t===i.H2||t===i.H3||t===i.H4||t===i.H5||t===i.H6)&&n===o.HTML)return!0;if(s(t,n))return!1}return!0},l.prototype.hasInListItemScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if((n===i.UL||n===i.OL)&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInButtonScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(n===i.BUTTON&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInTableScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n===i.TABLE||n===i.TEMPLATE||n===i.HTML)return!1}}return!0},l.prototype.hasTableBodyContextInTableScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===o.HTML){if(t===i.TBODY||t===i.THEAD||t===i.TFOOT)return!0;if(t===i.TABLE||t===i.HTML)return!1}}return!0},l.prototype.hasInSelectScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n!==i.OPTION&&n!==i.OPTGROUP)return!1}}return!0},l.prototype.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},l.prototype.generateImpliedEndTagsWithExclusion=function(e){for(;a(this.currentTagName)&&this.currentTagName!==e;)this.pop()}},function(e,t,n){"use strict";var r=e.exports=function(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null};r.MARKER_ENTRY="MARKER_ENTRY",r.ELEMENT_ENTRY="ELEMENT_ENTRY",r.prototype._getNoahArkConditionCandidates=function(e){var t=[];if(this.length>=3)for(var n=this.treeAdapter.getAttrList(e).length,i=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e),a=this.length-1;a>=0;a--){var s=this.entries[a];if(s.type===r.MARKER_ENTRY)break;var l=s.element,u=this.treeAdapter.getAttrList(l);this.treeAdapter.getTagName(l)===i&&this.treeAdapter.getNamespaceURI(l)===o&&u.length===n&&t.push({idx:a,attrs:u})}return t.length<3?[]:t},r.prototype._ensureNoahArkCondition=function(e){var t=this._getNoahArkConditionCandidates(e),n=t.length;if(n){for(var r=this.treeAdapter.getAttrList(e),i=r.length,o=Object.create(null),a=0;a<i;a++){var s=r[a];o[s.name]=s.value}for(a=0;a<i;a++)for(var l=0;l<n;l++){var u=t[l].attrs[a];if(o[u.name]!==u.value&&(t.splice(l,1),n--),t.length<3)return}for(a=n-1;a>=2;a--)this.entries.splice(t[a].idx,1),this.length--}},r.prototype.insertMarker=function(){this.entries.push({type:r.MARKER_ENTRY}),this.length++},r.prototype.pushElement=function(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:r.ELEMENT_ENTRY,element:e,token:t}),this.length++},r.prototype.insertElementAfterBookmark=function(e,t){for(var n=this.length-1;n>=0&&this.entries[n]!==this.bookmark;n--);this.entries.splice(n+1,0,{type:r.ELEMENT_ENTRY,element:e,token:t}),this.length++},r.prototype.removeEntry=function(e){for(var t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}},r.prototype.clearToLastMarker=function(){for(;this.length;){var e=this.entries.pop();if(this.length--,e.type===r.MARKER_ENTRY)break}},r.prototype.getElementEntryInScopeWithTagName=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===r.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(n.element)===e)return n}return null},r.prototype.getElementEntry=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===r.ELEMENT_ENTRY&&n.element===e)return n}return null}},function(e,t,n){"use strict";var r=n(201),i=n(124),o=n(461),a=n(462),s=n(972),l=n(64),u=n(71).inherits,c=l.TAG_NAMES,h=e.exports=function(e){r.call(this,e),this.parser=e,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};u(h,r),h.prototype._setStartLocation=function(e){this.lastStartTagToken?(e.__location=Object.create(this.lastStartTagToken.location),e.__location.startTag=this.lastStartTagToken.location):e.__location=null},h.prototype._setEndLocation=function(e,t){var n=e.__location;if(n)if(t.location){var r=t.location,o=this.parser.treeAdapter.getTagName(e);t.type===i.END_TAG_TOKEN&&o===t.tagName?(n.endTag=Object.create(r),n.endOffset=r.endOffset):n.endOffset=r.startOffset}else t.type===i.EOF_TOKEN&&(n.endOffset=this.posTracker.offset)},h.prototype._getOverriddenMethods=function(e,t){return{_bootstrap:function(n,r){t._bootstrap.call(this,n,r),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null,e.posTracker=new a(this.tokenizer.preprocessor),new o(this.tokenizer),new s(this.openElements,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop:function(n){t._runParsingLoop.call(this,n);for(var r=this.openElements.stackTop;r>=0;r--)e._setEndLocation(this.openElements.items[r],e.currentToken)},_processTokenInForeignContent:function(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken:function(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===i.END_TAG_TOKEN&&(n.tagName===c.HTML||n.tagName===c.BODY&&this.openElements.hasInScope(c.BODY)))for(var r=this.openElements.stackTop;r>=0;r--){var o=this.openElements.items[r];if(this.treeAdapter.getTagName(o)===n.tagName){e._setEndLocation(o,n);break}}},_setDocumentType:function(e){t._setDocumentType.call(this,e);for(var n=this.treeAdapter.getChildNodes(this.document),r=n.length,i=0;i<r;i++){var o=n[i];if(this.treeAdapter.isDocumentTypeNode(o)){o.__location=e.location;break}}},_attachElementToTree:function(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement:function(n,r){e.lastStartTagToken=n,t._appendElement.call(this,n,r)},_insertElement:function(n,r){e.lastStartTagToken=n,t._insertElement.call(this,n,r)},_insertTemplate:function(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n),this.treeAdapter.getTemplateContent(this.openElements.current).__location=null},_insertFakeRootElement:function(){t._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(e,n){t._appendCommentNode.call(this,e,n);var r=this.treeAdapter.getChildNodes(n);r[r.length-1].__location=e.location},_findFosterParentingLocation:function(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters:function(n){t._insertCharacters.call(this,n);var r=this._shouldFosterParentOnInsertion(),i=r&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,o=this.treeAdapter.getChildNodes(i),a=r&&e.lastFosterParentingLocation.beforeElement?o.indexOf(e.lastFosterParentingLocation.beforeElement)-1:o.length-1,s=o[a];s.__location?s.__location.endOffset=n.location.endOffset:s.__location=n.location}}}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";var r=n(201),i=n(71).inherits,o=e.exports=function(e,t){r.call(this,e),this.onItemPop=t.onItemPop};i(o,r),o.prototype._getOverriddenMethods=function(e,t){return{pop:function(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement:function(){for(var n=this.stackTop;n>0;n--)e.onItemPop(this.items[n]);t.popAllUpToHtmlElement.call(this)},remove:function(n){e.onItemPop(this.current),t.remove.call(this,n)}}}},function(e,t,n){"use strict";var r=n(303),i=n(64).DOCUMENT_MODE,o={element:1,text:3,cdata:4,comment:8},a={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},s=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};s.prototype={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return o[this.type]||o.element}},Object.keys(a).forEach((function(e){var t=a[e];Object.defineProperty(s.prototype,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})),t.createDocument=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":i.NO_QUIRKS})},t.createDocumentFragment=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},t.createElement=function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=Object.create(null),a=0;a<n.length;a++){var l=n[a].name;r[l]=n[a].value,i[l]=n[a].namespace,o[l]=n[a].prefix}return new s({type:"script"===e||"style"===e?e:"tag",name:e,namespace:t,attribs:r,"x-attribsNamespace":i,"x-attribsPrefix":o,children:[],parent:null,prev:null,next:null})},t.createCommentNode=function(e){return new s({type:"comment",data:e,parent:null,prev:null,next:null})};var l=function(e){return new s({type:"text",data:e,parent:null,prev:null,next:null})},u=t.appendChild=function(e,t){var n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},c=t.insertBefore=function(e,t,n){var r=e.children.indexOf(n),i=n.prev;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e};t.setTemplateContent=function(e,t){u(e,t)},t.getTemplateContent=function(e){return e.children[0]},t.setDocumentType=function(e,t,n,i){for(var o=r.serializeContent(t,n,i),a=null,l=0;l<e.children.length;l++)if("directive"===e.children[l].type&&"!doctype"===e.children[l].name){a=e.children[l];break}a?(a.data=o,a["x-name"]=t,a["x-publicId"]=n,a["x-systemId"]=i):u(e,new s({type:"directive",name:"!doctype",data:o,"x-name":t,"x-publicId":n,"x-systemId":i}))},t.setDocumentMode=function(e,t){e["x-mode"]=t},t.getDocumentMode=function(e){return e["x-mode"]},t.detachNode=function(e){if(e.parent){var t=e.parent.children.indexOf(e),n=e.prev,r=e.next;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},t.insertText=function(e,t){var n=e.children[e.children.length-1];n&&"text"===n.type?n.data+=t:u(e,l(t))},t.insertTextBefore=function(e,t,n){var r=e.children[e.children.indexOf(n)-1];r&&"text"===r.type?r.data+=t:c(e,l(t),n)},t.adoptAttributes=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].name;void 0===e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},t.getFirstChild=function(e){return e.children[0]},t.getChildNodes=function(e){return e.children},t.getParentNode=function(e){return e.parent},t.getAttrList=function(e){var t=[];for(var n in e.attribs)t.push({name:n,value:e.attribs[n],namespace:e["x-attribsNamespace"][n],prefix:e["x-attribsPrefix"][n]});return t},t.getTagName=function(e){return e.name},t.getNamespaceURI=function(e){return e.namespace},t.getTextNodeContent=function(e){return e.data},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e["x-name"]},t.getDocumentTypeNodePublicId=function(e){return e["x-publicId"]},t.getDocumentTypeNodeSystemId=function(e){return e["x-systemId"]},t.isTextNode=function(e){return"text"===e.type},t.isCommentNode=function(e){return"comment"===e.type},t.isDocumentTypeNode=function(e){return"directive"===e.type&&"!doctype"===e.name},t.isElementNode=function(e){return!!e.attribs}},function(e,t){},function(e,t,n){"use strict";var r=n(200).Buffer,i=n(976);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(978),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(27))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},d.clearImmediate=f}function f(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(27),n(150))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(27))},function(e,t,n){"use strict";e.exports=o;var r=n(469),i=n(151);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(58),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(305)},function(e,t,n){e.exports=n(102)},function(e,t,n){e.exports=n(304).Transform},function(e,t,n){e.exports=n(304).PassThrough},function(e,t,n){"use strict";var r=n(465),i=n(71).inherits,o=n(64).TAG_NAMES;i(e.exports=function(e){r.call(this,e),this.parser._insertFakeElement(o.HTML),this.parser._insertFakeElement(o.HEAD),this.parser.openElements.pop(),this.parser._insertFakeElement(o.BODY),this.parser._insertFakeElement(o.PRE),this.parser.treeAdapter.insertText(this.parser.openElements.current,"\n"),this.parser.switchToPlaintextParsing()},r)},function(e,t,n){"use strict";var r=n(202).Readable,i=n(71).inherits,o=n(464),a=e.exports=function(e,t){r.call(this),this.serializer=new o(e,t),Object.defineProperty(this.serializer,"html",{get:function(){return""},set:this.push.bind(this)})};i(a,r),a.prototype._read=function(){this.serializer.serialize(),this.push(null)}},function(e,t,n){"use strict";var r=n(202).Transform,i=n(988),o=n(71).inherits,a=n(124),s=n(461),l=n(989),u=n(302),c={locationInfo:!1},h=e.exports=function(e){r.call(this),this.options=u(c,e),this.tokenizer=new a(e),this.options.locationInfo&&new s(this.tokenizer),this.parserFeedbackSimulator=new l(this.tokenizer),this.pendingText=null,this.currentTokenLocation=void 0,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new i)};o(h,r),h.prototype._transform=function(e,t,n){this.stopped||(this.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()),this.push(e),n()},h.prototype._flush=function(e){e()},h.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e,t,n)},h.prototype.stop=function(){this.stopped=!0},h.prototype._runParsingLoop=function(){do{var e=this.parserFeedbackSimulator.getNextToken();if(e.type===a.HIBERNATION_TOKEN)break;e.type===a.CHARACTER_TOKEN||e.type===a.WHITESPACE_CHARACTER_TOKEN||e.type===a.NULL_CHARACTER_TOKEN?(this.options.locationInfo&&(null===this.pendingText?this.currentTokenLocation=e.location:this.currentTokenLocation.endOffset=e.location.endOffset),this.pendingText=(this.pendingText||"")+e.chars):(this._emitPendingText(),this._handleToken(e))}while(!this.stopped&&e.type!==a.EOF_TOKEN)},h.prototype._handleToken=function(e){this.options.locationInfo&&(this.currentTokenLocation=e.location),e.type===a.START_TAG_TOKEN?this.emit("startTag",e.tagName,e.attrs,e.selfClosing,this.currentTokenLocation):e.type===a.END_TAG_TOKEN?this.emit("endTag",e.tagName,this.currentTokenLocation):e.type===a.COMMENT_TOKEN?this.emit("comment",e.data,this.currentTokenLocation):e.type===a.DOCTYPE_TOKEN&&this.emit("doctype",e.name,e.publicId,e.systemId,this.currentTokenLocation)},h.prototype._emitPendingText=function(){null!==this.pendingText&&(this.emit("text",this.pendingText,this.currentTokenLocation),this.pendingText=null)}},function(e,t,n){"use strict";var r=n(202).Writable,i=n(71),o=e.exports=function(){r.call(this)};i.inherits(o,r),o.prototype._write=function(e,t,n){n()}},function(e,t,n){"use strict";var r=n(124),i=n(463),o=n(149),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u=e.exports=function(e){this.tokenizer=e,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(l.HTML)};u.prototype.getNextToken=function(){var e=this.tokenizer.getNextToken();if(e.type===r.START_TAG_TOKEN)this._handleStartTagToken(e);else if(e.type===r.END_TAG_TOKEN)this._handleEndTagToken(e);else if(e.type===r.NULL_CHARACTER_TOKEN&&this.inForeignContent)e.type=r.CHARACTER_TOKEN,e.chars=o.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(e.type!==r.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),e.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===e.chars[0])){if(1===e.chars.length)return this.getNextToken();e.chars=e.chars.substr(1)}return e},u.prototype._enterNamespace=function(e){this.namespaceStackTop++,this.namespaceStack.push(e),this.inForeignContent=e!==l.HTML,this.currentNamespace=e,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._leaveCurrentNamespace=function(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==l.HTML,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._ensureTokenizerMode=function(e){e===s.TEXTAREA||e===s.TITLE?this.tokenizer.state=r.MODE.RCDATA:e===s.PLAINTEXT?this.tokenizer.state=r.MODE.PLAINTEXT:e===s.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e!==s.STYLE&&e!==s.IFRAME&&e!==s.XMP&&e!==s.NOEMBED&&e!==s.NOFRAMES&&e!==s.NOSCRIPT||(this.tokenizer.state=r.MODE.RAWTEXT)},u.prototype._handleStartTagToken=function(e){var t=e.tagName;if(t===s.SVG?this._enterNamespace(l.SVG):t===s.MATH&&this._enterNamespace(l.MATHML),this.inForeignContent){if(i.causesExit(e))return void this._leaveCurrentNamespace();var n=this.currentNamespace;n===l.MATHML?i.adjustTokenMathMLAttrs(e):n===l.SVG&&(i.adjustTokenSVGTagName(e),i.adjustTokenSVGAttrs(e)),i.adjustTokenXMLAttrs(e),t=e.tagName,!e.selfClosing&&i.isIntegrationPoint(t,n,e.attrs)&&this._enterNamespace(l.HTML)}else t===s.PRE||t===s.TEXTAREA||t===s.LISTING?this.skipNextNewLine=!0:t===s.IMAGE&&(e.tagName=s.IMG),this._ensureTokenizerMode(t)},u.prototype._handleEndTagToken=function(e){var t=e.tagName;if(this.inForeignContent)(t===s.SVG&&this.currentNamespace===l.SVG||t===s.MATH&&this.currentNamespace===l.MATHML)&&this._leaveCurrentNamespace();else{var n=this.namespaceStack[this.namespaceStackTop-1];n===l.SVG&&i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]&&(t=i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]),i.isIntegrationPoint(t,n,e.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===l.SVG&&i.adjustTokenSVGTagName(e)}},function(e,t,n){var r=n(472),i=n(991),o=n(992),a=n(474),s=n(1009),l=n(478),u=n(1010),c=n(480),h=n(481),d=n(1011),f=Math.max;e.exports=function(e,t,n,p,m,v,g,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var _=p?p.length:0;if(_||(t&=-97,p=m=void 0),g=void 0===g?g:f(d(g),0),y=void 0===y?y:d(y),_-=m?m.length:0,64&t){var T=p,S=m;p=m=void 0}var k=b?void 0:l(e),w=[e,t,n,p,m,T,S,v,g,y];if(k&&u(w,k),e=w[0],t=w[1],n=w[2],p=w[3],m=w[4],!(y=w[9]=void 0===w[9]?b?0:e.length:f(w[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?o(e,t,y):32!=t&&33!=t||m.length?a.apply(void 0,w):s(e,t,n,p);else var x=i(e,t,n);return h((k?r:c)(x,w),e,t)}},function(e,t,n){var r=n(205),i=n(41);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){var r=this&&this!==i&&this instanceof t?a:e;return r.apply(o?n:this,arguments)}}},function(e,t,n){var r=n(292),i=n(205),o=n(474),a=n(477),s=n(309),l=n(206),u=n(41);e.exports=function(e,t,n){var c=i(e);return function i(){for(var h=arguments.length,d=Array(h),f=h,p=s(i);f--;)d[f]=arguments[f];var m=h<3&&d[0]!==p&&d[h-1]!==p?[]:l(d,p);if((h-=m.length)<n)return a(e,t,o,i.placeholder,void 0,d,m,void 0,void 0,n-h);var v=this&&this!==u&&this instanceof i?c:e;return r(v,this,d)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(307),i=n(478),o=n(996),a=n(998);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(997),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(307),i=n(479),o=n(308),a=n(31),s=n(56),l=n(999),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return l(e)}return new i(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},function(e,t,n){var r=n(307),i=n(479),o=n(196);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(286),i=n(1003),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(1004);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(1005),i=n(1006),o=n(1007);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(196),i=n(142),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var l=t[a];e[a]=i(l,n)?s[l]:void 0}return e}},function(e,t,n){var r=n(292),i=n(205),o=n(41);e.exports=function(e,t,n,a){var s=1&t,l=i(e);return function t(){for(var i=-1,u=arguments.length,c=-1,h=a.length,d=Array(h+u),f=this&&this!==o&&this instanceof t?l:e;++c<h;)d[c]=a[c];for(;u--;)d[c++]=arguments[++i];return r(f,s?n:this,d)}}},function(e,t,n){var r=n(475),i=n(476),o=n(206),a="__lodash_placeholder__",s=128,l=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],c=n|u,h=c<131,d=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!h&&!d)return e;1&u&&(e[2]=t[2],c|=1&n?0:4);var f=t[3];if(f){var p=e[3];e[3]=p?r(p,f,t[4]):f,e[4]=p?o(e[3],a):t[4]}return(f=t[5])&&(p=e[5],e[5]=p?i(p,f,t[6]):f,e[6]=p?o(e[5],a):t[6]),(f=t[7])&&(e[7]=f),u&s&&(e[8]=null==e[8]?t[8]:l(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}},function(e,t,n){var r=n(1012);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(436),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(310),i=n(152),o=i.isTag,a=i.domEach,s=Object.prototype.hasOwnProperty,l=i.camelCase,u=i.cssCase,c=/\s+/,h="data-",d={forEach:n(147),extend:n(471),some:n(1021)},f={null:null,true:!0,false:!1},p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,m=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,v=function(e,t){if(e&&o(e))return e.attribs||(e.attribs={}),t?s.call(e.attribs,t)?p.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?r.text(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs},g=function(e,t,n){null===n?T(e,t):e.attribs[t]=n+""};t.attr=function(e,t){return"object"==typeof e||void 0!==t?a(this,"function"==typeof t?function(n,r){g(r,e,t.call(r,n,r.attribs[e]))}:function(n,r){o(r)&&("object"==typeof e?d.forEach(e,(function(e,t){g(r,t,e)})):g(r,e,t))}):v(this[0],e)};var y=function(e,t){if(e&&o(e))return s.call(e,t)?e[t]:p.test(t)?void 0!==v(e,t):v(e,t)},b=function(e,t,n){e[t]=p.test(t)?!!n:n};t.prop=function(e,t){var n,r=0;if("string"==typeof e&&void 0===t){switch(e){case"style":n=this.css(),d.forEach(n,(function(e,t){n[r++]=t})),n.length=r;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=y(this[0],e)}return n}if("object"==typeof e||void 0!==t)return a(this,"function"==typeof t?function(n,r){b(r,e,t.call(r,n,y(r,e)))}:function(n,r){o(r)&&("object"==typeof e?d.forEach(e,(function(e,t){b(r,t,e)})):b(r,e,t))})};var _=function(e,t){var n,r,i,o,a,c,d,p=1===arguments.length;for(p?i=(n=Object.keys(e.attribs).filter((function(e){return e.slice(0,h.length)===h}))).map((function(e){return l(e.slice(h.length))})):(n=[h+u(t)],i=[t]),c=0,d=n.length;c<d;++c)if(r=n[c],o=i[c],s.call(e.attribs,r)){if(a=e.attribs[r],s.call(f,a))a=f[a];else if(a===String(Number(a)))a=Number(a);else if(m.test(a))try{a=JSON.parse(a)}catch(e){}e.data[o]=a}return p?e.data:a};t.data=function(e,t){var n=this[0];if(n&&o(n))return n.data||(n.data={}),e?"object"==typeof e||void 0!==t?(a(this,(function(n,r){!function(e,t,n){if(e.data||(e.data={}),"object"==typeof t)return d.extend(e.data,t);"string"==typeof t&&void 0!==n&&(e.data[t]=n)}(r,e,t)})),this):s.call(n.data,e)?n.data[e]:_(n,e):_(n)},t.val=function(e){var t=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(e);case"input":return"radio"===this.attr("type")?t?this.attr("value"):(this.attr("value",e),this):this.attr("value",e);case"select":var r,i=this.find("option:selected");if(void 0===i)return;if(!t){if(!s.call(this.attr(),"multiple")&&"object"==typeof e)return this;"object"!=typeof e&&(e=[e]),this.find("option").removeAttr("selected");for(var o=0;o<e.length;o++)this.find('option[value="'+e[o]+'"]').attr("selected","");return this}return r=i.attr("value"),s.call(this.attr(),"multiple")&&(r=[],a(i,(function(e,t){r.push(v(t,"value"))}))),r;case"option":return t?this.attr("value"):(this.attr("value",e),this)}};var T=function(e,t){e.attribs&&s.call(e.attribs,t)&&delete e.attribs[t]};t.removeAttr=function(e){return a(this,(function(t,n){T(n,e)})),this},t.hasClass=function(e){return d.some(this,(function(t){var n,r=t.attribs,i=r&&r.class,o=-1;if(i&&e.length)for(;(o=i.indexOf(e,o+1))>-1;)if(n=o+e.length,(0===o||c.test(i[o-1]))&&(n===i.length||c.test(i[n])))return!0}))},t.addClass=function(e){if("function"==typeof e)return a(this,(function(n,r){var i=r.attribs.class||"";t.addClass.call([r],e.call(r,n,i))}));if(!e||"string"!=typeof e)return this;for(var n=e.split(c),r=this.length,i=0;i<r;i++)if(o(this[i])){var s,l,u=v(this[i],"class");if(u){l=" "+u+" ",s=n.length;for(var h=0;h<s;h++){var d=n[h]+" ";l.indexOf(" "+d)<0&&(l+=d)}g(this[i],"class",l.trim())}else g(this[i],"class",n.join(" ").trim())}return this};var S=function(e){return e?e.trim().split(c):[]};t.removeClass=function(e){var n,r,i;return"function"==typeof e?a(this,(function(n,r){t.removeClass.call([r],e.call(r,n,r.attribs.class||""))})):(n=S(e),r=n.length,i=0===arguments.length,a(this,(function(e,t){if(o(t))if(i)t.attribs.class="";else{for(var a,s,l=S(t.attribs.class),u=0;u<r;u++)(a=l.indexOf(n[u]))>=0&&(l.splice(a,1),s=!0,u--);s&&(t.attribs.class=l.join(" "))}})))},t.toggleClass=function(e,n){if("function"==typeof e)return a(this,(function(r,i){t.toggleClass.call([i],e.call(i,r,i.attribs.class||"",n),n)}));if(!e||"string"!=typeof e)return this;for(var r,i,s=e.split(c),l=s.length,u="boolean"==typeof n?n?1:-1:0,h=this.length,d=0;d<h;d++)if(o(this[d])){r=S(this[d].attribs.class);for(var f=0;f<l;f++)i=r.indexOf(s[f]),u>=0&&i<0?r.push(s[f]):u<=0&&i>=0&&r.splice(i,1);this[d].attribs.class=r.join(" ")}return this},t.is=function(e){return!!e&&this.filter(e).length>0}},function(e,t,n){var r=n(1015),i=n(1016);e.exports=function(e){return i(r(e))},e.exports.parse=r,e.exports.compile=i},function(e,t){e.exports=function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];var t,r=e.match(n);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");return r[1]?(t=parseInt(r[1],10),isNaN(t)&&(t="-"===r[1].charAt(0)?-1:1)):t=0,[t,r[3]?parseInt((r[2]||"")+r[3],10):0]};var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(e,t,n){e.exports=function(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return o;if(-1===t)return function(e){return e<=n};if(0===t)return function(e){return e===n};if(1===t)return n<0?i:function(e){return e>=n};var r=n%t;r<0&&(r+=t);if(t>1)return function(e){return e>=n&&e%t===r};return t*=-1,function(e){return e<=n&&e%t===r}};var r=n(153),i=r.trueFunc,o=r.falseFunc},function(e,t,n){e.exports=function(e,t,n){return d(f(e,t,n))},e.exports.compileUnsafe=f,e.exports.compileToken=b;var r=n(1018),i=n(101),o=i.isTag,a=n(1019),s=n(1020),l=n(153),u=l.trueFunc,c=l.falseFunc,h=n(485);function d(e){return function(t){return o(t)&&e(t)}}function f(e,t,n){return b(r(e,t),t,n)}function p(e){return"pseudo"===e.type&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((function(e){return e.some(p)})))}var m={type:"descendant"},v={type:"pseudo",name:"scope"},g={},y=i.getParent;function b(e,t,n){(e=e.filter((function(e){return e.length>0}))).forEach(s);var r=Array.isArray(n);return(n=t&&t.context||n)&&!r&&(n=[n]),function(e,t){var n=!!t&&!!t.length&&t.every((function(e){return e===g||!!y(e)}));e.forEach((function(e){if(e.length>0&&_(e[0])&&"descendant"!==e[0].type);else{if(!n||p(e))return;e.unshift(m)}e.unshift(v)}))}(e,n),e.map((function(e){return function(e,t,n,r){var i=r&&"scope"===e[0].name&&"descendant"===e[1].type;return e.reduce((function(e,r,o){return e===c?e:a[r.type](e,r,t,n,i&&1===o)}),t&&t.rootFunc||u)}(e,t,n,r)})).reduce(T,c)}function _(e){return h[e.type]<0}function T(e,t){return t===c||e===u?e:e===c||t===u?t:function(n){return e(n)||t(n)}}var S=n(311).filters,k=i.existsOne,w=(o=i.isTag,i.getChildren);function x(e){return e.some(_)}S.not=function(e,t,n,r){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(i.strict&&(t.length>1||t.some(x)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=b(t,i,r);return o===c?e:o===u?c:function(t){return!o(t)&&e(t)}},S.has=function(e,t,n){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},i=t.some(x)?[g]:null,a=b(t,r,i);return a===c?c:a===u?function(t){return w(t).some(o)&&e(t)}:(a=d(a),i?function(t){return e(t)&&(i[0]=t,k(a,w(t)))}:function(t){return e(t)&&k(a,w(t))})},S.matches=function(e,t,n,r){return b(t,{xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:e},r)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=[];if(""!==(e=m(n,e+"",t)))throw new SyntaxError("Unmatched selector: "+e);return n};var r=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,i=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,a={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},s={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},l={__proto__:null,"#":["id","equals"],".":["class","element"]},u={__proto__:null,has:!0,not:!0,matches:!0},c={__proto__:null,contains:!0,icontains:!0},h={__proto__:null,'"':!0,"'":!0};function d(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function f(e){return e.replace(i,d)}function p(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function m(e,t,n){var i,d,g,y,b=[],_=!1;function T(){var e=t.match(r)[0];return t=t.substr(e.length),f(e)}function S(e){for(;p(t.charAt(e));)e++;t=t.substr(e)}function k(e){for(var n=0;"\\"===t.charAt(--e);)n++;return 1==(1&n)}for(S(0);""!==t;)if(p(d=t.charAt(0)))_=!0,S(1);else if(d in s)b.push({type:s[d]}),_=!1,S(1);else if(","===d){if(0===b.length)throw new SyntaxError("empty sub-selector");e.push(b),b=[],_=!1,S(1)}else if(_&&(b.length>0&&b.push({type:"descendant"}),_=!1),"*"===d)t=t.substr(1),b.push({type:"universal"});else if(d in l)t=t.substr(1),b.push({type:"attribute",name:l[d][0],action:l[d][1],value:T(),ignoreCase:!1});else if("["===d){if(!(i=(t=t.substr(1)).match(o)))throw new SyntaxError("Malformed attribute selector: "+t);t=t.substr(i[0].length),g=f(i[1]),n&&("lowerCaseAttributeNames"in n?!n.lowerCaseAttributeNames:n.xmlMode)||(g=g.toLowerCase()),b.push({type:"attribute",name:g,action:a[i[2]],value:f(i[4]||i[5]||""),ignoreCase:!!i[6]})}else if(":"===d){if(":"===t.charAt(1)){t=t.substr(2),b.push({type:"pseudo-element",name:T().toLowerCase()});continue}if(t=t.substr(1),g=T().toLowerCase(),i=null,"("===t.charAt(0))if(g in u){var w=(y=t.charAt(1))in h;if(t=m(i=[],t=t.substr(w+1),n),w){if(t.charAt(0)!==y)throw new SyntaxError("unmatched quotes in :"+g);t=t.substr(1)}if(")"!==t.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+g+" "+t);t=t.substr(1)}else{for(var x=1,E=1;E>0&&x<t.length;x++)"("!==t.charAt(x)||k(x)?")"!==t.charAt(x)||k(x)||E--:E++;if(E)throw new SyntaxError("parenthesis not matched");i=t.substr(1,x-2),t=t.substr(x),g in c&&((y=i.charAt(0))===i.slice(-1)&&y in h&&(i=i.slice(1,-1)),i=f(i))}b.push({type:"pseudo",name:g,data:i})}else{if(!r.test(t))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),v(e,b),t;g=T(),n&&("lowerCaseTags"in n?!n.lowerCaseTags:n.xmlMode)||(g=g.toLowerCase()),b.push({type:"tag",name:g})}return v(e,b),t}function v(e,t){if(e.length>0&&0===t.length)throw new SyntaxError("empty sub-selector");e.push(t)}},function(e,t,n){var r=n(101),i=r.isTag,o=r.getParent,a=r.getChildren,s=r.getSiblings,l=r.getName;e.exports={__proto__:null,attribute:n(484).compile,pseudo:n(311).compile,tag:function(e,t){var n=t.name;return function(t){return l(t)===n&&e(t)}},descendant:function(e,t,n,r,i){return function(t){if(i&&e(t))return!0;for(var n=!1;!n&&(t=o(t));)n=e(t);return n}},parent:function(e,t,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(e){return a(e).some(r)};function r(t){return i(t)&&e(t)}},child:function(e){return function(t){var n=o(t);return!!n&&e(n)}},sibling:function(e){return function(t){for(var n=s(t),r=0;r<n.length;r++)if(i(n[r])){if(n[r]===t)break;if(e(n[r]))return!0}return!1}},adjacent:function(e){return function(t){for(var n,r=s(t),o=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;n=r[o]}return!!n&&e(n)}},universal:function(e){return e}}},function(e,t,n){e.exports=function(e){for(var t=e.map(o),n=1;n<e.length;n++){var r=t[n];if(!(r<0))for(var i=n-1;i>=0&&r<t[i];i--){var a=e[i+1];e[i+1]=e[i],e[i]=a,t[i+1]=t[i],t[i]=r}}};var r=n(485),i={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function o(e){var t=r[e.type];if(t===r.attribute)(t=i[e.action])===i.equals&&"id"===e.name&&(t=9),e.ignoreCase&&(t>>=1);else if(t===r.pseudo)if(e.data)if("has"===e.name||"contains"===e.name)t=0;else if("matches"===e.name||"not"===e.name){t=0;for(var n=0;n<e.data.length;n++)if(1===e.data[n].length){var a=o(e.data[n][0]);if(0===a){t=0;break}a>t&&(t=a)}e.data.length>1&&t>0&&(t-=1)}else t=1;else t=3;return t}},function(e,t,n){var r=n(417),i=n(144),o=n(1022),a=n(31),s=n(294);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},function(e,t,n){var r=n(146);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},function(e,t,n){var r=n(483),i=n(152),o=i.domEach,a=n(148).DomUtils.uniqueSort,s=i.isTag,l={bind:n(306),forEach:n(147),reject:n(1024),filter:n(1026),reduce:n(1027)};t.find=function(e){var t,n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]),i=this.constructor.contains;if(e&&"string"!=typeof e)return t=e.cheerio?e.get():[e],this._make(t.filter((function(e){var t,n;for(t=0,n=this.length;t<n;++t)if(i(this[t],e))return!0}),this));var o={__proto__:this.options,context:this.toArray()};return this._make(r(e,n,o))},t.parent=function(e){var n=[];return o(this,(function(e,t){var r=t.parent;r&&n.indexOf(r)<0&&n.push(r)})),arguments.length&&(n=t.filter.call(n,e,this)),this._make(n)},t.parents=function(e){var t=[];return this.get().reverse().forEach((function(n){c(this,n.parent,e,1/0).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}),this),this._make(t)},t.parentsUntil=function(e,t){var n,i,o=[];return"string"==typeof e?n=r(e,this.parents().toArray(),this.options)[0]:e&&e.cheerio?i=e.toArray():e&&(n=e),this.toArray().reverse().forEach((function(e){for(;(e=e.parent)&&(n&&e!==n||i&&-1===i.indexOf(e)||!n&&!i);)s(e)&&-1===o.indexOf(e)&&o.push(e)}),this),this._make(t?r(t,o,this.options):o)},t.closest=function(e){var t=[];return e?(o(this,function(n,r){var i=c(this,r,e,1)[0];i&&t.indexOf(i)<0&&t.push(i)}.bind(this)),this._make(t)):this._make(t)},t.next=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof e?i=r(e,this.nextAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.next)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.prev=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof e?i=r(e,this.prevAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.prev)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.siblings=function(e){var n=this.parent(),r=l.filter(n?n.children():this.siblingsAndMe(),l.bind((function(e){return s(e)&&!this.is(e)}),this));return void 0!==e?t.filter.call(r,e,this):this._make(r)},t.children=function(e){var n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]);return void 0===e?this._make(n):t.filter.call(n,e,this)},t.contents=function(){return this._make(l.reduce(this,(function(e,t){return e.push.apply(e,t.children),e}),[]))},t.each=function(e){for(var t=0,n=this.length;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},t.map=function(e){return this._make(l.reduce(this,(function(t,n,r){var i=e.call(n,r,n);return null==i?t:t.concat(i)}),[]))};var u=function(e){return function(t,n){var i;return n=n||this,i="string"==typeof t?r.compile(t,n.options):"function"==typeof t?function(e,n){return t.call(e,n,e)}:t.cheerio?t.is.bind(t):function(e){return t===e},n._make(e(this,i))}};function c(e,n,r,i){for(var o=[];n&&o.length<i;)r&&!t.filter.call([n],r,e).length||o.push(n),n=n.parent;return o}t.filter=u(l.filter),t.not=u(l.reject),t.has=function(e){var n=this;return t.filter.call(this,(function(){return n._make(this).find(e).length>0}))},t.first=function(){return this.length>1?this._make(this[0]):this},t.last=function(){return this.length>1?this._make(this[this.length-1]):this},t.eq=function(e){return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this[e]?this._make(this[e]):this._make([]))},t.get=function(e){return null==e?Array.prototype.slice.call(this):this[e<0?this.length+e:e]},t.index=function(e){var t,n;return 0===arguments.length?(t=this.parent().children(),n=this[0]):"string"==typeof e?(t=this._make(e),n=this[0]):(t=this,n=e.cheerio?e[0]:e),t.get().indexOf(n)},t.slice=function(){return this._make([].slice.apply(this,arguments))},t.end=function(){return this.prevObject||this._make([])},t.add=function(e,t){for(var n=this._make(e,t),r=a(n.get().concat(this.get())),i=0;i<r.length;++i)n[i]=r[i];return n.length=r.length,n},t.addBack=function(e){return this.add(arguments.length?this.prevObject.filter(e):this.prevObject)}},function(e,t,n){var r=n(283),i=n(486),o=n(144),a=n(31),s=n(1025);e.exports=function(e,t){return(a(e)?r:i)(e,s(o(t,3)))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,n){var r=n(283),i=n(486),o=n(144),a=n(31);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(1028),i=n(146),o=n(144),a=n(1029),s=n(31);e.exports=function(e,t,n){var l=s(e)?r:a,u=arguments.length<3;return l(e,o(t,4),n,u,i)}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t){e.exports=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}},function(e,t,n){var r=n(198),i=n(310),o=r.update,a=r.evaluate,s=n(152),l=s.domEach,u=s.cloneDom,c=s.isHtml,h=Array.prototype.slice,d={flatten:n(487),bind:n(306),forEach:n(147)};t._makeDomArray=function(e,t){return null==e?[]:e.cheerio?t?u(e.get(),e.options):e.get():Array.isArray(e)?d.flatten(e.map((function(e){return this._makeDomArray(e,t)}),this)):"string"==typeof e?a(e,this.options,!1):t?u([e]):[e]};var f=function(e){return function(){var t=h.call(arguments),n=this.length-1;return l(this,(function(r,o){var a,s;s="function"==typeof t[0]?t[0].call(o,r,i.html(o.children)):t,a=this._makeDomArray(s,r<n),e(a,o.children,o)}))}},p=function(e,t,n,r,i){var o,a,s,l,u,c=[t,n].concat(r),h=e[t-1]||null,d=e[t]||null;for(o=0,a=r.length;o<a;++o)s=(u=(l=r[o]).parent||l.root)&&u.children.indexOf(r[o]),u&&s>-1&&(u.children.splice(s,1),i===u&&t>s&&c[0]--),l.root=null,l.parent=i,l.prev&&(l.prev.next=l.next||null),l.next&&(l.next.prev=l.prev||null),l.prev=r[o-1]||h,l.next=r[o+1]||d;return h&&(h.next=r[0]),d&&(d.prev=r[r.length-1]),e.splice.apply(e,c)};t.appendTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.append(this),this},t.prependTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.prepend(this),this},t.append=f((function(e,t,n){p(t,t.length,0,e,n)})),t.prepend=f((function(e,t,n){p(t,0,0,e,n)})),t.wrap=function(e){var t="function"==typeof e&&e,n=this.length-1;return d.forEach(this,d.bind((function(r,i){var a,s,l,u,h=r.parent||r.root,d=h.children;if(h){for(t&&(e=t.call(r,i)),"string"!=typeof e||c(e)||(e=this.parents().last().find(e).clone()),s=(a=this._makeDomArray(e,i<n).slice(0,1))[0],l=0;s&&s.children&&!(l>=s.children.length);)"tag"===s.children[l].type?(s=s.children[l],l=0):l++;u=d.indexOf(r),o([r],s),p(d,u,0,a,h)}}),this)),this},t.after=function(){var e=h.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u+1,0,s,o))}})),this},t.insertAfter=function(e){var t=[],n=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s+1,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.before=function(){var e=h.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u,0,s,o))}})),this},t.insertBefore=function(e){var t=[],n=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.remove=function(e){var t=this;return e&&(t=t.filter(e)),l(t,(function(e,t){var n=t.parent||t.root;if(n){var r=n.children,i=r.indexOf(t);i<0||(r.splice(i,1),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev=t.next=t.parent=t.root=null)}})),this},t.replaceWith=function(e){var t=this;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var a,s=i.children,l=t._makeDomArray("function"==typeof e?e.call(r,n,r):e);o(l,null),a=s.indexOf(r),p(s,a,1,l,i),r.parent=r.prev=r.next=r.root=null}})),this},t.empty=function(){return l(this,(function(e,t){d.forEach(t.children,(function(e){e.next=e.prev=e.parent=null})),t.children.length=0})),this},t.html=function(e){if(void 0===e)return this[0]&&this[0].children?i.html(this[0].children,this.options):null;var t=this.options;return l(this,(function(n,r){d.forEach(r.children,(function(e){e.next=e.prev=e.parent=null}));var i=e.cheerio?e.clone().get():a(""+e,t,!1);o(i,r)})),this},t.toString=function(){return i.html(this,this.options)},t.text=function(e){return void 0===e?i.text(this):"function"==typeof e?l(this,(function(n,r){var o=[r];return t.text.call(o,e.call(r,n,i.text(o)))})):(l(this,(function(t,n){d.forEach(n.children,(function(e){e.next=e.prev=e.parent=null})),o({data:""+e,type:"text",parent:n,prev:null,next:null,children:[]},n)})),this)},t.clone=function(){return this._make(u(this.get(),this.options))}},function(e,t,n){var r=n(281),i=n(1032);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(e,t,n){var r=n(118),i=n(184),o=n(31),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(152).domEach,i={pick:n(1034)},o=Object.prototype.toString;function a(e,t,n,r){if("string"==typeof t){var i=s(e);"function"==typeof n&&(n=n.call(e,r,i[t])),""===n?delete i[t]:null!=n&&(i[t]=n),e.attribs.style=(o=i,Object.keys(o||{}).reduce((function(e,t){return e+(e?" ":"")+t+": "+o[t]+";"}),""))}else"object"==typeof t&&Object.keys(t).forEach((function(n){a(e,n,t[n])}));var o}function s(e,t){var n=function(e){return(e=(e||"").trim())?e.split(";").reduce((function(e,t){var n=t.indexOf(":");return n<1||n===t.length-1||(e[t.slice(0,n).trim()]=t.slice(n+1).trim()),e}),{}):{}}(e.attribs.style);return"string"==typeof t?n[t]:Array.isArray(t)?i.pick(n,t):n}t.css=function(e,t){return 2===arguments.length||"[object Object]"===o.call(e)?r(this,(function(n,r){a(r,e,t,n)})):s(this[0],e)}},function(e,t,n){var r=n(1035),i=n(1038)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){var r=n(1036),i=n(425);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(284),i=n(1037),o=n(193);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&i(l,o(u,e),c)}return l}},function(e,t,n){var r=n(195),i=n(193),o=n(142),a=n(45),s=n(145);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,h=c-1,d=e;null!=d&&++u<c;){var f=s(t[u]),p=n;if(u!=h){var m=d[f];void 0===(p=l?l(m,f,d):void 0)&&(p=a(m)?m:o(t[u+1])?[]:{})}r(d,f,p),d=d[f]}return e}},function(e,t,n){var r=n(487),i=n(433),o=n(293);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r="input,select,textarea,keygen",i=/%20/g,o=/\r?\n/g,a={map:n(70)};t.serialize=function(){var e=this.serializeArray();return a.map(e,(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)})).join("&").replace(i,"+")},t.serializeArray=function(){var e=this.constructor;return this.map((function(){var t=e(this);return"form"===this.name?t.find(r).toArray():t.filter(r).toArray()})).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(t,n){var r=e(n),i=r.attr("name"),s=r.val();return null==s&&(s=""),Array.isArray(s)?a.map(s,(function(e){return{name:i,value:e.replace(o,"\r\n")}})):{name:i,value:s.replace(o,"\r\n")}})).get()}},function(e){e.exports={name:"cheerio",version:"1.0.0-rc.3",description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",author:"Matt Mueller <mattmuelle@gmail.com> (mat.io)",license:"MIT",keywords:["htmlparser","jquery","selector","scraper","parser","html"],repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},main:"./index.js",files:["index.js","lib"],engines:{node:">= 0.6"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.1",entities:"~1.1.1",htmlparser2:"^3.9.1",lodash:"^4.15.0",parse5:"^3.0.1"},devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^3.1.2",xyz:"~1.1.0"},scripts:{test:"make test"},_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-1.0.0-rc.3.tgz",_integrity:"sha512-0td5ijfUPuubwLUu0OBoe98gZj8C/AA+RW3v67GPlGOrvxWjZmBXiBCRU+I8VEiNyJzjth40POfHiz2RB3gImA==",_from:"cheerio@1.0.0-rc.3"}},function(e,t,n){"use strict";var r=n(53),i=n(489),o=n(312),a=n(1050),s=n(207),l=s("%TypeError%"),u=r.call(Function.call,s("%ObjectPrototype%").propertyIsEnumerable),c=r.call(Function.apply,s("%ArrayPrototype%").push),h=o(o({},i),{ToIndex:function(e){if(void 0===e)return 0;var t=this.ToInteger(e);if(t<0)throw new RangeError("index must be >= 0");var n=this.ToLength(t);if(!this.SameValueZero(t,n))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return n},EnumerableOwnProperties:function(e,t){var n=i.EnumerableOwnNames(e);if("key"===t)return n;if("value"===t||"key+value"===t){var r=[];return a(n,(function(n){u(e,n)&&c(r,["value"===t?e[n]:[n,e[n]]])})),r}throw new l('Assertion failed: "kind" is not "key", "value", or "key+value": '+t)}});delete h.EnumerableOwnNames,e.exports=h},function(e,t,n){"use strict";var r=n(59),i=n(1043),o=n(295),a=n(207),s=a("%TypeError%"),l=a("%SyntaxError%"),u=a("%Array%"),c=a("%String%"),h=a("%Object%"),d=a("%Number%"),f=a("%Symbol%",!0),p=a("%RegExp%"),m=!!f,v=n(491),g=n(492),y=n(493),b=d.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_=n(312),T=n(494),S=n(495),k=n(1048),w=parseInt,x=n(53),E=x.call(Function.call,u.prototype.slice),C=x.call(Function.call,c.prototype.slice),O=x.call(Function.call,p.prototype.test,/^0b[01]+$/i),A=x.call(Function.call,p.prototype.test,/^0o[0-7]+$/i),M=x.call(Function.call,p.prototype.exec),P=new p("["+["","",""].join("")+"]","g"),I=x.call(Function.call,p.prototype.test,P),L=x.call(Function.call,p.prototype.test,/^[-+]0x[0-9a-f]+$/i),R=x.call(Function.call,c.prototype.charCodeAt),D=x.call(Function.call,Object.prototype.toString),N=x.call(Function.call,a("%NumberPrototype%").valueOf),j=x.call(Function.call,a("%BooleanPrototype%").valueOf),H=x.call(Function.call,a("%StringPrototype%").valueOf),B=x.call(Function.call,a("%DatePrototype%").valueOf),F=Math.floor,z=Math.abs,V=Object.create,U=h.getOwnPropertyDescriptor,G=h.isExtensible,Y=h.defineProperty,W=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),q=new RegExp("(^["+W+"]+)|(["+W+"]+$)","g"),X=x.call(Function.call,c.prototype.replace),K=n(496),$=n(497),Z=_(_({},K),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new s(e+" is not a function");return e.apply(t,n)},ToPrimitive:i,ToNumber:function(e){var t=k(e)?e:i(e,d);if("symbol"==typeof t)throw new s("Cannot convert a Symbol value to a number");if("string"==typeof t){if(O(t))return this.ToNumber(w(C(t,2),2));if(A(t))return this.ToNumber(w(C(t,2),8));if(I(t)||L(t))return NaN;var n=function(e){return X(e,q,"")}(t);if(n!==t)return this.ToNumber(n)}return d(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(g(t)||0===t||!y(t))return 0;var n=T(t)*F(z(t));return S(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(g(t)||t<=0)return 0;if(t>=255)return 255;var n=F(e);return n+.5<t?n+1:t<n+.5?n:n%2!=0?n+1:n},ToString:function(e){if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a string");return c(e)},ToObject:function(e){return this.RequireObjectCoercible(e),h(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,c);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>b?b:t},CanonicalNumericIndexString:function(e){if("[object String]"!==D(e))throw new s("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:K.CheckObjectCoercible,IsArray:u.isArray||function(e){return"[object Array]"===D(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:Object.preventExtensions?function(e){return!k(e)&&G(e)}:function(e){return!0},IsInteger:function(e){if("number"!=typeof e||g(e)||!y(e))return!1;var t=z(e);return F(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(m){var t=e[f.match];if(void 0!==t)return K.ToBoolean(t)}return $(e)},SameValueZero:function(e,t){return e===t||g(e)&&g(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new s(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":K.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");var n=e.constructor;if(void 0===n)return t;if("Object"!==this.Type(n))throw new s("O.constructor is not an Object");var r=m&&f.species?n[f.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new s("no constructor found")},CompletePropertyDescriptor:function(e){return v(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");if("Boolean"!==this.Type(r))throw new s("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(e){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(m&&"symbol"==typeof f.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if(void 0!==t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");var n=E(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){if(!m)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=t;arguments.length<2&&(n=this.GetMethod(e,f.iterator));var r=this.Call(n,e);if("Object"!==this.Type(r))throw new s("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new s("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e);return!0!==this.IteratorComplete(t)&&t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new s("Assertion failed: completion is not a thunk for a Completion Record");var n,r=t,i=this.GetMethod(e,"return");if(void 0===i)return r();try{var o=this.Call(i,e,[])}catch(e){throw n=r(),r=null,e}if(n=r(),r=null,"Object"!==this.Type(o))throw new s("iterator .return must return an object");return n},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new s("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new s("R must be an Object");if("String"!==this.Type(t))throw new s("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new s('"exec" method must return `null` or an Object')}return M(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new s("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t;if(this.IsArray(e)&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&m&&f.species&&null===(n=this.Get(n,f.species))&&(n=void 0)),void 0===n)return u(r);if(!this.IsConstructor(n))throw new s("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=U(e,t),i=r||"function"!=typeof G||G(e);return!(!(!r||r.writable&&r.configurable)||!i)&&(Y(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}),!0)},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new s("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new s("Assertion failed: proto must be null or an object");var n=arguments.length<2?[]:t;if(n.length>0)throw new l("es-abstract does not yet support internal slots");if(null===e&&!V)throw new l("native Object.create support is required to create null objects");return V(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new s("S must be a String");if(!this.IsInteger(t)||t<0||t>b)throw new s("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new s("Assertion failed: unicode must be a Boolean");if(!n)return t+1;if(t+1>=e.length)return t+1;var r=R(e,t);if(r<55296||r>56319)return t+1;var i=R(e,t+1);return i<56320||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!Y(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0})},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!Y(e,t,n)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");return o(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:N(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:j(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:H(e)},thisTimeValue:function(e){return B(e)}});delete Z.CheckObjectCoercible,e.exports=Z},function(e,t,n){"use strict";e.exports=n(1044)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=n(490),o=n(155),a=n(1045),s=n(1046),l=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],o(n)&&(r=n.call(e),i(r)))return r;throw new TypeError("No default value")},u=function(e,t){var n=e[t];if(null!=n){if(!o(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e){if(i(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=u(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var o=t.call(e,n);if(i(o))return o;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(e)||s(e))&&(n="string"),l(e,"default"===n?"number":n)}},function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,n){"use strict";var r=Object.prototype.toString;if(n(1047)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){"use strict";(function(t){var r=t.Symbol,i=n(450);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}}).call(this,n(27))},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=n(490),o=n(155),a=function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(e[s[a]])&&(n=e[s[a]](),i(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e){return i(e)?e:arguments.length>1?a(e,arguments[1]):a(e)}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},function(e,t,n){"use strict";var r=n(52),i=n(498);e.exports=function(){var e=i();return r(Array.prototype,{flat:e},{flat:function(){return Array.prototype.flat!==e}}),e}},function(e,t,n){"use strict";var r=n(503),i=n(52);e.exports=function(){var e=r();return i(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},function(e,t,n){"use strict";var r=n(52).supportsDescriptors,i=n(505),o=n(506),a=Object.defineProperty,s=TypeError;e.exports=function(){var e=o();if(i)return e;if(!r)throw new s("Shimming Function.prototype.name support requires ES5 property descriptor support.");var t=Function.prototype;return a(t,"name",{configurable:!0,enumerable:!1,get:function(){var n=e.call(this);return this!==t&&a(this,"name",{configurable:!0,enumerable:!1,value:n,writable:!1}),n}}),e}},function(e,t,n){"use strict";var r=n(53),i=n(52),o=n(507),a=n(508),s=n(1055),l=r.call(Function.call,a());i(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";var r=n(52),i=n(508);e.exports=function(){var e=i();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&Object.keys(t).every((function(n){if(!e.propertyIsEnumerable(n))return!1;var i=t[n],o=e[n];return!!("object"==typeof i&&null!==i?r(o,i):o===i)}))}));t.default=r,e.exports=t.default},function(e,t,n){(function(t){var n="[object Symbol]",r=/[&<>"'`]/g,i=RegExp(r.source),o="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")();var l,u=(l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==l?void 0:l[e]}),c=Object.prototype.toString,h=s.Symbol,d=h?h.prototype:void 0,f=d?d.toString:void 0;function p(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&c.call(e)==n}(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}e.exports=function(e){return(e=function(e){return null==e?"":p(e)}(e))&&i.test(e)?e.replace(r,u):e}}).call(this,n(27))},function(e,t,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},function(e,t,n){"use strict";var r=Number.prototype.toString,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Number]"===i.call(e))}},function(e,t,n){"use strict";var r=Boolean.prototype.toString,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i.call(e))}},function(e,t,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,h=Boolean.prototype.valueOf,d=Object.prototype.toString,f="function"==typeof BigInt?BigInt.prototype.valueOf:null,p=n(1062).custom,m=p&&b(p)?p:null;function v(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function g(e){return String(e).replace(/"/g,"&quot;")}function y(e){return"[object Array]"===S(e)}function b(e){return"[object Symbol]"===S(e)}e.exports=function e(t,n,r,i){if(n||(n={}),T(n,"quoteStyle")&&"single"!==n.quoteStyle&&"double"!==n.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function(e,t){return v(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,k),"single",t)}(t,n);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var s=void 0===n.depth?5:n.depth;if(void 0===r&&(r=0),r>=s&&s>0&&"object"==typeof t)return"[Object]";if(void 0===i)i=[];else if(function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(i,t)>=0)return"[Circular]";function l(t,o){return o&&(i=i.slice()).push(o),e(t,n,r+1,i)}if("function"==typeof t){var d=function(e){if(e.name)return e.name;var t=String(e).match(/^function\s*([\w$]+)/);if(t)return t[1]}(t);return"[Function"+(d?": "+d:"")+"]"}if(b(t)){var p=Symbol.prototype.toString.call(t);return"object"==typeof t?w(p):p}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var _="<"+String(t.nodeName).toLowerCase(),C=t.attributes||[],O=0;O<C.length;O++)_+=" "+C[O].name+"="+v(g(C[O].value),"double",n);return _+=">",t.childNodes&&t.childNodes.length&&(_+="..."),_+="</"+String(t.nodeName).toLowerCase()+">"}if(y(t))return 0===t.length?"[]":"[ "+E(t,l).join(", ")+" ]";if(function(e){return"[object Error]"===S(e)}(t))return 0===(A=E(t,l)).length?"["+String(t)+"]":"{ ["+String(t)+"] "+A.join(", ")+" }";if("object"==typeof t){if(m&&"function"==typeof t[m])return t[m]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var A=[];return a.call(t,(function(e,n){A.push(l(n,t)+" => "+l(e,t))})),x("Map",o.call(t),A)}if(function(e){if(!u)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){A=[];return c.call(t,(function(e){A.push(l(e,t))})),x("Set",u.call(t),A)}if(function(e){return"[object Number]"===S(e)}(t))return w(l(Number(t)));if(function(e){return"[object BigInt]"===S(e)}(t))return w(l(f.call(t)));if(function(e){return"[object Boolean]"===S(e)}(t))return w(h.call(t));if(function(e){return"[object String]"===S(e)}(t))return w(l(String(t)));if(!function(e){return"[object Date]"===S(e)}(t)&&!function(e){return"[object RegExp]"===S(e)}(t)){var M=E(t,l);return 0===M.length?"{}":"{ "+M.join(", ")+" }"}return String(t)};var _=Object.prototype.hasOwnProperty||function(e){return e in this};function T(e,t){return _.call(e,t)}function S(e){return d.call(e)}function k(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function w(e){return"Object("+e+")"}function x(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}function E(e,t){var n=y(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=T(e,i)?t(e[i],e):""}for(var o in e)T(e,o)&&(n&&String(Number(o))===o&&o<e.length||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e))));return r}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createParser=t.createGenerator=void 0;var r=o(n(1064)),i=o(n(1065));function o(e){return e&&e.__esModule?e:{default:e}}t.createGenerator=r.default,t.createParser=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return JSON.stringify(e)},i=function(e){var t=e.body,n=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=void 0;if("universalSelector"===u.type)c="*";else if("typeSelector"===u.type)c=u.name;else if("idSelector"===u.type)c="#"+u.name;else if("classSelector"===u.type)c="."+u.name;else if("attributePresenceSelector"===u.type)c="["+u.name+"]";else if("attributeValueSelector"===u.type)c="["+u.name+u.operator+r(u.value)+"]";else if("pseudoClassSelector"===u.type)c=":"+u.name,u.parameters.length&&(c+="("+u.parameters.map(r).join(", ")+")");else{if("pseudoElementSelector"!==u.type)throw new Error("Unknown token.");c="::"+u.name}n.push(c)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n.join("")};t.default=function(){return{generate:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if("selector"===l.type)t.push(i(l));else if("descendantCombinator"===l.type)t.push(" ");else if("childCombinator"===l.type)t.push(" > ");else if("adjacentSiblingCombinator"===l.type)t.push(" + ");else{if("generalSiblingCombinator"!==l.type)throw new Error("Unknown token.");t.push(" ~ ")}}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t.join("")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1066),o=n(1067),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(){return{parse:function(e){var t=new i.Parser(a.default.ParserRules,a.default.ParserStart).feed(e).results;if(0===t.length)throw new Error("Found no parsings.");if(t.length>1)throw new Error("Ambiguous results.");return t[0]}}}},function(e,t,n){var r,i;r=this,i=function(){function e(t,n,r){return this.id=++e.highestId,this.name=t,this.symbols=n,this.postprocess=r,this}function t(e,t,n,r){this.rule=e,this.dot=t,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function n(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,t){this.rules=e,this.start=t||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(e){n.hasOwnProperty(e.name)||(n[e.name]=[]),n[e.name].push(e)}))}function i(){this.reset("")}function o(e,t,o){if(e instanceof r){var a=e;o=t}else a=r.fromCompiled(e,t);for(var s in this.grammar=a,this.options={keepHistory:!1,lexer:a.lexer||new i},o||{})this.options[s]=o[s];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(a,0);this.table=[l],l.wants[a.start]=[],l.predict(a.start),l.process(),this.current=0}return e.highestId=0,e.prototype.toString=function(e){function t(e){return e.literal?JSON.stringify(e.literal):e.type?"%"+e.type:e.toString()}var n=void 0===e?this.symbols.map(t).join(" "):this.symbols.slice(0,e).map(t).join(" ")+"  "+this.symbols.slice(e).map(t).join(" ");return this.name+"  "+n},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var n=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=e,n.isComplete&&(n.data=n.build()),n},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(e){for(var t=this.states,n=this.wants,r=this.completed,i=0;i<t.length;i++){var a=t[i];if(a.isComplete){if(a.finish(),a.data!==o.fail){for(var s=a.wantedBy,l=s.length;l--;){var u=s[l];this.complete(u,a)}if(a.reference===this.index){var c=a.rule.name;(this.completed[c]=this.completed[c]||[]).push(a)}}}else{if("string"!=typeof(c=a.rule.symbols[a.dot])){this.scannable.push(a);continue}if(n[c]){if(n[c].push(a),r.hasOwnProperty(c)){var h=r[c];for(l=0;l<h.length;l++){var d=h[l];this.complete(a,d)}}}else n[c]=[a],this.predict(c)}}},n.prototype.predict=function(e){for(var n=this.grammar.byName[e]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[e],a=new t(i,0,this.index,o);this.states.push(a)}},n.prototype.complete=function(e,t){var n=e.nextState(t);this.states.push(n)},r.fromCompiled=function(t,n){var i=t.Lexer;t.ParserStart&&(n=t.ParserStart,t=t.ParserRules);var o=new r(t=t.map((function(t){return new e(t.name,t.symbols,t.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(e,t){var n=this.buffer;if("string"==typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var i=n.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return t+=" at line "+this.line+" col "+o+":\n\n",t+="  "+i+"\n",t+="  "+Array(o).join(" ")+"^"}return t+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(e){var t,r=this.lexer;for(r.reset(e,this.lexerState);t=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1,s=new n(this.grammar,a);this.table.push(s);for(var l=void 0!==t.text?t.text:t.value,u=r.constructor===i?t.value:t,c=o.scannable,h=c.length;h--;){var d=c[h],f=d.rule.symbols[d.dot];if(f.test?f.test(u):f.type?f.type===t.type:f.literal===l){var p=d.nextState({data:u,token:t,isToken:!0,reference:a-1});s.states.push(p)}}if(s.process(),0===s.states.length){var m=this.lexer.formatError(t,"invalid syntax")+"\n";m+="Unexpected "+(t.type?t.type+" token: ":""),m+=JSON.stringify(void 0!==t.value?t.value:t)+"\n";var v=new Error(m);throw v.offset=this.current,v.token=t,v}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===t&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&e.push(n)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}},e.exports?e.exports=i():r.nearley=i()},function(e,t,n){"use strict";!function(){function t(e){return e[0]}var r,i,o=n(1068),a=function(e){return e=e.filter((function(e){return null!==e})),o(e)},s={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},l=function(e,t,n){var r=o(e).join(""),i=parseFloat(r);return isNaN(i)?n:i},u=function(e,t,n){return"true"===e[0]||"false"!==e[0]&&n},c=function(e,t,n){return"NaN"===e[0]?NaN:"undefined"!==e[0]?"null"===e[0]?null:n:void 0},h={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:function(e){return(Array.isArray(e[0])?e[0]:[e[0]]).concat({type:s[e[2]]}).concat(e[4])}},{name:"selector",symbols:["selectorBody"],postprocess:function(e){return{type:"selector",body:e[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(e,t,n){var r=a(e);return r.length?r:n}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:a},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(e){return{type:"typeSelector",name:e[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(e){return(e[0]||"")+e[1]+e[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(e){return{type:"classSelector",name:e[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(e){return{type:"idSelector",name:e[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(e){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(e){return{type:"attributePresenceSelector",name:e[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(e){return{type:"attributeValueSelector",name:e[1],value:e[3],operator:e[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:u},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:u},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:c},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:c},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:c},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:l},{name:"numericValue",symbols:["int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:l},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:l},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:l},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:l},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:(r=0,i=3,function(e){return e[r].concat([e[i]])})},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(e){return e[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoElementSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1],parameters:e[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(e){return e[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(e){return e.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(e){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(e){return e[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(e){return e.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(e){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}}],ParserStart:"combinator"};void 0!==e.exports?e.exports=h:window.grammar=h}()},function(e,t,n){(function(t){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")();function u(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var c=Object.prototype,h=c.hasOwnProperty,d=c.toString,f=l.Symbol,p=c.propertyIsEnumerable,m=f?f.isConcatSpreadable:void 0;function v(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=g),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?v(s,t-1,n,r,i):u(i,s):r||(i[i.length]=s)}return i}function g(e){return y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?d.call(e):"";return t==i||t==o}(e)}(e)}(e)&&h.call(e,"callee")&&(!p.call(e,"callee")||d.call(e)==r)}(e)||!!(m&&e&&e[m])}var y=Array.isArray;e.exports=function(e){return(e?e.length:0)?v(e,Infinity):[]}}).call(this,n(27))},function(e,t,n){"use strict";var r=n(52),i=n(513),o=n(514),a=n(1070),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){"use strict";var r=n(514),i=n(52);e.exports=function(){var e=r();return i(Object,{values:e},{values:function(){return Object.values!==e}}),e}},function(e,t,n){"use strict";var r=n(1072),i=n(1073);e.exports=function(e){if(!e)return[];var t=i();return e===t.unknown?[]:e===t.all?t.elements:r(t.elements,(function(t){return t.constructor===e}))}},function(e,t){e.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var i=[],o=0;o<e.length;o++)if(n.call(e,o)){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";(function(t){var n=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r],r));return n},r=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont"],["HTMLPhraseElement","cite"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound"],["HTMLPhraseElement","blink"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a"],["HTMLAreaElement","area"],["HTMLAudioElement","audio"],["HTMLBaseElement","base"],["HTMLBodyElement","body"],["HTMLBRElement","br"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content"],["HTMLDataElement","data"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture"],["HTMLPreElement","pre"],["HTMLProgressElement","progress"],["HTMLQuoteElement","q"],["HTMLQuoteElement","blockquote","HTMLBlockElement"],["HTMLScriptElement","script"],["HTMLPictureElement","picture"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow"],["HTMLSourceElement","source"],["HTMLSpanElement","span"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time"],["HTMLTitleElement","title"],["HTMLTrackElement","track"],["HTMLUListElement","ul"],["HTMLVideoElement","video"]],i=function(e,t,n){if("undefined"!=typeof document&&"function"==typeof document.createElement){var r=document.createElement(e).constructor;if(r!==n)return r}};e.exports=function(){var e=t.HTMLUnknownElement;return{all:t.HTMLElement,elements:n(r,(function(n){var r=n[0],o=n[1],a=n[2],s=t[r],l=a&&t[a];return{constructor:i(o,0,e),constructorName:l?a:r,expectedConstructor:l||s,tag:o}})),unknown:e}}}).call(this,n(27))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new o.default(e,null,t)};var r,i=n(447),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new o.default(e,null,t)};var r,i=n(515),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.default)(t),a=n.createRenderer((0,r.default)({mode:"string"},t)),s=a.render(e,t.context);return i.default.load("")(s)};var r=a(n(122)),i=a(n(296)),o=a(n(103));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,r.default)(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return(0,i.default)(e,[{key:"getEventHandler",value:function(e){var t=this;return this.customEventHandlers[e]?this.customEventHandlers[e]:function(n){return t.pubSub.publish(e,n)}}},{key:"unregister",value:function(e,t){(this.registeredEls[e]||this.registeredEls[e]===t)&&(this.registeredEls[e].removeEventListener(e,this.registeredEls[e].__handler__),this.registeredEls[e]=void 0,delete this.registeredEls[e])}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&this.registeredEls[e]!==t&&(this.registeredEls[e]&&this.unregister(this.registeredEls[e]),this.registeredEls[e]=t,this.registeredEls[e].__handler__=this.getEventHandler(e),this.registeredEls[e].addEventListener(e,this.registeredEls[e].__handler__,{capture:n,passive:!1}))}}]),e}();t.default=function(e){return new a(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackInfo=t.tileDataToPixData=t.calculateTilesFromResolution=t.calculateTileWidth=t.calculateTiles=t.calculateZoomLevel=t.calculateResolution=t.calculateZoomLevelFromResolutions=t.fetchTilesDebounced=t.getTileProxyAuthHeader=t.setTileProxyAuthHeader=t.authHeader=t.requestsInFlight=void 0;var r,i=m(n(246)),o=m(n(247)),a=m(n(17)),s=m(n(62)),l=m(n(18)),u=(r=(0,o.default)(i.default.mark((function e(t,n,r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.indexOf("hg19")>=0)){e.next=3;break}return e.next=3,M(1);case 3:return e.abrupt("return",A(t,n,"json",r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)});t.fetchMultiRequestTiles=b,t.calculateTileAndPosInTile=w;var c=n(8),h=m(n(26)),d=n(182),f=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=h.default.nice(),g=t.requestsInFlight=0,y=t.authHeader=null;t.setTileProxyAuthHeader=function(e){t.authHeader=y=e},t.getTileProxyAuthHeader=function(){return y};function b(e,t){var n=e.requests,r=[],i={},o={},u=!0,c=!1,h=void 0;try{for(var f,p=(0,a.default)(n);!(u=(f=p.next()).done);u=!0){var m=f.value;i[m.server]||(i[m.server]={},o[m.server]=[]);var g=!0,b=!1,_=void 0;try{for(var T,S=(0,a.default)(m.ids);!(g=(T=S.next()).done);g=!0){var k=T.value;i[m.server][k]=!0,m.options&&function(){var e=k.indexOf("."),t=k.substring(0,e),n=k.substring(e+1),r=o[m.server].find((function(e){return e.tilesetUid===t}));r?r.tileIds.push(n):o[m.server].push({tilesetUid:t,tileIds:[n],options:m.options})}()}}catch(e){b=!0,_=e}finally{try{!g&&S.return&&S.return()}finally{if(b)throw _}}}}catch(e){c=!0,h=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw h}}var w=(0,l.default)(i),x=function(e){for(var n=(0,l.default)(i[e]),a=o[e],u=function(i){var o=n.slice(i,i+Math.min(n.length-i,15)),l=o.map((function(e){return"d="+String(e)})).join("&"),u=String(e)+"/tiles/?"+String(l)+"&s="+String(v),c=new s.default((function(n,r){t.publish("requestSent",u);var i={};i.outUrl=u,i.server=e,i.theseTileIds=o,i.authHeader=y,(0,d.workerGetTiles)(i.outUrl,i.server,i.theseTileIds,i.authHeader,n,a),t.publish("requestReceived",u)}));r.push(c)},c=0;c<n.length;c+=15)u(c)},E=!0,C=!1,O=void 0;try{for(var A,M=(0,a.default)(w);!(E=(A=M.next()).done);E=!0){x(A.value)}}catch(e){C=!0,O=e}finally{try{!E&&M.return&&M.return()}finally{if(C)throw O}}s.default.all(r).then((function(e){var t={},r=!0,i=!1,o=void 0;try{for(var s,u=(0,a.default)(e);!(r=(s=u.next()).done);r=!0){var c=s.value,h=(0,l.default)(c),d=!0,f=!1,p=void 0;try{for(var m,v=(0,a.default)(h);!(d=(m=v.next()).done);d=!0){var g=m.value;t[String(c[g].server)+"/"+String(g)]=c[g]}}catch(e){f=!0,p=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw p}}}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}var y=!0,b=!1,_=void 0;try{for(var T,S=(0,a.default)(n);!(y=(T=S.next()).done);y=!0){var k=T.value,w={},x=k.server,E=!0,C=!1,O=void 0;try{for(var A,M=(0,a.default)(k.ids);!(E=(A=M.next()).done);E=!0){var P=A.value;w[P]=t[String(x)+"/"+String(P)]}}catch(e){C=!0,O=e}finally{try{!E&&M.return&&M.return()}finally{if(C)throw O}}k.done(w)}}catch(e){b=!0,_=e}finally{try{!y&&S.return&&S.return()}finally{if(b)throw _}}}))}var _=t.fetchTilesDebounced=function(e,t,n){var r=void 0,i=[],o={},a=0,s=function(e){var t=o[e.id];t&&i[t]?i[t].ids=i[t].ids.concat(e.ids):(o[e.id]=i.length,i.push(e))},l=function(){r=null,i=[],o={}},u=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.apply(void 0,[{sessionId:v,requests:i}].concat(r)),l()},c=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];var s=function(){a>0&&(u.apply(void 0,[e].concat(i)),a=0)};clearTimeout(r),r=setTimeout(s,n)};c.cancel=function(){clearTimeout(r),l()},c.immediate=function(){e({sessionId:v,requests:i})};var h=!1;return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];s(e),h?a++:(u.apply(void 0,[e].concat(r)),c.apply(void 0,[e].concat(r)),h=!0,a=0,setTimeout((function(){h=!1}),t))}}(b,p.TILE_FETCH_DEBOUNCE,p.TILE_FETCH_DEBOUNCE),T=t.calculateZoomLevelFromResolutions=function(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e})),r=t.range()[1]-t.range()[0],i=n.map((function(e){return(t.domain()[1]-t.domain()[0])/e})).map((function(e){return e/r})),o=i.filter((function(e){return e<1}));return 0===o.length?0:i.indexOf(o[o.length-1])},S=t.calculateResolution=function(e,t){if(e.resolutions)return e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t];var n=e.max_width,r=+e.bins_per_dimension;return n/(Math.pow(2,t)*r)},k=t.calculateZoomLevel=function(e,t,n,r){var i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2)),s=Math.round(Math.log(o)/Math.LN2)+a,l=0;return r&&(l=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),s+=l};function w(e,t,n,r,i){var o=null,a=e.bins_per_dimension||256;o=e.resolutions?e.resolutions[r]*a:t/Math.pow(2,r);var s=Math.floor((i-n)/o);return[s,Math.floor(a*(i-s*o)/o)]}var x=t.calculateTiles=function(e,t,n,r,i,o){var a=Math.min(e,i),s=o/Math.pow(2,a);return(0,c.range)(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((t.domain()[1]-n-1e-7)/s)))},E=t.calculateTileWidth=function(e,t,n){return e.resolutions?e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t]*n:e.max_width/Math.pow(2,t)},C=t.calculateTilesFromResolution=function(e,t,n,r,i){var o=e*(i||256);r||(r=Number.MAX_VALUE);var a=Math.max(0,Math.floor((t.domain()[0]-n)/o)),s=Math.ceil(Math.min(r,t.domain()[1]-n-1e-7)/o),l=(0,c.range)(a,s);return l.length>20&&(console.warn("Too many visible tiles: "+String(l.length)+" truncating to 20"),l=l.slice(0,20)),l},O=t.tileDataToPixData=function(e,t,n,r,i,o,a,s,l,u){var c=e.tileData;if(c.dense){if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();for(var h=Math.floor(Math.sqrt(e.tileData.dense.length)),f=0;f<h;f++)for(var p=f+1;p<h;p++)e.tileData.dense[f*h+p]=e.tileData.dense[p*h+f];if(s)for(var m=0;m<h;m++)for(var v=0;v<m;v++)e.tileData.dense[m*h+v]=NaN;e.isMirrored=!0}o({pixData:(0,d.workerSetPix)(c.dense.length,c.dense,t,n,r,i,a,s,e.tileData.shape,l,u)})}else o(null)};function A(e,n,r,i){t.requestsInFlight=g+=1,i.publish("requestSent",e);var o=null;if("text"===r)o=null;else{if("json"!==r)throw new Error('fetch either "text" or "json", not "'+r+'"');o="application/json"}var a={};return o&&(a["Content-Type"]=o),y&&(a.Authorization=y),fetch(e,{credentials:"same-origin",headers:a}).then((function(e){if(!e.ok)throw Error(e.statusText);return e[r]()})).then((function(e){return n(void 0,e),e})).catch((function(t){return console.error("Could not fetch "+String(e),t),n(t,void 0),t})).finally((function(){i.publish("requestReceived",e),t.requestsInFlight=g-=1}))}function M(e){return new s.default((function(t){return setTimeout(t,e)}))}var P=t.trackInfo=function(e,t,n,r,i){var o=String((0,f.trimTrailingSlash)(e))+"/tileset_info/?d="+String(t)+"&s="+String(v);i.publish("requestSent",o),u(o,(function(t,a){i.publish("requestReceived",o),t?r?r("Error retrieving tilesetInfo from: "+String(e)):console.warn("Error retrieving: ",o):n(a)}),i)},I={calculateResolution:S,calculateTileAndPosInTile:w,calculateTiles:x,calculateTilesFromResolution:C,calculateTileWidth:E,calculateZoomLevel:k,calculateZoomLevelFromResolutions:T,fetchTilesDebounced:_,json:u,text:function(e,t,n){return A(e,t,"text",n)},tileDataToPixData:O,trackInfo:P};t.default=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackViewer=void 0;var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(19)),u=d(n(2)),c=d(n(1)),h=n(317);function d(e){return e&&e.__esModule?e:{default:e}}var f=t.trackViewer=function(e,t,n){var r=(0,l.default)(t,4),i=r[0],o=r[1],a=r[2],s=r[3];n.options.colorbarPosition||(n.options.colorbarPosition="hidden"),n.options.labelPosition||(n.options.labelPosition="hidden");var u="arbitary-id",c={editable:!1,zoomFixed:!1,views:[{uid:u,initialXDomain:[i,o],initialYDomain:[a,s],tracks:{center:[n]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]};return{id:u,hgApi:(0,h.viewer)(e,c,{sizeMode:"bounded"})}},p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.id="id-"+String(Math.random()),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.initTrackViewer()}},{key:"shouldComponentUpdate",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return this.zoomTo(t,n,r,i),!1}},{key:"initTrackViewer",value:function(){var e=this.props,t=e.trackConfig,n=e.x,r=e.y,i=e.width,o=e.height,a=document.getElementById(this.id),s=f(a,[n,n+i,r,r+o],t),l=s.id,u=s.hgApi;this.viewUid=l,this.viewer=u}},{key:"zoomTo",value:function(e,t,n,r){this.viewer.zoomTo(this.viewUid,e,e+n,t,t+r)}},{key:"render",value:function(){return c.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),t}(c.default.Component);t.default=p,p.propTypes={trackConfig:u.default.object,width:u.default.number,height:u.default.number,x:u.default.number,y:u.default.number}},function(e,t,n){"use strict";n.r(t);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(e){a(o,e,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var s=1e-6,l=1e-12,u=Math.PI,c=u/2,h=u/4,d=2*u,f=180/u,p=u/180,m=Math.abs,v=Math.atan,g=Math.atan2,y=Math.cos,b=Math.ceil,_=Math.exp,T=(Math.floor,Math.log),S=Math.pow,k=Math.sin,w=Math.sign||function(e){return e>0?1:e<0?-1:0},x=Math.sqrt,E=Math.tan;function C(e){return e>1?0:e<-1?u:Math.acos(e)}function O(e){return e>1?c:e<-1?-c:Math.asin(e)}function A(e){return(e=k(e/2))*e}function M(){}function P(e,t){e&&L.hasOwnProperty(e.type)&&L[e.type](e,t)}var I={Feature:function(e,t){P(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)P(n[r].geometry,t)}},L={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){R(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)R(n[r],t,0)},Polygon:function(e,t){D(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)D(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)P(n[r],t)}};function R(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function D(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)R(e[n],t,1);t.polygonEnd()}var N,j,H,B,F,z=function(e,t){e&&I.hasOwnProperty(e.type)?I[e.type](e,t):P(e,t)},V=r(),U=r(),G={point:M,lineStart:M,lineEnd:M,polygonStart:function(){V.reset(),G.lineStart=Y,G.lineEnd=W},polygonEnd:function(){var e=+V;U.add(e<0?d+e:e),this.lineStart=this.lineEnd=this.point=M},sphere:function(){U.add(d)}};function Y(){G.point=q}function W(){X(N,j)}function q(e,t){G.point=X,N=e,j=t,H=e*=p,B=y(t=(t*=p)/2+h),F=k(t)}function X(e,t){var n=(e*=p)-H,r=n>=0?1:-1,i=r*n,o=y(t=(t*=p)/2+h),a=k(t),s=F*a,l=B*o+s*y(i),u=s*r*k(i);V.add(g(u,l)),H=e,B=o,F=a}var K=function(e){return U.reset(),z(e,G),2*U};function $(e){return[g(e[1],e[0]),O(e[2])]}function Z(e){var t=e[0],n=e[1],r=y(n);return[r*y(t),r*k(t),k(n)]}function Q(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function J(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ee(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function te(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ne(e){var t=x(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var re,ie,oe,ae,se,le,ue,ce,he,de,fe=r(),pe={point:me,lineStart:ge,lineEnd:ye,polygonStart:function(){pe.point=be,pe.lineStart=_e,pe.lineEnd=Te,fe.reset(),G.polygonStart()},polygonEnd:function(){G.polygonEnd(),pe.point=me,pe.lineStart=ge,pe.lineEnd=ye,V<0?(re=-(oe=180),ie=-(ae=90)):fe>s?ae=90:fe<-s&&(ie=-90),de[0]=re,de[1]=oe}};function me(e,t){he.push(de=[re=e,oe=e]),t<ie&&(ie=t),t>ae&&(ae=t)}function ve(e,t){var n=Z([e*p,t*p]);if(ce){var r=J(ce,n),i=J([r[1],-r[0],0],r);ne(i),i=$(i);var o,a=e-se,s=a>0?1:-1,l=i[0]*f*s,u=m(a)>180;u^(s*se<l&&l<s*e)?(o=i[1]*f)>ae&&(ae=o):u^(s*se<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*f)<ie&&(ie=o):(t<ie&&(ie=t),t>ae&&(ae=t)),u?e<se?Se(re,e)>Se(re,oe)&&(oe=e):Se(e,oe)>Se(re,oe)&&(re=e):oe>=re?(e<re&&(re=e),e>oe&&(oe=e)):e>se?Se(re,e)>Se(re,oe)&&(oe=e):Se(e,oe)>Se(re,oe)&&(re=e)}else he.push(de=[re=e,oe=e]);t<ie&&(ie=t),t>ae&&(ae=t),ce=n,se=e}function ge(){pe.point=ve}function ye(){de[0]=re,de[1]=oe,pe.point=me,ce=null}function be(e,t){if(ce){var n=e-se;fe.add(m(n)>180?n+(n>0?360:-360):n)}else le=e,ue=t;G.point(e,t),ve(e,t)}function _e(){G.lineStart()}function Te(){be(le,ue),G.lineEnd(),m(fe)>s&&(re=-(oe=180)),de[0]=re,de[1]=oe,ce=null}function Se(e,t){return(t-=e)<0?t+360:t}function ke(e,t){return e[0]-t[0]}function we(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var xe,Ee,Ce,Oe,Ae,Me,Pe,Ie,Le,Re,De,Ne,je,He,Be,Fe,ze=function(e){var t,n,r,i,o,a,s;if(ae=oe=-(re=ie=1/0),he=[],z(e,pe),n=he.length){for(he.sort(ke),t=1,o=[r=he[0]];t<n;++t)we(r,(i=he[t])[0])||we(r,i[1])?(Se(r[0],i[1])>Se(r[0],r[1])&&(r[1]=i[1]),Se(i[0],r[1])>Se(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=Se(r[1],i[0]))>a&&(a=s,re=i[0],oe=r[1])}return he=de=null,re===1/0||ie===1/0?[[NaN,NaN],[NaN,NaN]]:[[re,ie],[oe,ae]]},Ve={sphere:M,point:Ue,lineStart:Ye,lineEnd:Xe,polygonStart:function(){Ve.lineStart=Ke,Ve.lineEnd=$e},polygonEnd:function(){Ve.lineStart=Ye,Ve.lineEnd=Xe}};function Ue(e,t){e*=p;var n=y(t*=p);Ge(n*y(e),n*k(e),k(t))}function Ge(e,t,n){++xe,Ce+=(e-Ce)/xe,Oe+=(t-Oe)/xe,Ae+=(n-Ae)/xe}function Ye(){Ve.point=We}function We(e,t){e*=p;var n=y(t*=p);He=n*y(e),Be=n*k(e),Fe=k(t),Ve.point=qe,Ge(He,Be,Fe)}function qe(e,t){e*=p;var n=y(t*=p),r=n*y(e),i=n*k(e),o=k(t),a=g(x((a=Be*o-Fe*i)*a+(a=Fe*r-He*o)*a+(a=He*i-Be*r)*a),He*r+Be*i+Fe*o);Ee+=a,Me+=a*(He+(He=r)),Pe+=a*(Be+(Be=i)),Ie+=a*(Fe+(Fe=o)),Ge(He,Be,Fe)}function Xe(){Ve.point=Ue}function Ke(){Ve.point=Ze}function $e(){Qe(Ne,je),Ve.point=Ue}function Ze(e,t){Ne=e,je=t,e*=p,t*=p,Ve.point=Qe;var n=y(t);He=n*y(e),Be=n*k(e),Fe=k(t),Ge(He,Be,Fe)}function Qe(e,t){e*=p;var n=y(t*=p),r=n*y(e),i=n*k(e),o=k(t),a=Be*o-Fe*i,s=Fe*r-He*o,l=He*i-Be*r,u=x(a*a+s*s+l*l),c=O(u),h=u&&-c/u;Le+=h*a,Re+=h*s,De+=h*l,Ee+=c,Me+=c*(He+(He=r)),Pe+=c*(Be+(Be=i)),Ie+=c*(Fe+(Fe=o)),Ge(He,Be,Fe)}var Je=function(e){xe=Ee=Ce=Oe=Ae=Me=Pe=Ie=Le=Re=De=0,z(e,Ve);var t=Le,n=Re,r=De,i=t*t+n*n+r*r;return i<l&&(t=Me,n=Pe,r=Ie,Ee<s&&(t=Ce,n=Oe,r=Ae),(i=t*t+n*n+r*r)<l)?[NaN,NaN]:[g(n,t)*f,O(r/x(i))*f]},et=function(e){return function(){return e}},tt=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function nt(e,t){return[m(e)>u?e+Math.round(-e/d)*d:e,t]}function rt(e,t,n){return(e%=d)?t||n?tt(ot(e),at(t,n)):ot(e):t||n?at(t,n):nt}function it(e){return function(t,n){return[(t+=e)>u?t-d:t<-u?t+d:t,n]}}function ot(e){var t=it(e);return t.invert=it(-e),t}function at(e,t){var n=y(e),r=k(e),i=y(t),o=k(t);function a(e,t){var a=y(t),s=y(e)*a,l=k(e)*a,u=k(t),c=u*n+s*r;return[g(l*i-c*o,s*n-u*r),O(c*i+l*o)]}return a.invert=function(e,t){var a=y(t),s=y(e)*a,l=k(e)*a,u=k(t),c=u*i-l*o;return[g(l*i+u*o,s*n+c*r),O(c*n-s*r)]},a}nt.invert=nt;var st=function(e){function t(t){return(t=e(t[0]*p,t[1]*p))[0]*=f,t[1]*=f,t}return e=rt(e[0]*p,e[1]*p,e.length>2?e[2]*p:0),t.invert=function(t){return(t=e.invert(t[0]*p,t[1]*p))[0]*=f,t[1]*=f,t},t};function lt(e,t,n,r,i,o){if(n){var a=y(t),s=k(t),l=r*n;null==i?(i=t+r*d,o=t-l/2):(i=ut(a,i),o=ut(a,o),(r>0?i<o:i>o)&&(i+=r*d));for(var u,c=i;r>0?c>o:c<o;c-=l)u=$([a,-s*y(c),-s*k(c)]),e.point(u[0],u[1])}}function ut(e,t){(t=Z(t))[0]-=e,ne(t);var n=C(-t[1]);return((-t[2]<0?-n:n)+d-s)%d}var ct=function(){var e,t,n=et([0,0]),r=et(90),i=et(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=f,n[1]*=f}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*p,l=i.apply(this,arguments)*p;return e=[],t=rt(-a[0]*p,-a[1]*p,0).invert,lt(o,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:et([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:et(+e),a):r},a.precision=function(e){return arguments.length?(i="function"==typeof e?e:et(+e),a):i},a},ht=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:M,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},dt=function(e,t){return m(e[0]-t[0])<s&&m(e[1]-t[1])<s};function ft(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var pt=function(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(dt(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new ft(r,e,null,!0)),l.push(n.o=new ft(r,null,n,!1)),s.push(n=new ft(a,e,null,!1)),l.push(n.o=new ft(a,null,n,!0))}})),s.length){for(l.sort(t),mt(s),mt(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(u=d.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}u=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}};function mt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var vt=r(),gt=function(e,t){var n=t[0],r=t[1],i=k(r),o=[k(n),-y(n),0],a=0,l=0;vt.reset(),1===i?r=c+s:-1===i&&(r=-c-s);for(var f=0,p=e.length;f<p;++f)if(v=(m=e[f]).length)for(var m,v,b=m[v-1],_=b[0],T=b[1]/2+h,S=k(T),w=y(T),x=0;x<v;++x,_=C,S=M,w=P,b=E){var E=m[x],C=E[0],A=E[1]/2+h,M=k(A),P=y(A),I=C-_,L=I>=0?1:-1,R=L*I,D=R>u,N=S*M;if(vt.add(g(N*L*k(R),w*P+N*y(R))),a+=D?I+L*d:I,D^_>=n^C>=n){var j=J(Z(b),Z(E));ne(j);var H=J(o,j);ne(H);var B=(D^I>=0?-1:1)*O(H[2]);(r>B||r===B&&(j[0]||j[1]))&&(l+=D^I>=0?1:-1)}}return(a<-s||a<s&&vt<-s)^1&l},yt=n(8),bt=function(e,t,n,r){return function(i){var o,a,s,l=t(i),u=ht(),c=t(u),h=!1,d={point:f,lineStart:m,lineEnd:v,polygonStart:function(){d.point=g,d.lineStart=y,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=m,d.lineEnd=v,a=Object(yt.merge)(a);var e=gt(o,r);a.length?(h||(i.polygonStart(),h=!0),pt(a,Tt,e,n,i)):e&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(t,n){e(t,n)&&i.point(t,n)}function p(e,t){l.point(e,t)}function m(){d.point=p,l.lineStart()}function v(){d.point=f,l.lineEnd()}function g(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),d=u.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if((t=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(_t))}return d}};function _t(e){return e.length>1}function Tt(e,t){return((e=e.x)[0]<0?e[1]-c-s:c-e[1])-((t=t.x)[0]<0?t[1]-c-s:c-t[1])}var St=bt((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var l=o>0?u:-u,h=m(o-n);m(h-u)<s?(e.point(n,r=(r+a)/2>0?c:-c),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),t=0):i!==l&&h>=u&&(m(n-i)<s&&(n-=i*s),m(o-l)<s&&(o-=l*s),r=function(e,t,n,r){var i,o,a=k(e-n);return m(a)>s?v((k(t)*(o=y(r))*k(n)-k(r)*(i=y(t))*k(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=o,r=a),i=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*c,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(m(e[0]-t[0])>s){var o=e[0]<t[0]?u:-u;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-u,-c]);var kt=function(e){var t=y(e),n=6*p,r=t>0,i=m(t)>s;function o(e,n){return y(e)*y(n)>t}function a(e,n,r){var i=[1,0,0],o=J(Z(e),Z(n)),a=Q(o,o),l=o[0],c=a-l*l;if(!c)return!r&&e;var h=t*a/c,d=-t*l/c,f=J(i,o),p=te(i,h);ee(p,te(o,d));var v=f,g=Q(p,v),y=Q(v,v),b=g*g-y*(Q(p,p)-1);if(!(b<0)){var _=x(b),T=te(v,(-g-_)/y);if(ee(T,p),T=$(T),!r)return T;var S,k=e[0],w=n[0],E=e[1],C=n[1];w<k&&(S=k,k=w,w=S);var O=w-k,A=m(O-u)<s;if(!A&&C<E&&(S=E,E=C,C=S),A||O<s?A?E+C>0^T[1]<(m(T[0]-k)<s?E:C):E<=T[1]&&T[1]<=C:O>u^(k<=T[0]&&T[0]<=w)){var M=te(v,(-g+_)/y);return ee(M,p),[T,$(M)]}}}function l(t,n){var i=r?e:u-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return bt(o,(function(e){var t,n,c,h,d;return{lineStart:function(){h=c=!1,d=1},point:function(f,p){var m,v=[f,p],g=o(f,p),y=r?g?0:l(f,p):g?l(f+(f<0?u:-u),p):0;if(!t&&(h=c=g)&&e.lineStart(),g!==c&&(!(m=a(t,v))||dt(t,m)||dt(v,m))&&(v[0]+=s,v[1]+=s,g=o(v[0],v[1])),g!==c)d=0,g?(e.lineStart(),m=a(v,t),e.point(m[0],m[1])):(m=a(t,v),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(i&&t&&r^g){var b;y&n||!(b=a(v,t,!0))||(d=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!g||t&&dt(t,v)||e.point(v[0],v[1]),t=v,c=g,n=y},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return d|(h&&c)<<1}}}),(function(t,r,i,o){lt(o,e,n,i,t,r)}),r?[0,-e]:[-u,e-u])},wt=1e9,xt=-wt;function Et(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return m(r[0]-e)<s?i>0?0:3:m(r[0]-n)<s?i>0?2:1:m(r[1]-t)<s?i>0?1:0:i>0?3:2}function l(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,u,c,h,d,f,p,m,v,g,y,b=a,_=ht(),T={point:S,lineStart:function(){T.point=k,u&&u.push(c=[]);g=!0,v=!1,p=m=NaN},lineEnd:function(){s&&(k(h,d),f&&v&&_.rejoin(),s.push(_.result()));T.point=S,v&&b.lineEnd()},polygonStart:function(){b=_,s=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,h=s[0],d=h[0],f=h[1];l<c;++l)o=d,a=f,d=(h=s[l])[0],f=h[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(e-o)&&++t:f<=r&&(d-o)*(r-a)<(f-a)*(e-o)&&--t;return t}(),n=y&&t,i=(s=Object(yt.merge)(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&pt(s,l,t,o,a),a.polygonEnd());b=a,s=u=c=null}};function S(e,t){i(e,t)&&b.point(e,t)}function k(o,a){var s=i(o,a);if(u&&c.push([o,a]),g)h=o,d=a,f=s,g=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var l=[p=Math.max(xt,Math.min(wt,p)),m=Math.max(xt,Math.min(wt,m))],_=[o=Math.max(xt,Math.min(wt,o)),a=Math.max(xt,Math.min(wt,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,h=t[0]-s,d=t[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*h,e[1]=l+u*d),c<1&&(t[0]=s+c*h,t[1]=l+c*d),!0}}}}}(l,_,e,t,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(v||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1)}p=o,m=a,v=s}return T}}var Ct,Ot,At,Mt=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Et(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},Pt=r(),It={sphere:M,point:M,lineStart:function(){It.point=Rt,It.lineEnd=Lt},lineEnd:M,polygonStart:M,polygonEnd:M};function Lt(){It.point=It.lineEnd=M}function Rt(e,t){Ct=e*=p,Ot=k(t*=p),At=y(t),It.point=Dt}function Dt(e,t){e*=p;var n=k(t*=p),r=y(t),i=m(e-Ct),o=y(i),a=r*k(i),s=At*n-Ot*r*o,l=Ot*n+At*r*o;Pt.add(g(x(a*a+s*s),l)),Ct=e,Ot=n,At=r}var Nt=function(e){return Pt.reset(),z(e,It),+Pt},jt=[null,null],Ht={type:"LineString",coordinates:jt},Bt=function(e,t){return jt[0]=e,jt[1]=t,Nt(Ht)},Ft={Feature:function(e,t){return Vt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Vt(n[r].geometry,t))return!0;return!1}},zt={Sphere:function(){return!0},Point:function(e,t){return Ut(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ut(n[r],t))return!0;return!1},LineString:function(e,t){return Gt(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Gt(n[r],t))return!0;return!1},Polygon:function(e,t){return Yt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Yt(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Vt(n[r],t))return!0;return!1}};function Vt(e,t){return!(!e||!zt.hasOwnProperty(e.type))&&zt[e.type](e,t)}function Ut(e,t){return 0===Bt(e,t)}function Gt(e,t){var n=Bt(e[0],e[1]);return Bt(e[0],t)+Bt(t,e[1])<=n+s}function Yt(e,t){return!!gt(e.map(Wt),qt(t))}function Wt(e){return(e=e.map(qt)).pop(),e}function qt(e){return[e[0]*p,e[1]*p]}var Xt=function(e,t){return(e&&Ft.hasOwnProperty(e.type)?Ft[e.type]:Vt)(e,t)};function Kt(e,t,n){var r=Object(yt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function $t(e,t,n){var r=Object(yt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Zt(){var e,t,n,r,i,o,a,l,u,c,h,d,f=10,p=f,v=90,g=360,y=2.5;function _(){return{type:"MultiLineString",coordinates:T()}}function T(){return Object(yt.range)(b(r/v)*v,n,v).map(h).concat(Object(yt.range)(b(l/g)*g,a,g).map(d)).concat(Object(yt.range)(b(t/f)*f,e,f).filter((function(e){return m(e%v)>s})).map(u)).concat(Object(yt.range)(b(o/p)*p,i,p).filter((function(e){return m(e%g)>s})).map(c))}return _.lines=function(){return T().map((function(e){return{type:"LineString",coordinates:e}}))},_.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(d(a).slice(1),h(n).reverse().slice(1),d(l).reverse().slice(1))]}},_.extent=function(e){return arguments.length?_.extentMajor(e).extentMinor(e):_.extentMinor()},_.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),_.precision(y)):[[r,l],[n,a]]},_.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),_.precision(y)):[[t,o],[e,i]]},_.step=function(e){return arguments.length?_.stepMajor(e).stepMinor(e):_.stepMinor()},_.stepMajor=function(e){return arguments.length?(v=+e[0],g=+e[1],_):[v,g]},_.stepMinor=function(e){return arguments.length?(f=+e[0],p=+e[1],_):[f,p]},_.precision=function(s){return arguments.length?(y=+s,u=Kt(o,i,90),c=$t(t,e,y),h=Kt(l,a,90),d=$t(r,n,y),_):y},_.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Qt(){return Zt()()}var Jt,en,tn,nn,rn=function(e,t){var n=e[0]*p,r=e[1]*p,i=t[0]*p,o=t[1]*p,a=y(r),s=k(r),l=y(o),u=k(o),c=a*y(n),h=a*k(n),d=l*y(i),m=l*k(i),v=2*O(x(A(o-r)+a*l*A(i-n))),b=k(v),_=v?function(e){var t=k(e*=v)/b,n=k(v-e)/b,r=n*c+t*d,i=n*h+t*m,o=n*s+t*u;return[g(i,r)*f,g(o,x(r*r+i*i))*f]}:function(){return[n*f,r*f]};return _.distance=v,_},on=function(e){return e},an=r(),sn=r(),ln={point:M,lineStart:M,lineEnd:M,polygonStart:function(){ln.lineStart=un,ln.lineEnd=dn},polygonEnd:function(){ln.lineStart=ln.lineEnd=ln.point=M,an.add(m(sn)),sn.reset()},result:function(){var e=an/2;return an.reset(),e}};function un(){ln.point=cn}function cn(e,t){ln.point=hn,Jt=tn=e,en=nn=t}function hn(e,t){sn.add(nn*e-tn*t),tn=e,nn=t}function dn(){hn(Jt,en)}var fn=ln,pn=1/0,mn=pn,vn=-pn,gn=vn,yn={point:function(e,t){e<pn&&(pn=e);e>vn&&(vn=e);t<mn&&(mn=t);t>gn&&(gn=t)},lineStart:M,lineEnd:M,polygonStart:M,polygonEnd:M,result:function(){var e=[[pn,mn],[vn,gn]];return vn=gn=-(mn=pn=1/0),e}};var bn,_n,Tn,Sn,kn=yn,wn=0,xn=0,En=0,Cn=0,On=0,An=0,Mn=0,Pn=0,In=0,Ln={point:Rn,lineStart:Dn,lineEnd:Hn,polygonStart:function(){Ln.lineStart=Bn,Ln.lineEnd=Fn},polygonEnd:function(){Ln.point=Rn,Ln.lineStart=Dn,Ln.lineEnd=Hn},result:function(){var e=In?[Mn/In,Pn/In]:An?[Cn/An,On/An]:En?[wn/En,xn/En]:[NaN,NaN];return wn=xn=En=Cn=On=An=Mn=Pn=In=0,e}};function Rn(e,t){wn+=e,xn+=t,++En}function Dn(){Ln.point=Nn}function Nn(e,t){Ln.point=jn,Rn(Tn=e,Sn=t)}function jn(e,t){var n=e-Tn,r=t-Sn,i=x(n*n+r*r);Cn+=i*(Tn+e)/2,On+=i*(Sn+t)/2,An+=i,Rn(Tn=e,Sn=t)}function Hn(){Ln.point=Rn}function Bn(){Ln.point=zn}function Fn(){Vn(bn,_n)}function zn(e,t){Ln.point=Vn,Rn(bn=Tn=e,_n=Sn=t)}function Vn(e,t){var n=e-Tn,r=t-Sn,i=x(n*n+r*r);Cn+=i*(Tn+e)/2,On+=i*(Sn+t)/2,An+=i,Mn+=(i=Sn*e-Tn*t)*(Tn+e),Pn+=i*(Sn+t),In+=3*i,Rn(Tn=e,Sn=t)}var Un=Ln;function Gn(e){this._context=e}Gn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,d)}},result:M};var Yn,Wn,qn,Xn,Kn,$n=r(),Zn={point:M,lineStart:function(){Zn.point=Qn},lineEnd:function(){Yn&&Jn(Wn,qn),Zn.point=M},polygonStart:function(){Yn=!0},polygonEnd:function(){Yn=null},result:function(){var e=+$n;return $n.reset(),e}};function Qn(e,t){Zn.point=Jn,Wn=Xn=e,qn=Kn=t}function Jn(e,t){Xn-=e,Kn-=t,$n.add(x(Xn*Xn+Kn*Kn)),Xn=e,Kn=t}var er=Zn;function tr(){this._string=[]}function nr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}tr.prototype={_radius:4.5,_circle:nr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=nr(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var rr=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),z(e,n(r))),r.result()}return o.area=function(e){return z(e,n(fn)),fn.result()},o.measure=function(e){return z(e,n(er)),er.result()},o.bounds=function(e){return z(e,n(kn)),kn.result()},o.centroid=function(e){return z(e,n(Un)),Un.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,on):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new tr):new Gn(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},ir=function(e){return{stream:or(e)}};function or(e){return function(t){var n=new ar;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ar(){}function sr(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),z(n,e.stream(kn)),t(kn.result()),null!=r&&e.clipExtent(r),e}function lr(e,t,n){return sr(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function ur(e,t,n){return lr(e,[[0,0],t],n)}function cr(e,t,n){return sr(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function hr(e,t,n){return sr(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}ar.prototype={constructor:ar,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dr=y(30*p),fr=function(e,t){return+t?function(e,t){function n(r,i,o,a,l,u,c,h,d,f,p,v,y,b){var _=c-r,T=h-i,S=_*_+T*T;if(S>4*t&&y--){var k=a+f,w=l+p,E=u+v,C=x(k*k+w*w+E*E),A=O(E/=C),M=m(m(E)-1)<s||m(o-d)<s?(o+d)/2:g(w,k),P=e(M,A),I=P[0],L=P[1],R=I-r,D=L-i,N=T*R-_*D;(N*N/S>t||m((_*R+T*D)/S-.5)>.3||a*f+l*p+u*v<dr)&&(n(r,i,o,a,l,u,I,L,M,k/=C,w/=C,E,y,b),b.point(I,L),n(I,L,M,k,w,E,c,h,d,f,p,v,y,b))}}return function(t){var r,i,o,a,s,l,u,c,h,d,f,p,m={point:v,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=_},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var o=Z([r,i]),a=e(r,i);n(c,h,u,d,f,p,c=a[0],h=a[1],u=r,d=o[0],f=o[1],p=o[2],16,t),t.point(c,h)}function b(){m.point=v,t.lineEnd()}function _(){g(),m.point=T,m.lineEnd=S}function T(e,t){y(r=e,t),i=c,o=h,a=d,s=f,l=p,m.point=y}function S(){n(c,h,u,d,f,p,i,o,r,a,s,l,16,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return or({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var pr=or({point:function(e,t){this.stream.point(e*p,t*p)}});function mr(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r}function vr(e,t,n,r){var i=y(r),o=k(r),a=i*e,s=o*e,l=i/e,u=o/e,c=(o*n-i*t)/e,h=(o*t+i*n)/e;function d(e,r){return[a*e-s*r+t,n-s*e-a*r]}return d.invert=function(e,t){return[l*e-u*t+c,h-u*e-l*t]},d}function gr(e){return yr((function(){return e}))()}function yr(e){var t,n,r,i,o,a,s,l,u,c,h=150,d=480,m=250,v=0,g=0,y=0,b=0,_=0,T=0,S=null,k=St,w=null,E=on,C=.5;function O(e){return l(e[0]*p,e[1]*p)}function A(e){return(e=l.invert(e[0],e[1]))&&[e[0]*f,e[1]*f]}function M(){var e=vr(h,0,0,T).apply(null,t(v,g)),r=(T?vr:mr)(h,d-e[0],m-e[1],T);return n=rt(y,b,_),s=tt(t,r),l=tt(n,s),a=fr(s,C),P()}function P(){return u=c=null,O}return O.stream=function(e){return u&&c===e?u:u=pr(function(e){return or({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(a(E(c=e)))))},O.preclip=function(e){return arguments.length?(k=e,S=void 0,P()):k},O.postclip=function(e){return arguments.length?(E=e,w=r=i=o=null,P()):E},O.clipAngle=function(e){return arguments.length?(k=+e?kt(S=e*p):(S=null,St),P()):S*f},O.clipExtent=function(e){return arguments.length?(E=null==e?(w=r=i=o=null,on):Et(w=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),P()):null==w?null:[[w,r],[i,o]]},O.scale=function(e){return arguments.length?(h=+e,M()):h},O.translate=function(e){return arguments.length?(d=+e[0],m=+e[1],M()):[d,m]},O.center=function(e){return arguments.length?(v=e[0]%360*p,g=e[1]%360*p,M()):[v*f,g*f]},O.rotate=function(e){return arguments.length?(y=e[0]%360*p,b=e[1]%360*p,_=e.length>2?e[2]%360*p:0,M()):[y*f,b*f,_*f]},O.angle=function(e){return arguments.length?(T=e%360*p,M()):T*f},O.precision=function(e){return arguments.length?(a=fr(s,C=e*e),P()):x(C)},O.fitExtent=function(e,t){return lr(O,e,t)},O.fitSize=function(e,t){return ur(O,e,t)},O.fitWidth=function(e,t){return cr(O,e,t)},O.fitHeight=function(e,t){return hr(O,e,t)},function(){return t=e.apply(this,arguments),O.invert=t.invert&&A,M()}}function br(e){var t=0,n=u/3,r=yr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*p,n=e[1]*p):[t*f,n*f]},i}function _r(e,t){var n=k(e),r=(n+k(t))/2;if(m(r)<s)return function(e){var t=y(e);function n(e,n){return[e*t,k(n)/t]}return n.invert=function(e,n){return[e/t,O(n*t)]},n}(e);var i=1+n*(2*r-n),o=x(i)/r;function a(e,t){var n=x(i-2*r*k(t))/r;return[n*k(e*=r),o-n*y(e)]}return a.invert=function(e,t){var n=o-t;return[g(e,m(n))/r*w(n),O((i-(e*e+n*n)*r*r)/(2*r))]},a}var Tr=function(){return br(_r).scale(155.424).center([0,33.6442])},Sr=function(){return Tr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var kr=function(){var e,t,n,r,i,o,a=Sr(),l=Tr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Tr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function h(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function d(){return e=t=null,h}return h.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(e)},h.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),l.stream(n),u.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},h.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),u.precision(e),d()):a.precision()},h.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),u.scale(e),h.translate(a.translate())):a.scale()},h.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,h-.238*t],[o+.455*t,h+.238*t]]).stream(c),r=l.translate([o-.307*t,h+.201*t]).clipExtent([[o-.425*t+s,h+.12*t+s],[o-.214*t-s,h+.234*t-s]]).stream(c),i=u.translate([o-.205*t,h+.212*t]).clipExtent([[o-.214*t+s,h+.166*t+s],[o-.115*t-s,h+.234*t-s]]).stream(c),d()},h.fitExtent=function(e,t){return lr(h,e,t)},h.fitSize=function(e,t){return ur(h,e,t)},h.fitWidth=function(e,t){return cr(h,e,t)},h.fitHeight=function(e,t){return hr(h,e,t)},h.scale(1070)};function wr(e){return function(t,n){var r=y(t),i=y(n),o=e(r*i);return[o*i*k(t),o*k(n)]}}function xr(e){return function(t,n){var r=x(t*t+n*n),i=e(r),o=k(i),a=y(i);return[g(t*o,r*a),O(r&&n*o/r)]}}var Er=wr((function(e){return x(2/(1+e))}));Er.invert=xr((function(e){return 2*O(e/2)}));var Cr=function(){return gr(Er).scale(124.75).clipAngle(179.999)},Or=wr((function(e){return(e=C(e))&&e/k(e)}));Or.invert=xr((function(e){return e}));var Ar=function(){return gr(Or).scale(79.4188).clipAngle(179.999)};function Mr(e,t){return[e,T(E((c+t)/2))]}Mr.invert=function(e,t){return[e,2*v(_(t))-c]};var Pr=function(){return Ir(Mr).scale(961/d)};function Ir(e){var t,n,r,i=gr(e),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function h(){var o=u*a(),s=i(st(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===Mr?[[Math.max(s[0]-o,c),t],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),h()):a()},i.translate=function(e){return arguments.length?(s(e),h()):s()},i.center=function(e){return arguments.length?(o(e),h()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),h()):null==c?null:[[c,t],[n,r]]},h()}function Lr(e){return E((c+e)/2)}function Rr(e,t){var n=y(e),r=e===t?k(e):T(n/y(t))/T(Lr(t)/Lr(e)),i=n*S(Lr(e),r)/r;if(!r)return Mr;function o(e,t){i>0?t<-c+s&&(t=-c+s):t>c-s&&(t=c-s);var n=i/S(Lr(t),r);return[n*k(r*e),i-n*y(r*e)]}return o.invert=function(e,t){var n=i-t,o=w(r)*x(e*e+n*n);return[g(e,m(n))/r*w(n),2*v(S(i/o,1/r))-c]},o}var Dr=function(){return br(Rr).scale(109.5).parallels([30,30])};function Nr(e,t){return[e,t]}Nr.invert=Nr;var jr=function(){return gr(Nr).scale(152.63)};function Hr(e,t){var n=y(e),r=e===t?k(e):(n-y(t))/(t-e),i=n/r+e;if(m(r)<s)return Nr;function o(e,t){var n=i-t,o=r*e;return[n*k(o),i-n*y(o)]}return o.invert=function(e,t){var n=i-t;return[g(e,m(n))/r*w(n),i-w(r)*x(e*e+n*n)]},o}var Br=function(){return br(Hr).scale(131.154).center([0,13.9389])},Fr=1.340264,zr=-.081106,Vr=893e-6,Ur=.003796,Gr=x(3)/2;function Yr(e,t){var n=O(Gr*k(t)),r=n*n,i=r*r*r;return[e*y(n)/(Gr*(Fr+3*zr*r+i*(7*Vr+9*Ur*r))),n*(Fr+zr*r+i*(Vr+Ur*r))]}Yr.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Fr+zr*i+o*(Vr+Ur*i))-t)/(Fr+3*zr*i+o*(7*Vr+9*Ur*i)))*r)*i*i,!(m(n)<l));++a);return[Gr*e*(Fr+3*zr*i+o*(7*Vr+9*Ur*i))/y(r),O(k(r)/Gr)]};var Wr=function(){return gr(Yr).scale(177.158)};function qr(e,t){var n=y(t),r=y(e)*n;return[n*k(e)/r,k(t)/r]}qr.invert=xr(v);var Xr=function(){return gr(qr).scale(144.049).clipAngle(60)};function Kr(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?on:or({point:function(i,o){this.stream.point(i*e+n,o*t+r)}})}var $r=function(){var e,t,n,r,i,o,a=1,s=0,l=0,u=1,c=1,h=on,d=null,f=on;function p(){return r=i=null,o}return o={stream:function(e){return r&&i===e?r:r=h(f(i=e))},postclip:function(r){return arguments.length?(f=r,d=e=t=n=null,p()):f},clipExtent:function(r){return arguments.length?(f=null==r?(d=e=t=n=null,on):Et(d=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==d?null:[[d,e],[t,n]]},scale:function(e){return arguments.length?(h=Kr((a=+e)*u,a*c,s,l),p()):a},translate:function(e){return arguments.length?(h=Kr(a*u,a*c,s=+e[0],l=+e[1]),p()):[s,l]},reflectX:function(e){return arguments.length?(h=Kr(a*(u=e?-1:1),a*c,s,l),p()):u<0},reflectY:function(e){return arguments.length?(h=Kr(a*u,a*(c=e?-1:1),s,l),p()):c<0},fitExtent:function(e,t){return lr(o,e,t)},fitSize:function(e,t){return ur(o,e,t)},fitWidth:function(e,t){return cr(o,e,t)},fitHeight:function(e,t){return hr(o,e,t)}}};function Zr(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Zr.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(m(n)>s&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Qr=function(){return gr(Zr).scale(175.295)};function Jr(e,t){return[y(t)*k(e),k(t)]}Jr.invert=xr(O);var ei=function(){return gr(Jr).scale(249.5).clipAngle(90.000001)};function ti(e,t){var n=y(t),r=1+y(e)*n;return[n*k(e)/r,k(t)/r]}ti.invert=xr((function(e){return 2*v(e)}));var ni=function(){return gr(ti).scale(250).clipAngle(142)};function ri(e,t){return[T(E((c+t)/2)),-e]}ri.invert=function(e,t){return[-t,2*v(_(e))-c]};var ii=function(){var e=Ir(ri),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};n.d(t,"geoArea",(function(){return K})),n.d(t,"geoBounds",(function(){return ze})),n.d(t,"geoCentroid",(function(){return Je})),n.d(t,"geoCircle",(function(){return ct})),n.d(t,"geoClipAntimeridian",(function(){return St})),n.d(t,"geoClipCircle",(function(){return kt})),n.d(t,"geoClipExtent",(function(){return Mt})),n.d(t,"geoClipRectangle",(function(){return Et})),n.d(t,"geoContains",(function(){return Xt})),n.d(t,"geoDistance",(function(){return Bt})),n.d(t,"geoGraticule",(function(){return Zt})),n.d(t,"geoGraticule10",(function(){return Qt})),n.d(t,"geoInterpolate",(function(){return rn})),n.d(t,"geoLength",(function(){return Nt})),n.d(t,"geoPath",(function(){return rr})),n.d(t,"geoAlbers",(function(){return Sr})),n.d(t,"geoAlbersUsa",(function(){return kr})),n.d(t,"geoAzimuthalEqualArea",(function(){return Cr})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return Er})),n.d(t,"geoAzimuthalEquidistant",(function(){return Ar})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return Or})),n.d(t,"geoConicConformal",(function(){return Dr})),n.d(t,"geoConicConformalRaw",(function(){return Rr})),n.d(t,"geoConicEqualArea",(function(){return Tr})),n.d(t,"geoConicEqualAreaRaw",(function(){return _r})),n.d(t,"geoConicEquidistant",(function(){return Br})),n.d(t,"geoConicEquidistantRaw",(function(){return Hr})),n.d(t,"geoEqualEarth",(function(){return Wr})),n.d(t,"geoEqualEarthRaw",(function(){return Yr})),n.d(t,"geoEquirectangular",(function(){return jr})),n.d(t,"geoEquirectangularRaw",(function(){return Nr})),n.d(t,"geoGnomonic",(function(){return Xr})),n.d(t,"geoGnomonicRaw",(function(){return qr})),n.d(t,"geoIdentity",(function(){return $r})),n.d(t,"geoProjection",(function(){return gr})),n.d(t,"geoProjectionMutator",(function(){return yr})),n.d(t,"geoMercator",(function(){return Pr})),n.d(t,"geoMercatorRaw",(function(){return Mr})),n.d(t,"geoNaturalEarth1",(function(){return Qr})),n.d(t,"geoNaturalEarth1Raw",(function(){return Zr})),n.d(t,"geoOrthographic",(function(){return ei})),n.d(t,"geoOrthographicRaw",(function(){return Jr})),n.d(t,"geoStereographic",(function(){return ni})),n.d(t,"geoStereographicRaw",(function(){return ti})),n.d(t,"geoTransverseMercator",(function(){return ii})),n.d(t,"geoTransverseMercatorRaw",(function(){return ri})),n.d(t,"geoRotation",(function(){return st})),n.d(t,"geoStream",(function(){return z})),n.d(t,"geoTransform",(function(){return ir}))},function(e,t,n){"use strict";n.r(t);var r=n(72),i=n(65),o=function(e,t){var n,o,a,s,l=Object(i.a)("beforesend","progress","load","error"),u=Object(r.a)(),c=new XMLHttpRequest,h=null,d=null,f=0;function p(e){var t,r=c.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||r>=200&&r<300||304===r){if(a)try{t=a.call(n,c)}catch(e){return void l.call("error",n,e)}else t=c;l.call("load",n,t)}else l.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=p:c.onreadystatechange=function(e){c.readyState>3&&p(e)},c.onprogress=function(e){l.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u.get(e):(null==t?u.remove(e):u.set(e,t+""),n)},mimeType:function(e){return arguments.length?(o=null==e?null:e+"",n):o},responseType:function(e){return arguments.length?(s=e,n):s},timeout:function(e){return arguments.length?(f=+e,n):f},user:function(e){return arguments.length<1?h:(h=null==e?null:e+"",n)},password:function(e){return arguments.length<1?d:(d=null==e?null:e+"",n)},response:function(e){return a=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,i){return c.open(t,e,!0,h,d),null==o||u.has("accept")||u.set("accept",o+",*/*"),c.setRequestHeader&&u.each((function(e,t){c.setRequestHeader(t,e)})),null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=s&&(c.responseType=s),f>0&&(c.timeout=f),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(e){return function(t,n){e(null==t?n:null)}}(i)),null!=i&&n.on("error",i).on("load",(function(e){i(null,e)})),l.call("beforesend",n,c),c.send(null==r?null:r),n},abort:function(){return c.abort(),n},on:function(){var e=l.on.apply(l,arguments);return e===l?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n};var a=function(e,t){return function(n,r){var i=o(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},s=a("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),l=a("application/json",(function(e){return JSON.parse(e.responseText)})),u=a("text/plain",(function(e){return e.responseText})),c=a("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),h=n(104),d=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=o(n).mimeType(e);return a.row=function(e){return arguments.length?a.response(f(t,r=e)):r},a.row(r),i?a.get(i):a}};function f(e,t){return function(n){return e(n.responseText,t)}}var p=d("text/csv",h.csvParse),m=d("text/tab-separated-values",h.tsvParse);n.d(t,"request",(function(){return o})),n.d(t,"html",(function(){return s})),n.d(t,"json",(function(){return l})),n.d(t,"text",(function(){return u})),n.d(t,"xml",(function(){return c})),n.d(t,"csv",(function(){return p})),n.d(t,"tsv",(function(){return m}))},function(e,t,n){"use strict";n.r(t);var r=[].slice,i={};function o(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function a(e){if(!e._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,o=n[r];n[r]=s(e,t),--e._waiting,++e._active,n=o.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||i)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])l(e,t);else if(!e._data)throw t}}function s(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?l(e,n):(e._data[t]=r,e._waiting?a(e):u(e))))}}function l(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,u(e)}function u(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function c(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new o(e)}o.prototype=c.prototype={constructor:o,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=r.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),a(this),this},abort:function(){return null==this._error&&l(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},u(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,u(this),this}},n.d(t,"queue",(function(){return c}))}])}));